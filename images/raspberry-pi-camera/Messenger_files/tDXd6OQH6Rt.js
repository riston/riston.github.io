if (self.CavalryLogger) { CavalryLogger.start_js(["N7m37"]); }

__d("MessengerWebDriverTestIDs",[],(function a(b,c,d,e,f,g){f.exports={ANIMATED_IMAGE:"animated_image",ATTACHMENT_ROOT:"attachment_root",CHAT_SIDEBAR:"chat_sidebar",INFO_PANEL:"info_panel",INFO_PANEL_BUTTON:"info_panel_button",INFO_PANEL_TOGGLER_OPTION:"info_panel_toggler_option",STICKER:"sticker"};}),null);
__d("DOMWrapper",[],(function a(b,c,d,e,f,g){var h,i,j={setRoot:function k(l){h=l;},getRoot:function k(){return h||document.body;},setWindow:function k(l){i=l;},getWindow:function k(){return i||self;}};f.exports=j;}),null);
__d('htmlSpecialChars',[],(function a(b,c,d,e,f,g){var h=/&/g,i=/</g,j=/>/g,k=/\"/g,l=/\'/g;function m(n){if(typeof n=='undefined'||n===null||!n.toString)return '';if(n===false){return '0';}else if(n===true)return '1';return n.toString().replace(h,'&amp;').replace(k,'&quot;').replace(l,'&#039;').replace(i,'&lt;').replace(j,'&gt;');}f.exports=m;}),null);
__d('Flash',['DOMEventListener','DOMWrapper','QueryString','UserAgent_DEPRECATED','guid','htmlSpecialChars'],(function a(b,c,d,e,f,g){var h={},i,j=c('DOMWrapper').getWindow().document;function k(p){var q=j.getElementById(p);if(q)q.parentNode.removeChild(q);delete h[p];}function l(){for(var p in h)if(Object.prototype.hasOwnProperty.call(h,p))k(p);}function m(p){return p.replace(/\d+/g,function(q){return '000'.substring(q.length)+q;});}function n(p){if(!i){if(c('UserAgent_DEPRECATED').ie()>=9)c('DOMEventListener').add(window,'unload',l);i=true;}h[p]=p;}var o={embed:function p(q,r,s,t){var u=c('guid')();q=c('htmlSpecialChars')(q).replace(/&amp;/g,'&');s=babelHelpers['extends']({allowscriptaccess:'always',flashvars:t,movie:q},s);if(typeof s.flashvars=='object')s.flashvars=c('QueryString').encode(s.flashvars);var v=[];for(var w in s)if(Object.prototype.hasOwnProperty.call(s,w)&&s[w])v.push('<param name="'+c('htmlSpecialChars')(w)+'" value="'+c('htmlSpecialChars')(s[w])+'">');var x=r.appendChild(j.createElement('span')),y='<object '+(c('UserAgent_DEPRECATED').ie()?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':'type="application/x-shockwave-flash"')+'data="'+q+'" '+(s.height?'height="'+s.height+'" ':'')+(s.width?'width="'+s.width+'" ':'')+'id="'+u+'">'+v.join('')+'</object>';x.innerHTML=y;var z=x.firstChild;n(u);return z;},remove:k,getVersion:function p(){var q='Shockwave Flash',r='application/x-shockwave-flash',s='ShockwaveFlash.ShockwaveFlash',t;if(navigator.plugins&&typeof navigator.plugins[q]=='object'){var u=navigator.plugins[q].description;if(u&&navigator.mimeTypes&&navigator.mimeTypes[r]&&navigator.mimeTypes[r].enabledPlugin)t=u.match(/\d+/g);}if(!t)try{t=new ActiveXObject(s).GetVariable('$version').match(/(\d+),(\d+),(\d+),(\d+)/);t=Array.prototype.slice.call(t,1);}catch(v){}return t;},getVersionString:function p(){var q=o.getVersion();return q?q.join('.'):'';},checkMinVersion:function p(q){var r=o.getVersion();if(!r)return false;return m(r.join('.'))>=m(q);},isAvailable:function p(){return !!o.getVersion();}};f.exports=o;}),null);
__d('MercuryAudioPlayer',['Arbiter','DOM','Event','Flash'],(function a(b,c,d,e,f,g){var h=200;function i(){var r=c('DOM').create('audio'),s=false;try{if(!!r.canPlayType)if(r.canPlayType('video/mp4;').replace(/^no$/,''))s=true;}finally{return s;}}function j(){return c('Flash').isAvailable();}var k=function r(){this.interval=null;this.arbiterInstance=null;this.audio=c('DOM').create('audio');c('Event').listen(this.audio,'playing',function(){this.informAttachment('playing',this.audio.currentTime);this.interval=setInterval(function(){this.informAttachment('playing',this.audio.currentTime);}.bind(this),h);}.bind(this));c('Event').listen(this.audio,'ended',function(){clearInterval(this.interval);this.informAttachment('finished');}.bind(this));};Object.assign(k.prototype,{setAudio:function r(s,t){this.audio.setAttribute('src',s);this.arbiterInstance=t;},informAttachment:function r(s,t){if(this.arbiterInstance)this.arbiterInstance.inform(s,t);},play:function r(){this.audio.play();this.informAttachment('played');},resume:function r(){this.audio.play();this.informAttachment('played');},pause:function r(){this.audio.pause();clearInterval(this.interval);this.informAttachment('paused');},getType:function r(){return 'html5';}});var l=function r(){this.src=null;this.arbiterInstance=null;var s=c('DOM').create('div');document.body.appendChild(s);this.swf=c('Flash').embed('/swf/cigars/SoundStreamPlayer.swf',s,null,{});this.interval=null;c('Arbiter').subscribe('soundstream/finished',function(){clearInterval(this.interval);this.informAttachment('finished');}.bind(this));};Object.assign(l.prototype,{setAudio:function r(s,t){this.src=s;this.arbiterInstance=t;},informAttachment:function r(s,t){if(this.arbiterInstance)this.arbiterInstance.inform(s,t);},play:function r(){this.swf.playSound(this.src);this.interval=setInterval(function(){var s=this.swf.getCurrentTime();this.informAttachment('playing',s);}.bind(this),h);this.informAttachment('played');},resume:function r(){this.swf.resume();this.informAttachment('played');},pause:function r(){clearInterval(this.interval);this.swf.pause();this.informAttachment('paused');},getType:function r(){return 'flash';}});function m(){if(i()){return new k();}else if(j())return new l();return false;}var n=null,o=null,p=0;function q(r,s){this.src=r;this.arbiterInstance=s;this.audio_id=++p;n!==null||(n=m());if(!n)return false;}Object.assign(q.prototype,{getType:function r(){if(!n){return false;}else return n.getType();},play:function r(s){if(s&&o==this.audio_id){n.resume();}else{this.pause();o=this.audio_id;n.setAudio(this.src,this.arbiterInstance);n.play();}},pause:function r(){n.pause();}});f.exports=q;}),null);
__d('messengerCustomColorUtils',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j){j=j||{};j.backgroundColor=i;return j;}f.exports={customBubbleStyle:h};}),null);
__d('MercuryAttachmentAudioClip.react',['cssVar','cx','fbt','Arbiter','ArbiterMixin','MercuryAudioPlayer','CurrentUser','JSLogger','LeftRight.react','Link.react','MercuryShareAttachmentRenderLocations','React','SubscriptionsHandler','WorkModeConfig','joinClasses','messengerCustomColorUtils','shield'],(function a(b,c,d,e,f,g,h,i,j){var k=c('React').PropTypes,l='MercuryAttachmentAudioClip/play',m='progress-bar',n=c('JSLogger').create('mercury_audio_clip'),o=c('React').createClass({displayName:'AudioClip',mixins:[c('ArbiterMixin')],propTypes:{customColor:k.string,duration:k.number,isChat:k.bool,isFromViewer:k.bool,location:k.oneOf(c('MercuryShareAttachmentRenderLocations').getValues()),onAttachmentLoad:k.func,rootClassName:k.string,showHelp:k.bool,src:k.string.isRequired,width:k.number},getInitialState:function p(){this.logged=false;return {time:0,playing:false,started:false,duration:this.props.duration,audioPlayer:new (c('MercuryAudioPlayer'))(this.props.src,this)};},componentDidMount:function p(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this._subscriptionsHandler=new (c('SubscriptionsHandler'))();this._subscriptionsHandler.addSubscriptions(this.subscribe('playing',this.updateTime),this.subscribe('played',c('shield')(this.setState,this,{playing:true,started:true})),this.subscribe('paused',c('shield')(this.setState,this,{playing:false})),this.subscribe('finished',c('shield')(this.setState,this,{playing:false,started:false,time:this.props.duration})),c('Arbiter').subscribe(l,function(q,r){if(this.props.src!=r)this.setState({time:0});}.bind(this)));},componentWillUnmount:function p(){this._subscriptionsHandler&&this._subscriptionsHandler.release();},updateTime:function p(q,r){this.setState({time:r});},play:function p(){if(this.state.playing){this.state.audioPlayer.pause();}else{this.state.audioPlayer.play(this.state.started);c('Arbiter').inform(l,this.props.src);if(!this.logged){this.logged=true;n.log('play',{uid:c('CurrentUser').getID(),duration:this.props.duration});}}},_formatSeconds:function p(q){if(q){q=Math.round(q);var r=q%60;if(r<10)r='0'+r;var s=Math.floor(q/60);return s+':'+r;}else return null;},_renderPlayer:function p(q,r,s){var t=this.props.isFromViewer,u=this.props.isChat,v=c('WorkModeConfig').is_work_user,w=s===m,x=u&&t&&!w,y=this.props.location===c('MercuryShareAttachmentRenderLocations').MESSENGER,z=v?"#373e4c":"#4080ff",aa=s||z,ba={width:q};if(x)c('messengerCustomColorUtils').customBubbleStyle(aa,ba);var ca=s&&s!==m&&!u?{color:s}:{},da={};if(w)da['aria-disabled']=true;return c('React').createElement(c('Link.react'),babelHelpers['extends']({'aria-label':j._("Voice Message"),className:"_1miz"+(' '+"_2e-1")+(!y?' '+"_3_om":'')+(t&&u?' '+"_3e5f":''),role:'button',style:ba,onClick:this.play},da),c('React').createElement('span',{className:"_1mi- _2e-2"},c('React').createElement('i',{className:"_1mi_ _2e-3"})),c('React').createElement('span',{style:ca,className:"_1mj0 _2e-4 _3oh-"},r),c('React').createElement('div',{className:"_1mj1 _2e-5"}));},render:function p(){var q=this.state.time,r=this.state.playing,s=this._formatSeconds(this.state.duration),t=this.props.location===c('MercuryShareAttachmentRenderLocations').MESSENGER,u=this.props.width||170;if(t){var v=this.props.duration;if(v>10){u=240;}else if(v>5){u=200;}else if(v>2){u=160;}else u=120;}var w=null,x=Math.ceil(q*(u+2)/this.state.duration);if(t)x=Math.ceil(q*(u+24)/this.state.duration);if(this.state.audioPlayer&&this.state.audioPlayer.getType()){var y=this._renderPlayer(u,s,this.props.customColor),z=this._renderPlayer(u,s,m),aa="_1mj2"+(' '+"_2e-6")+(r&&q!==0?' '+"_1mj3":'')+(r&&q===0?' '+"_4g4x":'');w=c('React').createElement('div',{className:aa},y,c('React').createElement('div',{className:"_1mj4 _2e-7",style:{width:x}},z));}else w=c('React').createElement('div',{className:"_1mj2"},c('React').createElement('div',{className:"_1miz"},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('a',{className:"_1mj5",href:this.props.src},c('React').createElement('span',{className:"_3qi6"},c('React').createElement('i',{className:"_1mj6"})),c('React').createElement('span',{className:"_1mj7"},j._("Voice Message")),c('React').createElement('span',{className:"_1mj8"},s)),c('React').createElement('a',{href:this.props.src,className:"_1mj9"},c('React').createElement('i',{className:"_1mja"})))));return c('React').createElement('div',{className:c('joinClasses')("_1mjb"+(t?' '+"_454y":''),this.props.rootClassName)},w);}});f.exports=o;}),null);
__d('MercuryAttachmentError.react',['fbt','XUINotice.react','XUIText.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement(c('XUINotice.react'),{use:'warn'},c('React').createElement(c('XUIText.react'),{size:'small'},h._("This attachment could not be loaded.")));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('MercuryAttachmentFile.react',['ix','cx','fbt','Image.react','LeftRight.react','Link.react','MercuryAttachment','React','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').PureComponent);l=k&&k.prototype;n.prototype.componentDidMount=function(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad();};n.prototype.$MercuryAttachmentFile1=function(){if(this.props.open_url){var o={url:(this.props.url||'').toString(),shimhash:this.props.shimhash};return c('React').createElement('div',{className:"_59gs"},c('React').createElement(c('Link.react'),{target:'_blank',href:this.props.open_url},j._("open")),' ','\u00B7',' ',c('React').createElement(c('Link.react'),{href:o,s:this.props.isSafeToSkipShim?'1':''},j._("download")));}return c('React').createElement('div',null);};n.prototype.render=function(){var o=c('joinClasses')(c('MercuryAttachment').getAttachIconClass(this.props.type),"_59go _59gq");if(this.props.url){var p={url:(this.props.url||'').toString(),shimhash:this.props.shimhash};return c('React').createElement(c('LeftRight.react'),{className:o},c('React').createElement(c('Link.react'),{href:p,s:this.props.isSafeToSkipShim?'1':''},c('React').createElement(c('LeftRight.react'),null,c('React').createElement(c('Image.react'),{src:h("86988")}),c('React').createElement('span',{className:"_59gp"},this.props.name))),this.$MercuryAttachmentFile1());}return c('React').createElement(c('LeftRight.react'),{className:o},c('React').createElement(c('Image.react'),{src:h("86988")}),c('React').createElement('span',{className:"_59gp"},this.props.name));};function n(){k.apply(this,arguments);}n.propTypes={isSafeToSkipShim:m.bool,name:m.string.isRequired,onAttachmentLoad:m.func,open_url:m.string,rel:m.string,shimhash:m.string,type:m.string.isRequired,url:m.string};f.exports=n;}),null);
__d('MercuryAttachmentMalicious.react',['fbt','XUINotice.react','XUIText.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement(c('XUINotice.react'),{use:'warn'},c('React').createElement(c('XUIText.react'),{size:'small'},h._("This attachment has been marked as malicious.")));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('MercuryAttachmentViewer',['Bootloader','MessagesViewer','React','Run','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';var h={renderVideo:function i(j){c('Bootloader').loadModules(["MessagingVideoViewer.react","MessagingForwardAttachmentDialog.react"],function(k,l){c('MessagesViewer').renderVideo(c('React').createElement(k,babelHelpers['extends']({},j,{forwardDialogComponent:l})));},'MercuryAttachmentViewer');},bootstrapWithConfig:function i(j,k){c('Bootloader').loadModules(["SpotlightMessagesViewer","MessagingForwardAttachmentDialog.react"],function(l,m){c('MessagesViewer').renderSpotlight(j,k,l,m);},'MercuryAttachmentViewer');},preload:function i(){c('Run').onAfterLoad(function(){c('Bootloader').loadModules(["MessagingVideoViewer.react","SpotlightMessagesViewer","MessagingForwardAttachmentDialog.react"],c('emptyFunction'),'MercuryAttachmentViewer');});}};f.exports=h;}),null);
__d('MercuryAttachmentPhoto.react',['ChatImageArrowDirection','ChatImageWithArrow.react','MercuryAttachmentViewer','MercuryIDs','MercuryMessageInfo','MessagesViewerSetID','React','SpotlightMercurySharedMediaViewer.react','URI','getPageIDFromThreadID'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={newSharedPhotosView:false},this.$MercuryAttachmentPhoto1=function(q){var r=this.props.image,s=true;if(!this.props.hasAttribution&&this.props.count)s=this.props.count===1;var t=this.props.message,u=t.thread_fbid?t.thread_fbid:c('MercuryIDs').getThreadFBIDFromThreadID(t.thread_id),v=new (c('URI'))('/ajax/messaging/attachments/sharedphotos.php').setQueryData({thread_id:u,image_id:r.metadata.fbid}),w=c('MessagesViewerSetID').MESSAGES_VIEW_ALL_IN_THREAD;c('MercuryAttachmentViewer').bootstrapWithConfig({dimensions:r.metadata.dimensions,disablePaging:s,endpoint:v,fbid:r.metadata.fbid,setID:w,src:r.preview_url},null);}.bind(this),this.$MercuryAttachmentPhoto2=function(){var q=this.props.image;if(q&&q.metadata)this.setState({newSharedPhotosView:q.metadata.fbid});}.bind(this),this.$MercuryAttachmentPhoto3=function(){this.setState({newSharedPhotosView:null});}.bind(this),m;}k.prototype.componentDidMount=function(){c('MercuryAttachmentViewer').preload();this.props.onAttachmentLoad&&this.props.onAttachmentLoad(this.props.height);};k.prototype.$MercuryAttachmentPhoto4=function(){var l=this.props.message.thread_fbid||this.props.message.thread_id&&c('MercuryIDs').getThreadFBIDFromThreadID(this.props.message.thread_id);return c('React').createElement(c('SpotlightMercurySharedMediaViewer.react'),{onClosePhotoView:this.$MercuryAttachmentPhoto3,photoID:String(this.state.newSharedPhotosView),rootClassName:'',threadID:l,disableForward:false,enableShareToFB:true});};k.prototype.render=function(){var l=c('MercuryMessageInfo').isInbound(this.props.message),m=!!c('getPageIDFromThreadID')(this.props.message.thread_id),n=!this.props.hasAttribution&&!m?this.$MercuryAttachmentPhoto2:this.$MercuryAttachmentPhoto1,o=this.state.newSharedPhotosView?this.$MercuryAttachmentPhoto4():null;return c('React').createElement('div',{onFocus:this.$MercuryAttachmentPhoto5},o,c('React').createElement(c('ChatImageWithArrow.react'),{arrowDirection:l?c('ChatImageArrowDirection').LEFT:c('ChatImageArrowDirection').RIGHT,source:this.props.image.preview_url,height:this.props.height,width:this.props.width,onClick:n,round:!!this.props.round,isLoading:!!this.props.image.preview_uploading}));};k.prototype.$MercuryAttachmentPhoto5=function(event){event.stopPropagation();};k.propTypes={hasAttribution:j.bool,height:j.number,image:j.object.isRequired,message:j.object.isRequired,onAttachmentLoad:j.func,round:j.bool,width:j.number};f.exports=k;}),null);
__d('ChatGridImage.react',['cx','Link.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$ChatGridImage1=function(){this.props.metadata?this.props.onClick(String(this.props.metadata.fbid)):this.props.onClick();}.bind(this),n;}l.prototype.render=function(){if(this.props.isLoading)return c('React').createElement('div',{className:"_4ypb",style:{width:this.props.size,height:this.props.size}});return c('React').createElement(c('Link.react'),{onClick:this.$ChatGridImage1},c('React').createElement('div',{className:"_332l",style:{backgroundImage:'url('+this.props.source+')',width:this.props.size,height:this.props.size}}));};l.propTypes={isLoading:k.bool,metadata:k.object,onClick:k.func,size:k.number.isRequired,source:k.string};f.exports=l;}),null);
__d('MercuryAttachmentPhotoGrid.react',['cx','ChatGridImage.react','Grid.react','MercuryAttachmentType','MercuryAttachmentViewer','MercuryIDs','MessagesViewerSetID','React','SpotlightMercurySharedMediaViewer.react','URI','getPageIDFromThreadID'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('Grid.react').GridItem,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={newSharedPhotosView:null},this.$MercuryAttachmentPhotoGrid1=function(s,t){var u=this.props.count,v=this.props.message,w=v.thread_fbid?v.thread_fbid:c('MercuryIDs').getThreadFBIDFromThreadID(v.thread_id),x=new (c('URI'))('/ajax/messaging/attachments/sharedphotos.php').setQueryData({thread_id:w,image_id:s.metadata&&s.metadata.fbid}),y=c('MessagesViewerSetID').MESSAGES_VIEW_ALL_IN_THREAD;return function(z){c('MercuryAttachmentViewer').bootstrapWithConfig({dimensions:s.metadata.dimensions,disablePaging:t||u===1,endpoint:x,fbid:s.metadata.fbid,setID:y,src:s.preview_url},null);};}.bind(this),this.$MercuryAttachmentPhotoGrid2=function(s){if(s)this.setState({newSharedPhotosView:s});}.bind(this),this.$MercuryAttachmentPhotoGrid3=function(){this.setState({newSharedPhotosView:null});}.bind(this),o;}m.prototype.componentDidMount=function(){c('MercuryAttachmentViewer').preload();};m.prototype.$MercuryAttachmentPhotoGrid4=function(){var n=this.props.message.thread_fbid||this.props.message.thread_id&&c('MercuryIDs').getThreadFBIDFromThreadID(this.props.message.thread_id);return c('React').createElement(c('SpotlightMercurySharedMediaViewer.react'),{onClosePhotoView:this.$MercuryAttachmentPhotoGrid3,photoID:String(this.state.newSharedPhotosView),rootClassName:'',threadID:n,disableForward:false});};m.prototype.render=function(){var n=this.props.images,o=n.length,p=o==2||o==4?2:3,q=Math.floor(this.props.size/p),r=[],s=n.some(function(x){return x.attach_type===c('MercuryAttachmentType').ANIMATED_IMAGE;}),t=this.state.newSharedPhotosView?this.$MercuryAttachmentPhotoGrid4():null,u=!!c('getPageIDFromThreadID')(this.props.message.thread_id);for(var v=0;v<n.length;v++){var w=!u?this.$MercuryAttachmentPhotoGrid2:this.$MercuryAttachmentPhotoGrid1(n[v],s);r.push(c('React').createElement(k,{key:v},c('React').createElement(c('ChatGridImage.react'),{isLoading:!!n[v].preview_uploading,onClick:w,metadata:n[v].metadata,size:q,source:n[v].preview_url})));}return c('React').createElement('div',null,t,c('React').createElement(c('Grid.react'),{cols:p,className:"_5b2w",spacing:"_5b2x",alignh:'right'},r));};m.propTypes={images:l.arrayOf(l.object).isRequired,size:l.number.isRequired,message:l.object.isRequired};f.exports=m;}),null);
__d('MercuryAttachmentAttribution.react',['cx','fbt','Image.react','ImmutableObject','Link.react','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=this.$MercuryAttachmentAttribution1();if(!n)return null;return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_29ew")},c('React').createElement(c('Image.react'),{src:n.icon_url,className:"_29ex"}),c('React').createElement('span',{className:"_29ey"},n.name),this.$MercuryAttachmentAttribution2());};m.prototype.$MercuryAttachmentAttribution1=function(){return this.props.attachment&&this.props.attachment.app_attribution;};m.prototype.$MercuryAttachmentAttribution2=function(){var n=this.$MercuryAttachmentAttribution1();if(!n||!n.metadata)return null;var o="_439n",p=void 0;try{p=JSON.parse(n.metadata);}catch(q){return null;}if(p.spotify_link)return c('React').createElement(c('Link.react'),{className:o,href:p.spotify_link,target:'_blank'},i._("Open"));return null;};function m(){j.apply(this,arguments);}m.propTypes={attachment:l.instanceOf(c('ImmutableObject'))};f.exports=m;}),null);
__d('ChatAttachmentAttribution.react',['cx','ImmutableObject','MercuryAttachmentAttribution.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.componentDidMount=function(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad();};l.prototype.render=function(){return c('React').createElement(c('MercuryAttachmentAttribution.react'),{attachment:this.props.attachment,className:"_1ekr _4i_6"});};function l(){i.apply(this,arguments);}l.propTypes={attachment:k.instanceOf(c('ImmutableObject')),onAttachmentLoad:k.func};f.exports=l;}),null);
__d('MercuryAttachmentVideo.react',['cx','ix','ChatAttachmentAttribution.react','ChatImageWithArrow.react','ChatSpeakingSticker.react','CenteredContainer.react','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','Image.react','ImmutableObject','MercuryAttachment','MercuryAttachmentViewer','MessengerVideoPlayer.react','React','SpotlightMercurySharedMediaViewer.react','Vector','getPageIDFromThreadID','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={newSharedPhotosView:null},this.$MercuryAttachmentVideo1=function(){var s=this.props.duration,t=Math.floor(s/60),u=s%60;if(u<10)return t+':0'+u;return t+':'+u;}.bind(this),this.openViewer=function(){var s=this.props,t=s.pageID,u=s.videoID,v=s.videoSize,w=s.videoURI;v=new (c('Vector'))(v.width,v.height);c('MercuryAttachmentViewer').renderVideo({pageID:t,videoID:u,videoSize:v,videoURI:w});}.bind(this),this.$MercuryAttachmentVideo2=function(){if(this.props.videoID)this.setState({newSharedPhotosView:this.props.videoID});}.bind(this),this.$MercuryAttachmentVideo3=function(){this.setState({newSharedPhotosView:null});}.bind(this),this.$MercuryAttachmentVideo5=function(){if(this.props.isChat){return c('React').createElement('div',null,c('React').createElement(c('ChatImageWithArrow.react'),{height:this.props.thumbSize.height,key:'previewImage',round:true,source:this.props.thumbnail,width:this.props.thumbSize.width}),c('React').createElement(c('ChatAttachmentAttribution.react'),{attachment:this.props.attachment,key:'chatAttribution'}));}else return c('React').createElement(c('Image.react'),{height:this.props.thumbSize.height,width:this.props.thumbSize.width,src:this.props.thumbnail});}.bind(this),this.$MercuryAttachmentVideo6=function(){if(this.props.isChat)return {};return this.props.thumbSize;}.bind(this),o;}m.prototype.componentDidMount=function(){'use strict';this.props.onAttachmentLoad&&this.props.onAttachmentLoad();c('MercuryAttachmentViewer').preload();};m.prototype.$MercuryAttachmentVideo4=function(){'use strict';return c('React').createElement(c('SpotlightMercurySharedMediaViewer.react'),{onClosePhotoView:this.$MercuryAttachmentVideo3,photoID:this.state.newSharedPhotosView,rootClassName:'',threadID:this.props.threadFBID,disableForward:false});};m.prototype.$MercuryAttachmentVideo7=function(n,o){'use strict';if(!n.legacy_attachment_id)return null;return c('React').createElement(c('MessengerVideoPlayer.react'),{attachment:this.props.attachment,videoData:n,isInThread:true,isVisible:this.props.isVisible,onClick:o,className:c('joinClasses')(this.props.className,"_n4o"+(' '+"_3_om")+(' '+"_1wno"))});};m.prototype.$MercuryAttachmentVideo8=function(n){'use strict';var o=this.props.thumbSize,p={x:o.width,y:o.height};return {legacy_attachment_id:this.props.videoID,original_dimensions:p,start_muted:true,no_fullscreen:true,hide_controls_on_finish:true,url:this.props.videoURI};};m.prototype.render=function(){'use strict';if(this.props.attachment.metadata&&this.props.attachment.metadata.render_as_sticker&&this.props.isChat)return c('React').createElement(c('ChatSpeakingSticker.react'),{videoURI:this.props.videoURI,videoSize:this.props.videoSize});var n=!!c('getPageIDFromThreadID')(this.props.threadID),o=!n?this.$MercuryAttachmentVideo2:this.openViewer,p=this.state.newSharedPhotosView&&this.props.threadFBID?this.$MercuryAttachmentVideo4():null,q=c('MercuryAttachment').hasAttribution(this.props.attachment),r="clearfix"+(' '+"_zow")+(' '+"_59go")+(q?' '+"_4yjw":'')+(this.props.isChat?' '+"_3ds5":''),s=this.$MercuryAttachmentVideo8(this.props.attachment),t=this.$MercuryAttachmentVideo7(s,o),u=t?t:c('React').createElement(c('FBOverlayContainer.react'),{className:r,key:'overlayContainer',onClick:o,style:this.$MercuryAttachmentVideo6()},c('React').createElement(c('FBOverlayBase.react'),null,this.$MercuryAttachmentVideo5()),c('React').createElement(c('FBOverlayElement.react'),null,c('React').createElement('div',{className:(!this.props.isChat?"_zox":'')+(q?' '+"_jt3":'')},c('React').createElement('span',{className:"_zoz"},this.$MercuryAttachmentVideo1()))),c('React').createElement(c('FBOverlayElement.react'),null,c('React').createElement(c('CenteredContainer.react'),{className:q?"_jt3":'',vertical:true},c('React').createElement(c('Image.react'),{src:i("27983")}))));if(this.props.isChat)return c('React').createElement('div',null,p,u);return c('React').createElement('div',null,p,u,c('React').createElement(c('ChatAttachmentAttribution.react'),{attachment:this.props.attachment,key:'inboxAttribution'}));};m.propTypes={attachment:l.instanceOf(c('ImmutableObject')),duration:l.number.isRequired,isChat:l.bool,isVisible:l.bool,threadID:l.string,threadFBID:l.string,name:l.string.isRequired,onAttachmentLoad:l.func,pageID:l.number,thumbSize:l.shape({height:l.number,width:l.number}).isRequired,thumbnail:l.string.isRequired,videoSize:l.shape({height:l.number,width:l.number}).isRequired,videoID:l.string.isRequired,videoURI:l.string.isRequired};f.exports=m;}),null);
__d('MessengerFromViewerUtils',['CurrentUser','MercuryIDs'],(function a(b,c,d,e,f,g){'use strict';function h(i){return i.author===c('MercuryIDs').getParticipantIDFromUserID(c('CurrentUser').getID());}f.exports={isFromViewer:h};}),null);
__d('HotLikeSound',['MercurySoundsConfig','SoundPlayer','StickerConstants'],(function a(b,c,d,e,f,g){'use strict';var h=[c('MercurySoundsConfig').hot_like_grow_mp3_url,c('MercurySoundsConfig').hot_like_grow_ogg_url],i=[c('MercurySoundsConfig').hot_like_pop_mp3_url,c('MercurySoundsConfig').hot_like_pop_ogg_url],j=[c('MercurySoundsConfig').hot_like_outgoing_small_mp3_url,c('MercurySoundsConfig').hot_like_outgoing_small_ogg_url],k=[c('MercurySoundsConfig').hot_like_outgoing_medium_mp3_url,c('MercurySoundsConfig').hot_like_outgoing_medium_ogg_url],l=[c('MercurySoundsConfig').hot_like_outgoing_large_mp3_url,c('MercurySoundsConfig').hot_like_outgoing_large_ogg_url],m=function o(){return false;},n={setCheckSoundEnabledFunc:function o(p){m=p;},start:function o(){this._play(h);},stop:function o(){c('SoundPlayer').stop(h);},pop:function o(){this.stop();this._play(i);},snap:function o(p){this.stop();if(p===c('StickerConstants').HOT_LIKE_SMALL_STICKER_ID)this._play(j);if(p===c('StickerConstants').HOT_LIKE_MEDIUM_STICKER_ID)this._play(k);if(p===c('StickerConstants').HOT_LIKE_LARGE_STICKER_ID)this._play(l);},_play:function o(p){if(m())c('SoundPlayer').play(p);}};f.exports=n;}),null);
__d('MessengerHotLikePreview.react',['cx','Animation','EmojiLikeConstants','HotLikeSound','MessengerHotLikePreviewEvents','MessengerHotLikeSVG.react','MessengerHotLikeUtils','MessengerSupportedEmojiUtils','React','ReactDOM','StickerConstants','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MessengerHotLikePreview5=function(){this.$MessengerHotLikePreview6=new (c('Animation'))(c('ReactDOM').findDOMNode(this));this.$MessengerHotLikePreview7(-2,2,150,1000);this.$MessengerHotLikePreview7(-4,4,100,1000);this.$MessengerHotLikePreview7(-10,10,75,1000);this.$MessengerHotLikePreview6.go();}.bind(this),this.$MessengerHotLikePreview7=function(r,s,t,u){var v=Math.floor(u/t),w=null;for(var x=0;x<v;x++){w=x%2?r:s;this.$MessengerHotLikePreview6.to('rotateZ',w).duration(t).checkpoint();}}.bind(this),this.$MessengerHotLikePreview2=function(r,s){var t=s?c('MessengerHotLikePreviewEvents').FINISH_EMOJI_ANIMATION:c('MessengerHotLikePreviewEvents').FINISH_ANIMATION;if(this.$MessengerHotLikePreview8)return;this.$MessengerHotLikePreview8=true;var u=Date.now()-this.props.since,v=null;if(this.props.customLike)v=c('MessengerHotLikeUtils').getEmojiSizeForTime(u);var w=c('MessengerHotLikeUtils').getStickerIDForTime(u);c('HotLikeSound').snap(w);var x=c('MessengerHotLikeUtils').getMetadataForHotLike(v||w);this.$MessengerHotLikePreview6.stop();var y=30,z=-10;if(w===c('StickerConstants').HOT_LIKE_SMALL_STICKER_ID){y=0;z=0;}this.$MessengerHotLikePreview4.stop().to('width',x.width*1.2).to('height',x.height*1.2).to('rotateZ',y).duration(100).checkpoint().to('width',x.width*.9).to('height',x.height*.9).to('rotateZ',z).duration(100).checkpoint().to('width',x.width).to('height',x.height).to('rotateZ',0).duration(100).ondone(function(){c('MessengerHotLikePreviewEvents').emit(t,r,w,v);}).go();}.bind(this),this.$MessengerHotLikePreview3=function(r){c('HotLikeSound').pop();this.$MessengerHotLikePreview4.stop().to('width',0).to('height',0).duration(100).ondone(function(){c('MessengerHotLikePreviewEvents').emit(c('MessengerHotLikePreviewEvents').REMOVE,r);}).go();}.bind(this),n;}l.prototype.componentDidMount=function(){this.$MessengerHotLikePreview1=new (c('SubscriptionsHandler'))();this.$MessengerHotLikePreview1.addSubscriptions(c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').STOP,this.$MessengerHotLikePreview2),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').STOP_EMOJI,this.$MessengerHotLikePreview2),c('MessengerHotLikePreviewEvents').addListener(c('MessengerHotLikePreviewEvents').POP,this.$MessengerHotLikePreview3));c('HotLikeSound').start();this.$MessengerHotLikePreview4=new (c('Animation'))(c('ReactDOM').findDOMNode(this)).to('width',80).to('height',80).duration(3000).go();this.$MessengerHotLikePreview5();};l.prototype.componentWillUnmount=function(){this.$MessengerHotLikePreview1&&this.$MessengerHotLikePreview1.release();};l.prototype.render=function(){if(this.props.customLike){var m=this.props.customLike,n=c('MessengerSupportedEmojiUtils').getNewEmojiData(m.emoji,c('EmojiLikeConstants').size.LARGE),o=n?n.url:this.props.customLike.large;if(m.uri)o=m.uri;return c('React').createElement('div',{className:"_4a9g _383m",style:{backgroundImage:'url('+o+')'}});}return c('React').createElement('div',{className:"_4a9g _576q"},c('React').createElement(c('MessengerHotLikeSVG.react'),{color:this.props.customColor}));};l.propTypes={customLike:k.object,since:k.number};f.exports=l;}),null);
__d('EmojiSticker.react',['cx','Image.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.componentDidMount=function(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad();};l.prototype.render=function(){var m=this.props.emojiImage?this.props.emojiImage:c('React').createElement(c('Image.react'),{src:this.props.sourceURI});return c('React').createElement('div',{'aria-label':this.props.emoji,className:c('joinClasses')(this.props.className,"_383m"),tabIndex:'0'},m);};function l(){i.apply(this,arguments);}l.propTypes={emoji:k.string,emojiImage:k.any,onAttachmentLoad:k.func,sourceURI:k.string.isRequired};f.exports=l;}),null);
__d('MercuryAttachmentRenderer',['cx','MercuryAttachmentAudioClip.react','ChatAttachmentAttribution.react','EmojiSticker.react','ImmutableObject','MercuryAttachment','MercuryAttachmentFile.react','MercuryAttachmentPhoto.react','MercuryAttachmentPhotoGrid.react','MercuryAttachmentVideo.react','MercuryIDs','MercuryShareAttachment.react','MercuryShareAttachmentRenderLocations','MessagingGiftWrapChecker','MessengerFromViewerUtils','MessengerHotLikeUtils','MessengerSupportedEmojiUtils','MessengerWebDriverTestIDs','React','Sticker.react','StickerAssetType','StickerConstants','StoryAttachmentStyle','idx','XStickerAssetController'],(function a(b,c,d,e,f,g,h){'use strict';var i=12,j={renderFile:function k(l,m,n){return c('React').createElement(c('MercuryAttachmentFile.react'),{isSafeToSkipShim:l.url_skipshim,name:l.name,onAttachmentLoad:n,open_url:m?null:l.open_url,rel:l.rel,shimhash:l.url_shimhash,type:l.icon_type,url:l.url});},renderAudioClip:function k(l,m,n,o,p){var q=l.metadata.duration/1000,r=c('MercuryShareAttachmentRenderLocations').CHAT,s=100,t=m?160:400,u=100;if(q>=5)u=(1-Math.pow(10,(q-5)/-30))*(t-s)+s;return [c('React').createElement(c('MercuryAttachmentAudioClip.react'),{customColor:n,duration:l.metadata.duration/1000,isChat:m,isFromViewer:c('MessengerFromViewerUtils').isFromViewer(o),location:r,key:'audioClip',onAttachmentLoad:p,rootClassName:c('MercuryAttachment').hasAttribution(l)?"_4yjw":'',showHelp:false,src:l.url,width:u}),c('React').createElement(c('ChatAttachmentAttribution.react'),{attachment:new (c('ImmutableObject'))(l),key:'audioAttribution',onAttachmentLoad:p})];},renderVideo:function k(l,m,n,o,p){var q=m?l.metadata.chat_size:l.metadata.inbox_size,r=m?l.metadata.chat_preview:l.metadata.inbox_preview;if(!q||!r)return null;var s=n&&(n.thread_fbid||n.thread_id&&c('MercuryIDs').getThreadFBIDFromThreadID(n.thread_id));return c('React').createElement('div',null,c('React').createElement(c('MercuryAttachmentVideo.react'),{attachment:new (c('ImmutableObject'))(l),duration:l.metadata.duration,isChat:m,isVisible:p,threadID:n&&n.thread_id,threadFBID:s,name:l.name,onAttachmentLoad:o,pageID:l.metadata.pageid,thumbSize:q,thumbnail:r,videoSize:l.metadata.dimensions,videoID:l.metadata.fbid,videoURI:l.url}));},constructStickerComponent:function k(l,m,n,o,p,q){var r=o?'chatScrolled/':'messengerScrolled/';r+=l.thread_id;if(!m){m=c('MessengerHotLikeUtils').getMetadataForHotLike(l.sticker_id);if(!m){var s={},t={height:c('StickerConstants').THREAD_SIZE,width:c('StickerConstants').THREAD_SIZE},u=t.height,v=t.width;s.height=u;s.width=v;s.stickerID=l.sticker_id;s.spriteURI='';s.spriteURI2x='';s.paddedSpriteURI='';s.paddedSpriteURI2x='';m=s;}}var w=null;if(m.stickerID){w=m.stickerID.toString();}else if(l.sticker_id)w=l.sticker_id.toString();var x=null;if(m.packID)x=m.packID.toString();var y=c('XStickerAssetController').getURIBuilder().setInt('sticker_id',w),z=null,aa=null;if(window.devicePixelRatio&&window.devicePixelRatio>1){aa=m.paddedSpriteURI2x;z=m.spriteURI2x;}else{aa=m.paddedSpriteURI;z=m.spriteURI;}var ba=!!c('MessengerHotLikeUtils').getMetadataForHotLike(w)&&c('MessagingGiftWrapChecker').shouldRenderWithGiftWrap(l);return c('React').createElement(c('Sticker.react'),{accessibilityLabel:m.accessibilityLabel,animationTrigger:'hover',className:ba?"_3m7x":'',customColor:q,frameCount:m.frameCount||1,frameRate:m.frameRate||83,framesPerCol:m.framesPerCol||1,framesPerRow:m.framesPerRow||1,onAttachmentLoad:p,onStickerClick:n,packID:x,paddedSpriteURI:aa,sourceHeight:m.height,sourceURI:y.setEnum('image_type',c('StickerAssetType').IMAGE).getURI().toString(),sourceWidth:m.width,spriteURI:z,stickerID:w,subscribedThreadID:r,testID:c('MessengerWebDriverTestIDs').STICKER});},constructEmojiLikeAttachment:function k(l,m,n){var o=c('MessengerSupportedEmojiUtils').getNewEmojiData(m.body,l.size),p=o?o.emoji:undefined;if(!o)return null;return c('React').createElement(c('EmojiSticker.react'),{className:"_2poz _ui9",key:'sticker:'+m.message_id,emoji:m.body,emojiImage:p,sourceURI:'',onAttachmentLoad:n});},renderPhotoAttachments:function k(l,m,n,o){var p=l.length;if(!p)return null;var q=m&&m.thread_fbid;if(m&&!q)q=c('MercuryIDs').isLocalThread(m.thread_id)?null:c('MercuryIDs').getThreadFBIDFromThreadID(m.thread_id);if(p===1){var r=l[0],s=c('MercuryAttachment').resizeContain({width:n-i,height:n},{width:r.preview_width,height:r.preview_height});return c('React').createElement('div',{className:"_55pk"+(' '+"_59go")+(c('MercuryAttachment').hasAttribution(r)?' '+"_4yjw":'')},c('React').createElement(c('MercuryAttachmentPhoto.react'),{image:r,width:s.width,hasAttribution:c('MercuryAttachment').hasAttribution(r),height:s.height,message:m,onAttachmentLoad:o,round:true}),c('React').createElement(c('ChatAttachmentAttribution.react'),{attachment:new (c('ImmutableObject'))(l[0])}));}return c('React').createElement('div',{className:"_55pk"},c('React').createElement(c('MercuryAttachmentPhotoGrid.react'),{images:l,size:n-i,message:m}));},sortAttachmentsStablyByType:function k(l){var m=[c('MercuryAttachment').isEmojiLikeAttachment,c('MercuryAttachment').isPhotoAttachment,c('MercuryAttachment').isShareAttachment,c('MercuryAttachment').isFileAttachment,c('MercuryAttachment').isErrorAttachment];m.push(function(o){return true;});var n=m.map(function(o){return [];});l.forEach(function(o){for(var p=0;p<m.length;p++)if(m[p](o)){n[p].push(o);break;}});return Array.prototype.concat.apply([],n);},constructStoryBasedShareAttachment:function k(l,m,n,o,p,q){var r,s,t=c('MercuryShareAttachmentRenderLocations').CHAT,u=m.share&&m.share.style_list&&m.share.style_list[0]===c('StoryAttachmentStyle').CULTURAL_MOMENT_HOLIDAY_CARD,v={maxWidth:o},w=null;if(l&&l.platform_xmd)w=JSON.parse(l.platform_xmd);var x=(r=m)!=null?(r=r.share)!=null?(r=r.messenger_ctas)!=null?(r=r[0])!=null?r.page_id:r:r:r:r,y=(s=m)!=null?(s=s.share)!=null?(s=s.target)!=null?(s=s.items)!=null?(s=s[0])!=null?(s=s.call_to_actions)!=null?(s=s[0])!=null?s.page_id:s:s:s:s:s:s:s,z=x||y,aa=z?c('MercuryIDs').getParticipantIDFromUserID(z):l.author;return c('React').createElement('div',{className:"_3_om"+(n&&!u?' '+"_3cpq":''),style:v},c('React').createElement(c('MercuryShareAttachment.react'),{attachment:m.share,isSponsored:l.is_sponsored,isVisible:q,location:t,maxWidth:o,messageID:l.message_id,mnMessageType:w&&w.template_type,onComponentLoaded:p,pageID:aa,threadID:l.thread_id}));}};f.exports=j;}),null);
__d('MercuryAttachments.react',['cx','MercuryAttachmentRenderer','ImmutableObject','MercuryAttachment','MercuryAttachmentMalicious.react','MercuryAttachmentError.react','MessagingFlowerBorder.react','MessagingGiftWrap.react','MessengerHotLikePreview.react','MessengerWebDriverTestIDs','MNCommerceMessageType','React','SubscriptionsHandler','emptyFunction','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MercuryAttachments1=function(r){this.props.onAttachmentLoad&&this.props.onAttachmentLoad(r);}.bind(this),this.$MercuryAttachments2=null,n;}l.prototype.componentDidMount=function(){this.$MercuryAttachments2=new (c('SubscriptionsHandler'))();};l.prototype.componentWillUnmount=function(){this.$MercuryAttachments2&&this.$MercuryAttachments2.release();};l.prototype.$MercuryAttachments3=function(m){if(c('MercuryAttachment').isStickerAttachment(m)){return c('MercuryAttachmentRenderer').constructStickerComponent(this.props.message,this.props.attachments[0].metadata,this.props.onStickerClick,this.props.isChat,this.$MercuryAttachments1,this.props.customColor);}else if(c('MercuryAttachment').isEmojiLikeAttachment(m)){var n=c('MercuryAttachmentRenderer').constructEmojiLikeAttachment(m,this.props.message,this.$MercuryAttachments1);return n?n:c('React').createElement(c('MercuryAttachmentError.react'),null);}else if(c('MercuryAttachment').isVoiceAttachment(m)){return c('MercuryAttachmentRenderer').renderAudioClip(this.props.attachments[0],this.props.isChat,this.props.customColor,this.props.message,this.$MercuryAttachments1);}else if(c('MercuryAttachment').isVideoAttachment(m)){return c('MercuryAttachmentRenderer').renderVideo(m,this.props.isChat,this.props.message,this.$MercuryAttachments1,this.props.isVisible);}else if(c('MercuryAttachment').isShareAttachment(m)){return c('MercuryAttachmentRenderer').constructStoryBasedShareAttachment(this.props.message,m,this.props.isChat,this.props.maxWidth,this.$MercuryAttachments1,this.props.isVisible);}else if(c('MercuryAttachment').isFileAttachment(m)){return c('MercuryAttachmentRenderer').renderFile(m,this.props.isChat,this.$MercuryAttachments1);}else if(c('MercuryAttachment').isErrorAttachment(m))return c('React').createElement(c('MercuryAttachmentError.react'),null);return c('React').createElement(c('MercuryAttachmentMalicious.react'),null);};l.prototype.render=function(){if(this.props.message.is_like_preview)return c('React').createElement(c('MessengerHotLikePreview.react'),{isChat:this.props.isChat,key:'hlp:'+this.props.message.like_preview_since,since:this.props.message.like_preview_since,customLike:this.props.message.customLike,customColor:this.props.customColor});if(this.props.attachments.length===0)return c('React').createElement('div',this.props);if(this.props.message.commerce_message_type===c('MNCommerceMessageType').RIDE_INTENT)return c('React').createElement('div',this.props);var m=c('MercuryAttachmentRenderer').renderPhotoAttachments(this.props.attachments.filter(c('MercuryAttachment').isPhotoAttachment),this.props.message,this.props.maxWidth,this.$MercuryAttachments1),n=c('MercuryAttachmentRenderer').sortAttachmentsStablyByType(this.props.attachments.filter(function(p){return !c('MercuryAttachment').isPhotoAttachment(p);})).map(function(p,q){return c('React').createElement('span',{key:q},this.$MercuryAttachments3(p));}.bind(this)),o=this.props.hasFlowerBorder?c('joinClasses')("_337n",this.props.className):this.props.className;return c('React').createElement('div',babelHelpers['extends']({},this.props,{className:o,'data-testid':c('MessengerWebDriverTestIDs').ATTACHMENT_ROOT}),m,n,this.props.afterDecorators,this.props.renderProgressBar&&this.props.renderProgressBar());};l.propTypes={afterDecorators:k.arrayOf(k.element),attachments:k.array.isRequired,customColor:k.string,customLike:k.object,maxWidth:k.number.isRequired,message:k.instanceOf(c('ImmutableObject')).isRequired,isChat:k.bool,isVisible:k.bool,onAttachmentLoad:k.func,onStickerClick:k.func,onUnwrap:k.func};l.defaultProps={isChat:false,onAttachmentLoad:c('emptyFunction'),onStickerClick:c('emptyFunction')};f.exports=l;}),null);