if (self.CavalryLogger) { CavalryLogger.start_js(["gFzjf"]); }

__d("AdPageMessageTypeEnum",[],(function a(b,c,d,e,f,g){f.exports={AD_ADMIN_TEXT:"ad_admin_text",AD_TEXT:"ad_text",AD_BUBBLE:"ad_bubble"};}),null);
__d("GraphQLSubscriptionsLoggerEvent",[],(function a(b,c,d,e,f,g){f.exports={SYSTEM_SUBSCRIBE:"subscribe",SYSTEM_UNSUBSCRIBE:"unsubscribe",CLIENT_SUBSCRIBE:"client_subscribe",CLIENT_UNSUBSCRIBE:"client_unsubscribe",PUBLISH:"publish",SEND:"send",GENPAYLOAD:"genpayload",GENTOPIC:"gentopic",RECEIVEPAYLOAD:"receivepayload"};}),null);
__d("GraphQLSubscriptionsMechanism",[],(function a(b,c,d,e,f,g){f.exports={SKYWALKER:"skywalker"};}),null);
__d("MNCommerceBlockTypeJSInstance",[],(function a(b,c,d,e,f,g){f.exports={ALL:"all",PROMOTION:"promotion",NONE:"none"};}),null);
__d("MNCommerceErrors",[],(function a(b,c,d,e,f,g){f.exports={ALREADY_UNLINKED:1893001};}),null);
__d("MNCommerceReplyTypes",[],(function a(b,c,d,e,f,g){f.exports={COMMERCE_LINK:2,COMMERCE_UNLINK:3};}),null);
__d("P2PPaymentLogMessageSubtype",[],(function a(b,c,d,e,f,g){f.exports={SENT_IN_GROUP:"sent_in_group",CANCELED_SENDER_RISK:"canceled_sender_risk",CANCELED_DECLINED:"canceled_declined",CANCELED_RECIPIENT_RISK:"canceled_recipient_risk",CANCELED_EXPIRED:"canceled_expired",CANCELED_SAME_CARD:"canceled_same_card",CANCELED_CUSTOMER_SERVICE:"canceled_customer_service",CANCELED_CHARGEBACK:"canceled_chargeback",CANCELED_SYSTEM_FAIL:"canceled_system_fail",REQUEST_CANCELED_BY_REQUESTER:"request_canceled_by_requester",REQUEST_DECLINED_BY_REQUESTEE:"request_declined_by_requestee",REQUEST_EXPIRED:"request_expired",REQUEST_REMINDER:"request_reminder",MONEY_RAIN_GAME_ENTRY_POINT:"money_rain_game_entry_point"};}),null);
__d("SimpleNUXMessageTypes",[],(function a(b,c,d,e,f,g){f.exports={AD_BREAK_PORTAL_DISABLE_NUX:"1293579247404404",AD_BREAK_PORTAL_ENABLE_NUX:"1487233744681276",AD_CANVAS_EDITOR_SWIPE_TO_OPEN:"1088399387945919",AD_CANVAS_EDITOR_TOOLBAR_NUX:"1733450480268575",AD_CANVAS_INLINE_BUILDER_ACQUISITION_TOUR:"175599466304273",AD_CANVAS_INLINE_BUILDER_BRAND_RETAIL_TOUR:"727232757449618",AD_CANVAS_INLINE_CREATION_FINISH_NUX:"177120099488520",AD_CANVAS_WEB_PARSING_BUILDER_TOUR:"433843320301656",AD_CANVAS_WEB_PARSING_PREVIEW_BUTTON_NUX:"113392532512232",AD_STUDY_POWER_CALCULATOR_V2_NUX:"902884353135091",ADHAWK_NEW_USER_GUIDE:"172316909925943",ADLITMUS_CONTEXTUAL_FILTER:"1241923179228807",ADLITMUS_CONTEXTUAL_FILTER_2:"960324240770046",ADLITMUS_DISAPPROVAL_CHART:"669286016585000",ADLITMUS_METRIC_SELECTOR:"995282707283022",ADLITMUS_OVERVIEW_BUTTONS:"1470674259618716",ADLITMUS_OVERVIEW_COLUMN_BUTTON:"978496702250952",ADLITMUS_OVERVIEW_COLUMN_BUTTON_2:"1170176333079647",ADLITMUS_POCILY_DOCUMENT:"1869055203378228",ADS_AUDIENCE_SHARING_NUX:"1789086031311051",ADS_BUSINESS_ACTIVITY_FEED_NUX:"849351935208523",ADS_CF_LOCAL_TARGETING_NUX:"798810653560813",ADS_CF_MOBILE_APP_INSTALLS_CATALOG_NUX:"728822493950056",ADS_CONVERSION_WINDOW_DROPDOWN_NUX:"1817623761817619",ADS_DATE_COMPARISON_DATE_PICKER_NUX:"685948288232047",ADS_DAY_PARTING_TIMEZONE_NUX:"247476535702294",ADS_DELIVERY_DASH_ENTRY_POINT_NUX:"1824865001088063",ADS_DELIVERY_DEFAULT_VIEW_CONVERSION_WINDOW_NUX:"454906951553133",ADS_DPA_OFFSITE_CONVERSION_DEFAULT:"1058542194184213",ADS_DYNAMIC_LOCAL_AWARENESS_UPSELL:"180996948924978",ADS_DYNAMIC_LOCAL_AWARENESS_USE_TOKENS:"1535166470146858",ADS_INSIGHTS_DMA_BREAKDOWN_NUX:"1598599046824747",ADS_INSIGHTS_LINK_CLICK_DESTINATION_BREAKDOWN_NUX:"479078355817017",ADS_INTERFACES_API_MIGRATION_DRAFT_WARNING:"667444766786957",ADS_OFFER_SWITCH_BLUE_TIP:"666470406879195",ADS_PE_SIDEPANE_UPDATES_NUX:"259358534521664",ADS_PROBABILISTIC_PACER_NUX:"590450231150410",ADS_REPORTING_ACCOUNT_OVERVIEW_M2_NUX:"298888623869132",ADS_REPORTING_ACCOUNT_OVERVIEW_NUX:"1814175038845604",ADS_REPORTING_CLICK_ONLY_ATTR_WINDOW_NOTICE:"1130832730354375",ADS_REPORTING_COLUMN_SUGGESTIONS_NUX:"1099582153501373",ADS_REPORTING_DATE_COMPARISON_EXPORT_NUX:"301296300267531",ADS_REPORTING_DATE_COMPARISON_TABLE_NUX:"940995439364307",ADS_REPORTING_PREDICTED_EARL_UPDATE_NUX:"1668840766479058",ADS_ROAS_UPSELL_FOR_PURCHASE_EVENT_NUX:"256432508156448",ADS_STORE_VISIT_INSIGHTS_METRIC_CHANGE_2017_03_30:"417471498622749",ADS_STORE_VISIT_INSIGHTS_METRIC_CHANGE_2017_04_16:"1823674441288928",ADS_STORE_VISITS_OBJECTIVE_UPSELL:"299755653712594",ADS_TARGETING_BEST_PERFORMING_DESCRIPTOR:"627419454089322",ADS_TARGETING_CUSTOM_AUDIENCE_CREATION_MENU:"951445441641663",ADS_TARGETING_CUSTOM_AUDIENCE_NUX:"476707339197159",ADS_TARGETING_PAGE_LAL_NUX:"1103767696336249",ADS_TARGETING_SUGGESTION_NUX:"1719099461698096",ADS_WCA_ADVANCED_NUX:"499230403617848",ALBUMSV2_ANY_POST_TYPE_WWW:"1219379658190068",ALBUMSV2_FEED_VIEW_SWITCHER:"810166682493534",ANALYTICS_CUSTOM_DASHBOARDS_PIN_NUX:"1867718276817428",ANALYTICS_NEW_EVENT_SOURCE_GROUP_BUTTON:"121331125079600",APP_REVIEW_COMMENTS_NUX:"1632649840328509",ARCADE_RHC_DOWNLOAD_UNIT_NUX:"1734071506875325",AUDIENCE_INLINE_SAVE_NUX:"387683724758581",AUDIENCE_NETWORK_AD_SPACES_NUX:"402522293481325",AVERAGE_PRICE_PACING_NUX:"256331691368624",BOOST_POST_DELIVERY_TYPE_NUX:"1123576301036863",BOOSTED_COMPONENT_CTA_SELECTOR_NUX:"149361148834083",BOOSTED_COMPONENT_INSTAGRAM_LIBRARY:"1109521299111498",BOOSTED_LOCAL_AWARENESS_SAVE_CTA_NUX:"176805122743554",CANVAS_DRAGGABLE_COMPONENTS:"788423921300532",CF_BRAND_STUDY_NUX:"130406080680692",CF_DEFAULT_MPA_NUX:"1630553150535001",CF_SLIDESHOW_OBJECTIVE_NUX:"707154356087550",CIC_CAROUSEL_CARD:"762809470522872",CIVIC_ENGAGEMENT_ISSUE_TAGGER:"1881957508758286",CMS_EDITOR_AUTOSAVE_INTRO:"1333265340036015",CMS_EDITOR_DUPLICATE_BUTTON:"1816847535213663",CMS_EDITOR_ERROR_MESSAGE_RED_DOT:"543132379216561",CMS_EDITOR_KEYBOARD_SHORTCUTS_BUTTON:"1315068478533683",CMS_EDITOR_LOCALE_SWITCHER_NUX:"392206391156099",CMS_EDITOR_MEDIA_GROUP_MANAGER_BUTTON:"1204201476282432",CMS_EDITOR_V3_INTRO_DIALOG:"403928113338093",CMS_HISTORY_REVERT_LINK_NUX:"651145288381986",CMS_SEARCH_AND_REPLACE_IGNORE_CASE_CHECKBOX:"407488016284957",CMS_SEARCH_COMPONENT_NUX:"1765875226969195",CMS_SEARCH_NUX_TOUR:"587356531436785",CMS_SNIPPETS_BUTTON_NUX:"314858175560645",CMS_TAG_EXPLORER_NUX_TOUR:"1064871376962611",COMMERCE_MN_BOT_NUX:"313627252311314",COMPOSER_SHARESHEET:"1848515345468781",COMPOSER_SHARESHEET_V2:"769400196560967",CONNECTIONS_SECTION:"434002046758336",CONNECTIONS_SECTION_WITHOUT_VIDEO:"1540728442877433",CONTACT_YOUR_REP_COMPOSER_TAGGER:"1926298284317737",CREATE_HOUSEHOLD_AUDIENCE_NUX:"759881217528254",CREATE_NEW_ENGAGEMENT_AUDIENCE_NUX:"558011581034402",CREATE_SLIDESHOW_ADS_NUX:"886513371441875",CREATIVE_CANVAS_TEMPLATE_NUX:"564937670372078",CRISIS_MARK_OTHER_SAFE:"202253916649690",CRISIS_MARK_SELF_SAFE:"653763228018496",CRM_APP_NUX:"160369447652922",CRM_BOB2_PHASE2_VIDEO_NUX:"444952409195109",CRM_BOB2_PHASE2_VIEWS:"115658465686242",CRM_BOB2_TOTALS_ROW_NUX:"404187036627911",CRM_BOB2_VIDEO_NUX:"758053681035569",CRM_EMAIL_SIGNATURE_UPDATE:"182426375619911",CRM_FEED_ACTIONS_NUX:"310049402756165",CRM_FEED_AD_DISAPPROVAL:"1635332980099458",CRM_FEED_AD_DISAPPROVAL_TOUR:"1372832786061145",CRM_FEED_FILTER_COLLAPSE:"1267729259935542",CRM_FEED_NAV_NUX:"1119009298165882",CRM_FEED_ORG_PAGE:"1790788867842141",CRM_FEED_PLAN_PAGE:"138431499974519",CRM_FEED_RECS:"1770321323216424",CRM_OPTIMAL_SOLUTIONS_INTERNAL_NAV_NUX:"832480206919077",CRM_OPTIMAL_SOLUTIONS_NAV_NUX:"420293331663412",CRM_OPTIMAL_SOLUTIONS_TABLE_NUX:"788724514612835",CRM_OPTIMAL_SOLUTIONS_TREEMAP_NUX:"1673613846274820",CRM_ORG_FINANCIALS:"279531125724087",CRST_ACTIVATE_DELIVERY:"379466019116547",CRST_DELIVER_AD_MANAGE_MOCKUPS_BUTTON:"1346563065437380",CRST_DELIVER_AD_MULTI_STEP_DIALOG:"285052618622049",CRST_MOBILE_PREVIEW:"1747146378889382",CRST_MOBILE_PREVIEW_INTRO:"904117749711668",CRST_MOBILE_PREVIEW_SHARED:"502885896576282",CRST_SHARE_CREATIVE:"213694639031398",CRST_WELCOME_HERO:"1802127330074556",CTSCAN_SCANLAB_DIAGNOSTIC_LINK_NUX:"1018516858267721",CTSCAN_SCANLAB_EXP_LINK_NUX:"1687632451557881",CTSCAN_SCANLAB_TEST_LINK_NUX:"1413329522299861",CTSCAN_SCANLAB_TEST_STATUS_NUX:"1682721005388364",DAILY_SHOW_NUX_TOUR:"128345940926172",DEVICE_LOGIN_CLOSE_BUTTON_NUX:"772951722838986",DEVSITE_ADNW_BUNDLE:"646184548874131",DEVSITE_ADNW_MEDIATION:"1373933542651411",DEVSITE_ADNW_MEDIATION_LEGAL:"1159456270801554",DEVSITE_APP_DASHBOARD_ADD_PRODUCT_NUX:"490448847821290",DEVSITE_APP_DASHBOARD_FB_ANALYTICS_NUX:"545627442289387",DEVSITE_BUGS_DETAILS_SUBSCRIBE_BUTTON:"1103088809711938",DEVSITE_BUGS_HOME_CREATE_LOCALIZED:"190127184825967",DEVSITE_BUGS_HOME_SEARCH_APPS:"810965742370194",DEVSITE_BUGS_HOME_SEARCH_PRESELECT_APP:"254472424907417",DEVSITE_BUGS_HOME_SEARCH_TAGS:"988491391232062",DEVSITE_BUGS_HOME_SELECT_TAGS:"1174329739252695",DEVSITE_BUGS_INPAGE_SUBMIT_SHORTCUT_NUX:"1814715518773401",DEVSITE_BUGS_SUBSCRIBE_MESSENGER:"289329894751031",DIA_PLUGIN_INTRODUCTION:"274822676191082",DIFFS_UNREAD_NUX:"278192215961935",DIRECT_SUPPORT_SUBSCRIBE_MESSENGER:"301320016925123",DR_RUNBOOK_NUX:"386619794795638",ENGAGEMENT_AUDIENCE_NUX:"1559597167698757",EVENTS_COHOST_NUX:"437219733299406",EVENTS_MULTI_TIME_CREATE:"1356035991144461",EVENTS_REGISTRATION_ADMIN_TOOLBAR:"216949355491766",EVENTS_REGISTRATION_NUX:"1745687688806863",EVENTS_SHARE_TIME_INSTANCE:"219565385203014",FAME_UPSELL_ADS_MANAGER_V1:"663318960534100",FB_DIRECT_WEB_EPHEMERALITY:"443405482682394",FBLEARNER_CLONE_HISTORY:"874591682650805",FBLEARNER_DAG:"1555701701416433",FBLEARNER_OP_OUTPUTS:"1724118081167329",FBLEARNER_OPT_OUT_SURVEY:"495303504008626",FBLEARNER_RECURRING_HISTORY:"1184494798247928",FBLEARNER_RECURRING_JOB_EDITOR:"1031446560269781",FBLEARNER_START_RECURRING:"330315104023633",FBLN_BATCH:"1190201994365649",FBLN_CARD:"1771536866409625",FBLN_CARD_HOME:"1037460092995696",FBLN_CHILDREN_SEARCH:"247925048905303",FBLN_COMPOSITION:"1535579660071386",FBLN_CUSTOM_FIELDS:"1729257784010524",FBLN_MODEL_TYPE:"1036165669806999",FBLN_MY_DAY:"1883488105200146",FBLN_PROGRESS:"1711182809156646",FBLN_RECURRING:"1554116508221625",FBLN_RECURRING_DURATION:"253510125104293",FBLN_RECURRING_DURATION_TYPE:"1275284069191480",FBLN_RECURRING_HEALTH:"369557563426687",FBLN_RECURRING_HOME:"378188762567288",FBLN_RECURRING_JOB_DETAILS:"271011959998196",FBLN_RECURRING_JOB_LINK:"1638041579545299",FBLN_RECURRING_LOAD_MORE:"186324198522086",FBLN_RESUME_BUTTON:"211921519225088",FBLN_RESUME_CHECK:"1696859960638051",FBLN_SEARCH:"1720975784858689",FBLN_SIDEBAR:"1530641490579146",FBLN_UNSEEN:"474252306099876",FBR_FULLSCREEN_NUX:"1344564208895744",FBR_METRICS_ACTIVE_CANDIDATES_NUX:"222285851609893",FBR_METRICS_ACTIVE_CANDIDATES_NUX_DRILL_DOWN_HOVERCARD:"1947329892179101",FBR_METRICS_ACTIVE_CANDIDATES_NUX_DUE_SOON:"380497695678181",FBR_METRICS_ACTIVE_CANDIDATES_NUX_FILTER:"539978063057735",FBR_METRICS_ACTIVE_CANDIDATES_NUX_FULL_LOOP:"1714543698840222",FBR_METRICS_ACTIVE_CANDIDATES_NUX_INTRO:"861067310725054",FBR_METRICS_ACTIVE_CANDIDATES_NUX_OFFER_DRAFT:"300361150415866",FBR_METRICS_ACTIVE_CANDIDATES_NUX_PRESCREEN:"311480932610263",FBR_METRICS_ACTIVE_CANDIDATES_NUX_SCREEN:"785318974964959",FEED_ONLY_BOOKMARK_NUX:"991989547582216",FEED_ONLY_POST_NUX:"979392875501998",FIM_AYEPATCH_ACTIVE_ACTIVE_SOLO_MODE:"1941702112718388",FIM_AYEPATCH_DEVICE_OVERVIEW_TABLE:"139617969915868",FLEXIBLE_TARGETING_PRESENTER_TIP:"833032883476599",FUNDRAISER_UPSELL:"967459770042560",GAMES_CREATE_SHORTCUT:"190501704786642",GAMES_TAKE_SCREENSHOT:"1813645665328527",GEO_TARGETING_BULK_INPUT:"523608931147539",GEO_TARGETING_V2:"771095616319245",GMS_HUB_PERMALINKS:"373890962970878",GROUPS_GAMES_NUX:"595721780628097",GROUPS_RHC_LEADERBOARD_NUX:"1154491687933286",HAS_MIGRATED_SAVED_AUDIENCE_NUX:"1522284001343972",HASHTAG_SUBSCRIPTION_FOR_PAGES_NUX:"1536899146616610",HELP_CENTER_SEARCH_LANGUAGE_DIALOG:"431186250559929",HIRING_MY_CANDIDATES_V2_ALPHA_NUX:"110230416185489",HIT_HIERARCHY:"104061010140073",IA_CTA_EMAIL_HEADER_UNIT_NOTICE:"145603682658412",IG_AUDIENCE_INSIGHTS_ACCOUNT_WHITELIST:"654665854681285",IG_AUDIENCE_INSIGHTS_CITIES_TOGGLE:"675352559307348",IG_AUDIENCE_INSIGHTS_CUSTOM_SEGMENT:"892488757550990",IG_AUDIENCE_INSIGHTS_EXCLUDE_POST:"1739956989579937",IG_AUDIENCE_INSIGHTS_GENERIC_PDF:"1065168483565624",IG_AUDIENCE_INSIGHTS_INTEREST_FILTER:"1558071707831814",IG_AUDIENCE_INSIGHTS_POST:"272479649752150",IG_AUDIENCE_INSIGHTS_TIME_ONLINE:"187516358318534",IG_AUDIENCE_INSIGHTS_TIME_SPENT:"1288695684498584",INSTANT_GAMES_WWW_ENTRY_NUX:"388393761540878",INTERNAL_FEEDBACK_SURVEY:"1368283853185346",INTERNAL_NOTIFICATIONS_DESKTOP:"816296281804339",INTERNAL_NOTIFICATIONS_DESKTOP_PROMPT:"1715114275421616",INTERNAL_NOTIFICATIONS_JEWEL:"255236364848435",INTERVIEW_FEEDBACK_NO_BUTTON:"1781774222098902",INTERVIEW_FEEDBACK_REDESIGN:"1768833223401913",INTERVIEW_TRACKER_EXPORT:"327122534320675",JOB_BROWSER_CREATE_BUTTON_NUX:"1090012127788963",JOB_POSTING_COMPOSER:"273610786328981",LEAD_GEN_FORM_ARCHIVING_NOW_AVAILABLE_NUX:"1660354914292411",LEAD_GEN_FORM_BUILDER_SAVE_BUTTON_NUX:"888403264626566",LEAD_GEN_FORM_CREATED_FROM_TEMPLATE_NUX:"1771084006536150",LIVE_MAP_NEW_USER_NUX:"301839103480385",M_ADS_MANAGER_SPLASH:"1499779126920941",MEDIA_TOOL_MEDIA_GROUP_TAG_SEARCH:"617490258375842",MEDIA_TOOL_MEDIA_GROUP_TAGGING_NUX:"1142685795860507",MPP_SUPPORT_VIDEO_CALL_BUTTON_NUX:"572669026227273",MULTI_CITY_LOCATION_TARGETING_NUX:"1885486965052432",MULTICITY_LOCATION_TARGETING_NUX:"624581964407781",MULTIKEY_CUSTOM_AUDIENCE_UPLOADER_DATA_FORMATTING_GUIDE_NUX:"1641614852827045",MULTILINGUAL_COMPOSER_NUX:"468505376681705",MULTIMEDIA_ATTACHMENTS_NUX:"1269425486404153",OFFERS_COMPOSER_STEPPER_NUX:"1699194450407946",OFFERS_DESKTOP_DETAILS_SAVE_NUX:"665531616974464",OFFERS_V1_TO_V2_MIGRATION_PAGES_COMPOSER_NUX:"1760209817527843",OFFERS_V2_MIGRATION_ADS_MANAGER_NUX:"1732891256985325",OFFERS_V2_PAGES_COMPOSER_NUX:"791461857621605",OMNIM_SUGGESTIONS:"215849248831991",OPTIMAL_SOLUTION_NUX:"1227619203963447",ORG_TOOL_MANAGER_SELF_SERVICE_FRONT_LINE_NUX:"106360933271644",OXSIGHTS_NEW_UI:"1035521976533597",OXYGEN_INSIGHT_LIFECYCLE:"295779470545961",PAGES_ASSIGN_BROADCASTER_ROLE_NUX:"241186616320377",PAGES_COMMERCE_BUYER_NUX:"1142866742508388",PAGES_COMMERCE_INVOICE_BUTTON_NUX:"1257048171004972",PAGES_COVER_DESCRIPTION_CREATION_NUX:"312563085834620",PAGES_COVER_VIDEO_CREATION_NUX:"427445517648121",PAGES_MESSAGING_DRAGDROP:"1598865370326347",PE_BACKGROUND_PUBLISHING_NUX:"351999345165168",PE_LIVE_OPT_IN:"412162028994818",PE_SLIDESHOW_NUX:"1010972272292143",PIXELCLOUD_OPEN_IN_SKETCH_NUX:"1053089388134096",PIXELCLOUD_PROJECT_CREATE_NUX:"167386373758657",PIXELCLOUD_PROJECT_PAGE_NUX:"1540799555938315",PMT_ADHOC_REQUEST_SHARED_NUX:"359372174464547",PMT_CALIBRATION_BOARD_NUX:"1037667402955195",PMT_CALIBRATION_MASHUP_NUX:"296348610767770",PMT_FEEDBACK_COMPLETED_BOOTCAMP_MENTOR_FEEDBACK:"1509244625773482",PMT_FEEDBACK_COMPLETED_LITE_FEEDBACK:"1443893362333582",PMT_FEEDBACK_MANAGE_BUTTON_MANAGER:"1691579654204018",PMT_FEEDBACK_PENDING_PEER_FEEDBACK:"812763792213781",PMT_FEEDBACK_REQUESTS_NUX:"1158362674286722",PMT_LANDING_FEEDBACK_REQUESTS:"732534800259114",PMT_LANDING_REQUEST_FEEDBACK_BUTTON:"469873363355823",PMT_LITE_FEEDBACK_BOT_NUX:"768812979953374",PMT_MANAGE_FEEDBACK_CONTEXT:"105271666714735",PMT_MANAGE_FEEDBACK_STATUS:"1891009327891376",PMT_MANAGE_FEEDBACK_STATUS_MANAGER:"255906568219943",PMT_OFFCYCLE_FEEDBACK_NUX:"167771400339175",PMT_PEER_FEEDBACK_BANNER:"743885692456661",PMT_SIDEBAR_LITE_FEEDBACK:"163080977549971",PMT_SIDEBAR_SUGGESTED_PEERS:"615920318602081",POLITICAL_DISTRICT_TARGETING_COMPOSER_OPTION:"1905539216397834",PROFILE_BADGE_NUX:"424283191075640",PROFILE_JUMPER_NUX:"1761965587453511",PUB_TOOLS_SEASONS_NUX:"1353326994736969",PULSE_ACTION_PLAN_NUX:"721101558067772",PULSE_IMPORTANCE_NUX:"1474606375947450",PULSE_SUMMARY_NUX:"176677976190423",PUMA_WIZARD_DIALOG:"123521224904410",RABBIT_EXPLORER_NUX:"430269537352505",RABBIT_MAGIC_PILL_CLICK_NUX:"204937776623471",RABBIT_SEARCH_NUX_TOUR:"248205238986090",RECRUITING_AUTO_PRESCREEN_BADGE_FIFTY:"119382518633735",RECRUITING_AUTO_PRESCREEN_BADGE_FIRST:"1701185006576449",RECRUITING_AUTO_PRESCREEN_BADGE_HUNDRED:"169123143616062",RECRUITING_AUTO_PRESCREEN_BADGE_TEN:"415401932164940",RECRUITING_AUTO_PRESCREEN_CALENDAR_PREVIEW:"1262439603879573",RECRUITING_AUTO_PRESCREEN_EDIT_CALENDAR:"161190864420934",RECRUITING_AUTO_PRESCREEN_NOTES_PREVIEW:"1379930508757433",RECRUITING_AUTO_PRESCREEN_STATUS:"462273320775070",RECRUITING_AUTO_PRESCREEN_TABS:"323114158124641",RECRUITING_AUTO_PRESCREEN_TIMESLOT:"1860716067522409",RECRUITING_AUTO_PRESCREEN_TIMEZONES:"1458069300925009",RECRUITING_AUTO_SCREEN_BOOK_NOW:"653962828129566",RECRUITING_AUTO_SCREEN_TABS:"2246501172242193",RECRUITING_AUTO_SCREEN_TAGS:"409645646059915",RECRUITING_AUTO_SCREEN_TIMEZONES:"440773582942623",RECRUITING_EMPLOYEE_OUTREACH:"574882689339635",RECRUITING_FBR_FEED:"207599099756116",RECRUITING_FBR_MANAGE_CANDIDATES:"1315241391866958",RECRUITING_HIRING_CONSIDERATION_ACTION_MENU:"736653343179938",RECRUITING_SEARCH_V2_LAUNCH:"274528912909071",RECRUITING_SOURCING_CONSIDERATION_STATUS:"208084653034264",RECRUITING_SOURCING_LAST_ENGAGED:"1331181873664675",RELATED_NEWS_MODULE_PROMOTION:"291949934557488",RELATED_NEWS_MODULE_VISIBILITY:"461697617554606",REVIEW_TAB_ADDED_NUX:"250895058670979",RIGHTS_MANAGER_BULK_WHITELIST_NUX:"575946632598813",RIGHTS_MANAGER_CHANGE_LOG:"421523984890906",RIGHTS_MANAGER_CONTACT_NUX:"1852082035116349",RIGHTS_MANAGER_EXPORT_DATA:"176652666130517",SAVE_NEW_AUDIENCE:"649905405114622",SCHEDULR_FIND_BOOK_NUX:"872099406242148",SCUBA_REACT_VIEWS_NUX:"1747252342174304",SEARCH_NLP_CONSOLE_NUX:"469576190048926",SHUTTLE_CALTRAIN:"591270497678719",SIGNAL_INFRA_KILL_COMPLETE_TEST_RUN_NUX:"281718955562986",SIGNAL_INFRA_PHABRICATOR_BUGNUB_NUX:"232465750506350",SIGNALS_OEM_ANALYTICS_BUTTON:"1051737174957203",SIGNALS_OEM_AUDIENCE_CREATION_BUTTON:"1705925373060918",SIGNALS_OEM_CUSTOM_CONVERSION_CREATION_BUTTON:"350476588659935",SIGNALS_OEM_GET_STARTED:"114819065646369",SIGNALS_OEM_LOOKALIKE_AUDIENCE_CREATION_BUTTON:"1255766841175871",SLIDESHOW_FRAMES_TAB_NUX:"827618977337954",SLIDESHOW_MUSIC_TAB_NUX:"1800156596939976",SOURCING_TOOL_CANDIDATE_BOOKMARK:"514954375356275",SOURCING_TOOL_DATA_MODEL_REFACTOR:"1802899719924551",SOURCING_TOOL_SEARCH_EXPAND:"111408876035743",SOURCING_TOOL_TITLE_SEARCH:"1709346835970021",SPHERICAL_SINGLETON_NUX:"1622419514744181",SRT_BUG_NUB_INTRODUCTION:"1739478522971904",SRT_FEEDBACK:"217753298661464",SRT_LIVE_COUNTER_INTRODUCTION:"158683444572274",SRT_REVIEW_QUEUE_ACTIONED_JOB_STATUS:"191254837978371",SUBGROUP_CREATE_NUX:"239426083172383",SUBGROUP_INTRO_NUX:"269510030150128",TALENT_SEARCH_CROSS_PROMO:"1705997706317539",TALENT_SEARCH_FILTER_COLUMN:"1546366805667718",TALENT_SEARCH_SEARCH_BAR:"1534092750231532",TEST_MESSAGE:"443509369110145",TOUCHSTONE_AD_ACCOUNT:"224502567921015",TOUCHSTONE_RECOMMENDATION_NUX:"1546296168996500",TOUCHSTONE_SCHEDULE:"479311678938767",TOUCHSTONE_VERTICALS:"509312249256844",UPP_CREATIVE_STUDIO_UPSELL:"1763933587252086",USE_EXISTING_AUDIENCE:"481639071983177",VIDEO_COPYRIGHT_AUTO_BLOCK:"210695056081827",VIDEO_COPYRIGHT_AUTO_MONETIZE:"664681487071414",VIDEO_COPYRIGHT_CONTENT_CATEGORY:"108929459724596",VIDEO_COPYRIGHT_MANUAL_BLOCK:"1611149752230319",VIDEO_COPYRIGHT_MANUAL_MONETIZE:"1685669605061064",VIDEO_REMOTE_UPLOAD:"1435659519793420",WORK_COMMUNITY_CENTER:"886330728179119",WORK_COMPOSER_FILE_PICKERS_NUX:"268957666909275",WORK_GROUP_ADD_FEEDBACK_NUX:"106856833168666",WORK_GROUP_ADD_MEMBER_INVITE:"1740315686282734",WORK_GROUP_POST_TO_GROUP_NUX:"1864896927100725",WORK_GROUPS_LANDING_CREATE_GROUP_NUX:"1298052276948758",WORK_GROUPS_LANDING_PAGE_NUX:"318596698538485",WORK_IDP_INVITE_NUX:"1375991899154373",WORK_SHOW_COWORKER_INVITE_NUX:"586334784894097",WORK_SIDEBAR_TOP_GROUPS:"1168006489923660"};}),null);
__d('AjaxRequest',['ErrorUtils','Keys','PHPQuerySerializer','TimeSlice','URI','UserAgent_DEPRECATED','ZeroRewrites','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g){function h(l,m,n){if(!(m instanceof c('URI')))m=new (c('URI'))(m);this.xhr=c('ZeroRewrites').getTransportBuilderForURI(m)();if(n&&l=='GET'){m.setQueryData(n);}else this._params=n;this.method=l;this.uri=m;this.xhr.open(l,m);}var i=window.XMLHttpRequest&&'withCredentials' in new XMLHttpRequest();h.supportsCORS=function(){return i;};h.ERROR='ar:error';h.TIMEOUT='ar:timeout';h.PROXY_ERROR='ar:proxy error';h.TRANSPORT_ERROR='ar:transport error';h.SERVER_ERROR='ar:http error';h.PARSE_ERROR='ar:parse error';h.SERVICE_UNAVAILABLE='ar:noservice';h._inflight=[];function j(){var l=h._inflight;h._inflight=[];l.forEach(function(m){m.abort();});}function k(l){l.onJSON=l.onError=l.onSuccess=null;clearTimeout(l._timer);if(l.xhr&&l.xhr.readyState<4){l.xhr.abort();l.xhr=null;}h._inflight=h._inflight.filter(function(m){return m&&m!=l&&m.xhr&&m.xhr.readyState<4;});}Object.assign(h.prototype,{timeout:60000,streamMode:true,prelude:/^for \(;;\);/,status:null,_eol:-1,_call:function l(m){if(this[m])this[m](this);},_parseStatus:function l(){var m;try{this.status=this.xhr.status;m=this.xhr.statusText;}catch(n){if(this.xhr.readyState>=4){this.errorType=h.TRANSPORT_ERROR;this.errorText=n.message;}return;}if(this.status===0&&!/^(file|ftp)/.test(this.uri)){this.errorType=h.TRANSPORT_ERROR;}else if(this.status>=100&&this.status<200){this.errorType=h.PROXY_ERROR;}else if(this.status>=200&&this.status<300){return;}else if(this.status>=300&&this.status<400){this.errorType=h.PROXY_ERROR;}else if(this.status>=400&&this.status<500){this.errorType=h.SERVER_ERROR;}else if(this.status===503){this.errorType=h.SERVICE_UNAVAILABLE;}else if(this.status>500&&this.status<600){this.errorType=h.PROXY_ERROR;}else if(this.status==1223){return;}else if(this.status>=12001&&this.status<=12156){this.errorType=h.TRANSPORT_ERROR;}else{m='unrecognized status code: '+this.status;this.errorType=h.ERROR;}if(!this.errorText)this.errorText=m;},_parseResponse:function l(){var m,n=this.xhr.readyState;try{m=this.xhr.responseText||'';}catch(t){if(n>=4){this.errorType=h.ERROR;this.errorText='responseText not available - '+t.message;}return;}while(this.xhr){var o=this._eol+1,p=this.streamMode?m.indexOf('\n',o):m.length;if(p<0&&n==4)p=m.length;if(p<=this._eol)break;var q=m;if(this.streamMode)q=m.substr(o,p-o).replace(/^\s*|\s*$/g,'');if(o===0&&this.prelude)if(this.prelude.test(q)){q=q.replace(this.prelude,'');}this._eol=p;if(q){try{this.json=JSON.parse(q);}catch(t){var r=/(<body[\S\s]+?<\/body>)/i.test(m)&&RegExp.$1,s={message:t.message,'char':o,excerpt:(o===0&&r||q).substr(512)};this.errorType=h.PARSE_ERROR;this.errorText='parse error - '+JSON.stringify(s);return;}c('ErrorUtils').applyWithGuard(this._call,this,['onJSON']);}}},_onReadyState:function l(m,n){var o=this.xhr&&this.xhr.readyState||0;if(this.status==null&&o>=2)this._parseStatus();if(!this.errorType&&this.status!=null)if(o==3&&this.streamMode||o==4)m.call(this);if(this.errorType||o==4){this._time=Date.now()-this._sentAt;n.call(this,this._call,!this.errorType?'onSuccess':'onError');k(this);}},send:function l(m){var n=c('TimeSlice').getGuardedContinuation('AjaxRequest xhr.onreadystatechange',true),o=c('TimeSlice').guard(this._parseResponse.bind(this),'AjaxRequest xhr.parseResponse',{isContinuation:false});this.xhr.onreadystatechange=this._onReadyState.bind(this,o,n);var p=this.timeout;if(p)this._timer=c('setTimeoutAcrossTransitions')(function(){this.errorType=h.TIMEOUT;this.errorText='timeout';this._time=Date.now()-this._sentAt;this._call('onError');k(this);}.bind(this),p);h._inflight.push(this);if(this.method=='POST')this.xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');this._sentAt=Date.now();this.xhr.send(m?c('PHPQuerySerializer').serialize(m):'');},abort:function l(){k(this);},toString:function l(){var m='[AjaxRequest readyState='+this.xhr.readyState;if(this.errorType)m+=' errorType='+this.errorType+' ('+this.errorText+')';return m+']';},toJSON:function l(){var m={json:this.json,status:this.status,errorType:this.errorType,errorText:this.errorText,time:this._time};if(this.errorType)m.uri=this.uri;for(var n in m)if(m[n]==null)delete m[n];return m;}});if(window.addEventListener&&c('UserAgent_DEPRECATED').firefox())window.addEventListener('keydown',function(event){if(event.keyCode===c('Keys').ESC)event.prevent();},false);if(window.attachEvent)window.attachEvent('onunload',j);f.exports=h;}),null);
__d("ChannelClientID",[],(function a(b,c,d,e,f,g){var h=(Math.random()*2147483648|0).toString(16),i={getID:function j(){return h;}};f.exports=i;}),null);
__d('ChannelSubdomain',['Event','JSLogger','Run','LogHistory','setTimeoutAcrossTransitions','WebStorage'],(function a(b,c,d,e,f,g){var h=c('LogHistory').getInstance('channel'),i=c('JSLogger').create('channel'),j='channel_sub:',k=7,l=100*1000,m=null,n;function o(){var q=c('WebStorage').getLocalStorage();if(n){clearTimeout(n);n=null;}if(q&&m!=null)q.removeItem(j+m);m=null;}function p(q,r,s){var t,u=(q-1)*k;if(s){if(n)clearTimeout(n);m=n=null;}if(r==null)r=Math.floor(Math.random()*u);if(m==null){var v,w,x,y,z,aa,ba;(function(){var ca=c('WebStorage').getLocalStorage();if(ca){v=[];for(w=0;w<ca.length;w++){x=ca.key(w);if(x.indexOf(j)===0){y=parseInt(x.substr(j.length),10);v[y]=parseInt(ca.getItem(x),10);}}z=Date.now()-l;for(w=0;w<u;w++){aa=(w+r)%u;if(!v[aa]||v[aa]<z){m=aa;break;}}if(m!=null){ba=function da(){try{ca.setItem(j+m,Date.now());}catch(ea){h.warn('subdomain set failed',ea.message);}n=c('setTimeoutAcrossTransitions')(ba,l/2);};ba();}else{h.warn('no channel subdomain',v);i.error('subdomain_overflow');}if(typeof window.onpageshow!='undefined'){c('Event').listen(window,'pagehide',o);}else c('Run').onUnload(o);}else m=r;})();}return m==null?null:m%k;}f.exports={allocate:p,clear:o};}),null);
__d('ChatproxyClientErrorsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:ChatproxyClientErrorsLoggerConfig',this.$ChatproxyClientErrorsTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:ChatproxyClientErrorsLoggerConfig',this.$ChatproxyClientErrorsTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$ChatproxyClientErrorsTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$ChatproxyClientErrorsTypedLogger1=babelHelpers['extends']({},this.$ChatproxyClientErrorsTypedLogger1,j);return this;};h.prototype.setErrorMessage=function(j){this.$ChatproxyClientErrorsTypedLogger1.error_message=j;return this;};h.prototype.setErrorReason=function(j){this.$ChatproxyClientErrorsTypedLogger1.error_reason=j;return this;};h.prototype.setStatusCode=function(j){this.$ChatproxyClientErrorsTypedLogger1.status_code=j;return this;};h.prototype.setTopicPrefixes=function(j){this.$ChatproxyClientErrorsTypedLogger1.topic_prefixes=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setURL=function(j){this.$ChatproxyClientErrorsTypedLogger1.url=j;return this;};var i={error_message:true,error_reason:true,status_code:true,topic_prefixes:true,url:true};f.exports=h;}),null);
__d('DocRPC',['ErrorUtils'],(function a(b,c,d,e,f,g){var h={_apis:{},_dispatch:function i(j){var k;try{j=JSON.parse(j);}catch(m){throw new Error('DocRPC unparsable dispatch: "'+j+'"');}if(Object.prototype.hasOwnProperty.call(h._apis,j.api)){var l=h._apis[j.api];if(l[j.method])k=c('ErrorUtils').applyWithGuard(l[j.method],l,j.args);}if(k===undefined)k=null;return JSON.stringify(k);},publish:function i(j,k){h._apis[k]=j;},proxy:function i(j,k,l){var m={};l.forEach(function(n){m[n]=function(){var o={api:k,method:n,args:Array.prototype.slice.call(arguments)},p;try{if(j.closed)throw new Error('DocRPC window closed');p=j.DocRPC._dispatch(JSON.stringify(o));}catch(q){c('ErrorUtils').reportError(q);return;}if(typeof p=='string')try{p=JSON.parse(p);}catch(q){throw new Error('DocRPC '+k+'.'+n+' unparsable return: "'+p+'"');}return p;};});return m;}};f.exports=b.DocRPC=h;}),null);
__d('ChannelTransport',['AjaxRequest','ChannelConstants','DocRPC','LogHistory','TimeSlice','URI','bind','setTimeoutAcrossTransitions','BanzaiODS','ChatproxyClientErrorsTypedLogger'],(function a(b,c,d,e,f,g){var h=c('LogHistory').getInstance('channel');function i(v){var w=new (c('ChatproxyClientErrorsTypedLogger'))();w.setStatusCode(v.status);w.setErrorMessage(v.errorType);if(v.uri!==undefined)w.setURL(v.uri.getPath());w.log();}function j(){return (1048576*Math.random()|0).toString(36);}function k(v){return !isNaN(v)&&isFinite(v)&&0<=v&&v<=6;}function l(v,w){var x='';if(k(v.subdomain))x=v.subdomain+'-';var y=v.host;y=y===null||y===undefined?'edge-chat':v.host;var z=new (c('URI'))(w).setDomain(x+y+'.'+v.domain).setPort(v.port).setSecure(new (c('URI'))(window.location.href).isSecure());return z;}function m(v){var w={partition:v.partition,cb:j(),failure:v.pingFailuresOnSubdomain};if(v.sticky_token)w.sticky_token=v.sticky_token;if(v.sticky_pool)w.sticky_pool=v.sticky_pool;var x=l(v,'/p').setQueryData(w);h.log('start_p',{uri:x.toString()});var y=new (c('AjaxRequest'))('GET',x);if(c('AjaxRequest').supportsCORS())y.xhr.withCredentials=true;var z=function aa(ba){h.log('finish_p',{xhr:ba.toJSON?ba.toJSON():ba,subdomain:v.subdomain,fullHost:v.fullHost});};y.onError=function(aa){c('BanzaiODS').bumpEntityKey('ChannelTransport','sendP.error');i(y);z(aa);if(v.subdomain===null)return;if(k(v.subdomain)){v.pingFailuresOnSubdomain++;v.subdomain++;if(v.subdomain>6)v.subdomain=0;}};y.timeout=v.P_TIMEOUT;y.onSuccess=function(aa){c('BanzaiODS').bumpEntityKey('ChannelTransport','sendP.success');z(aa);};y.send();}function n(v,w,x){var y=new Image(),z=0,aa=function da(ea){y.abort();return ea?w():x();};y.onload=c('TimeSlice').guard(function(){h.log('ping_ok',{duration:Date.now()-z});c('BanzaiODS').bumpEntityKey('ChannelTransport','sendPing.success');aa(true);},'ChannelTransport image.onload');y.onerror=c('TimeSlice').guard(function(){m(v);c('BanzaiODS').bumpEntityKey('ChannelTransport','sendPing.error');i(y);aa(false);},'ChannelTransport image.onerror');var ba=c('setTimeoutAcrossTransitions')(y.onerror,10000);y.abort=function(){if(ba){clearTimeout(ba);ba=null;}y.onload=y.onerror=null;};var ca={partition:v.partition,cb:j()};if(v.sticky_token)ca.sticky_token=v.sticky_token;if(v.sticky_pool)ca.sticky_pool=v.sticky_pool;if(v.lastRequestErrorReason){ca.reason=v.lastRequestErrorReason;v.lastRequestErrorReason=null;}if(v.uid&&v.viewerUid){ca.uid=v.uid;ca.viewer_uid=v.viewerUid;}z=Date.now();y.src=l(v,'/ping').setQueryData(ca);return y;}function o(v,w){var x={channel:v.user_channel,partition:v.partition,clientid:v.sessionID,cb:j(),cap:0,uid:v.uid,viewer_uid:v.viewerUid};if(v.sticky_token)x.sticky_token=v.sticky_token;if(v.sticky_pool)x.sticky_pool=v.sticky_pool;if(v.profile)x.profile=v.profile;if(v.capabilities)x.cap=v.capabilities;x.id=w;var y=l(v,'/add_bud').setQueryData(x),z=new (c('AjaxRequest'))('GET',y);if(c('AjaxRequest').supportsCORS())z.xhr.withCredentials=true;z.onError=function(aa){c('BanzaiODS').bumpEntityKey('ChannelTransport','sendAdditionalBuddy.error');h.warn('add_buddy_error');i(z);};z.onSuccess=function(aa){c('BanzaiODS').bumpEntityKey('ChannelTransport','sendAdditionalBuddy.success');h.log('add_buddy_ok');};z.timeout=v.P_TIMEOUT;z.send();}function p(v){var w={channel:v.user_channel,partition:v.partition,clientid:v.sessionID,cb:j(),cap:0,uid:v.uid,viewer_uid:v.viewerUid};if(v.sticky_token)w.sticky_token=v.sticky_token;if(v.sticky_pool)w.sticky_pool=v.sticky_pool;if(v.is_offline||v.shouldSuppressPresence){w.state='offline';}else w.state='active';if(w.state===v.lastPresenceState)return;v.lastPresenceState=w.state;if(v.profile)w.profile=v.profile;if(v.capabilities)w.cap=v.capabilities;var x=l(v,'/active_ping').setQueryData(w),y=new (c('AjaxRequest'))('GET',x);if(c('AjaxRequest').supportsCORS())y.xhr.withCredentials=true;y.onError=function(z){c('BanzaiODS').bumpEntityKey('ChannelTransport','sendActivePing.error');h.warn('active_ping_error');i(y);};y.onSuccess=function(z){c('BanzaiODS').bumpEntityKey('ChannelTransport','sendActivePing.success');h.log('active_ping_ok');};y.timeout=v.P_TIMEOUT;y.send();}function q(v,w,x,y){var z=new Date(),aa=-1;if(v.userActive>0){aa=(z-v.userActive)/1000|0;if(aa<0)h.warn('idle_regression',{idleTime:aa,now:z.getTime(),userActive:v.userActive});}var ba={channel:v.user_channel,seq:v.seq,partition:v.partition,clientid:v.sessionID,cb:j(),idle:aa,qp:'y',cap:0};if(v.state.aiq)ba.aiq=v.state.aiq;if(v.ready)if(v.seqTurSentAt==-1||v.seqTurSentAt==v.seq){ba.tur=v.timeUntilReady;ba.qpmade=v.queueMade;v.seqTurSentAt=v.seq;}ba.pws=v.pws;if(v.sequenceId>0)ba.isq=v.sequenceId;ba.msgs_recv=v.estimatedReceived;if(v.uid&&v.viewerUid){ba.uid=v.uid;ba.viewer_uid=v.viewerUid;}if(v.sticky_token){ba.sticky_token=v.sticky_token;}else{ba.request_batch=1;if(v.msgr_region)ba.msgr_region=v.msgr_region;}if(v.sticky_pool)ba.sticky_pool=v.sticky_pool;if('trace_id' in v)ba.traceid=v.trace_id;if(v.is_offline||v.shouldSuppressPresence){ba.state='offline';}else if(v.userActive>0&&aa<60)ba.state='active';v.lastPresenceState=ba.state;if(v.streamingCapable){ba.mode='stream';ba.format='json';}if(v.profile)ba.profile=v.profile;if(v.capabilities)ba.cap=v.capabilities;var ca=l(v,'/pull').setQueryData(ba),da='GET',ea=new (c('AjaxRequest'))(da,ca);if(c('AjaxRequest').supportsCORS())ea.xhr.withCredentials=true;ea.timeout=v.streamingCapable?v.STREAMING_TIMEOUT:v.LONGPOLL_TIMEOUT;ea.onJSON=function(fa){c('BanzaiODS').bumpEntityKey('ChannelTransport','sendPull.json');w(fa);};ea.onSuccess=function(fa){c('BanzaiODS').bumpEntityKey('ChannelTransport','sendPull.success');x(fa);};ea.onError=function(){var fa=this.status==12002&&this._time>=v.MIN_12002_TIMEOUT||this.status==504&&this._time>=v.MIN_504_TIMEOUT,ga=fa?x:y;if(fa){c('BanzaiODS').bumpEntityKey('ChannelTransport','sendPull.success');}else{c('BanzaiODS').bumpEntityKey('ChannelTransport','sendPull.error');i(ea);}return ga&&ga.apply(this,arguments);};ea.send();v.inStreaming=v.streamingCapable;return ea;}function r(v){this.manager=v;this.init&&this.init();}function s(v){r.apply(this,arguments);}Object.assign(s.prototype,{logName:'CORS',enterState:function v(w,x){if(this._request){this._request.abort();this._request=null;}if(w=='init')c('setTimeoutAcrossTransitions')(c('bind')(this.manager,'exitState',{status:c('ChannelConstants').OK,stateId:x.stateId}),0);if(!/pull|ping/.test(w))return;var y=this.manager;if(w=='ping'){this._request=n(x,c('bind')(y,'exitState',{status:c('ChannelConstants').OK,stateId:x.stateId}),c('bind')(y,'exitState',{status:c('ChannelConstants').ERROR,stateId:x.stateId}));}else if(w=='pull')this._request=q(x,c('bind')(y,'_processTransportData',x.stateId),c('bind')(y,'exitState',{status:c('ChannelConstants').OK,stateId:x.stateId}),c('bind')(y,'exitState',{status:c('ChannelConstants').ERROR,stateId:x.stateId}));}});function t(v){h.log('iframe_init_constructor');r.apply(this,arguments);this._iframe=document.createElement('iframe');this._iframe.style.display='none';document.body.appendChild(this._iframe);c('DocRPC').publish(this,'outerTransport');}Object.assign(t.prototype,{logName:'iframe',_initIframe:function v(w){h.log('iframe_init_start');window.onchanneliframeready=function(){h.log('iframe_resources');return w.resources;};window.onchanneliframeloaded=function(){h.log('iframe_loaded');};if(w){this._iframeURI=l(w,w.path);if(w.resources){var x=this._iframeURI.getDomain();w.resources=w.resources.map(function(y){var z=new (c('URI'))(y);if(z.getPath().startsWith('/intern/rsrc.php')&&z.getQueryData().origin!==undefined)return z.addQueryData('origin',x).toString();return y;});}}else this._iframeURI='about:blank';this._iframeProxy=null;try{this._iframe.contentWindow.location.replace(this._iframeURI);h.log('iframe_uri_set');}catch(y){h.error('iframe_uri_set_error',y);this.exitState({status:c('ChannelConstants').ERROR,stateId:w.stateId},y+'');}},enterState:function v(w,x){if(w=='init'){this._initIframe(x);}else if(/idle|ping|pull/.test(w)){if(this._iframeProxy){this._iframeProxy.enterState.apply(this._iframeProxy,arguments);}else if(w!='idle')this.exitState({status:c('ChannelConstants').ERROR,stateId:x.stateId},'iframe not yet loaded');}else if(w=='shutdown')this._initIframe();},_processTransportData:function v(){this.manager._processTransportData.apply(this.manager,arguments);},exitState:function v(w){if(this.manager.state=='init'&&w.status==c('ChannelConstants').OK)this._iframeProxy=c('DocRPC').proxy(this._iframe.contentWindow,'innerTransport',['enterState'],(this._iframeURI+'').replace(/iframe.*/,''));if(/ping|pull/.test(this.manager.state)&&!this._iframeProxy)return;this.manager.exitState.apply(this.manager,arguments);}});function u(){this.init=this.init.bind(this);r.apply(this,arguments);}Object.assign(u.prototype,{logName:'iframe(inner)',init:function v(){c('DocRPC').publish(this,'innerTransport');try{var w=c('DocRPC').proxy(window.parent,'outerTransport',['_processTransportData','exitState'],top.DocRPC.origin);Object.assign(this,w);this.exitState({status:c('ChannelConstants').OK,stateId:1e+06});}catch(x){h.error('iframe_inner_init_error',x);}},enterState:function v(w,x){if(this._request){this._request.abort();this._request=null;}if(w=='ping'){this._request=n(x,c('bind')(this,'exitState',{status:c('ChannelConstants').OK,stateId:x.stateId}),c('bind')(this,'exitState',{status:c('ChannelConstants').ERROR,stateId:x.stateId}));}else if(w=='pull')this._request=q(x,c('bind')(this,'_processTransportData',x.stateId),c('bind')(this,'exitState',{status:c('ChannelConstants').OK,stateId:x.stateId}),c('bind')(this,'exitState',{status:c('ChannelConstants').ERROR,stateId:x.stateId}));}});f.exports={isSubdomain:k,getURI:l,Transport:r,CORSTransport:s,IframeTransport:t,IframeInnerTransport:u,sendActivePing:p,sendAdditionalBuddyRequest:o};}),null);
__d('ChannelTransportDataLogger',['Arbiter','JSLogger','MercuryLoggingHelper'],(function a(b,c,d,e,f,g){'use strict';var h=[],i=10,j=function l(m){return m.map(function(n){var o=n;if(n.message||n.delta&&n.delta.body){o=babelHelpers['extends']({},n);if(n.message)o.message=c('MercuryLoggingHelper').obfuscateMessage(n.message);if(n.delta&&n.delta.body)o.delta=c('MercuryLoggingHelper').obfuscateMessage(n.delta);}return o;});},k={log:function l(m){var n={t:m.t,seq:m.seq};if(m.ms)n.ms=j(m.ms);h.push(n);if(h.length>i)h.shift();}};c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(l,m){m.channelTransportLog=h;});f.exports=k;}),null);
__d('ChatProxyConnectionState',[],(function a(b,c,d,e,f,g){'use strict';function h(){this.auxiliaryIrisQueues={};this.aiq=null;}h.prototype.subscribeIrisQueue=function(i,j){this.auxiliaryIrisQueues[i]=j;this.updateCaches();};h.prototype.unsubscribeIrisQueue=function(i){delete this.auxiliaryIrisQueues[i];this.updateCaches();};h.prototype.updateCaches=function(){var i=[];for(var j in this.auxiliaryIrisQueues)if(Object.prototype.hasOwnProperty.call(this.auxiliaryIrisQueues,j)){i.push(j);i.push(this.auxiliaryIrisQueues[j]);}if(i.length===0){this.aiq=null;}else this.aiq=i.join(',');};f.exports=h;}),null);
__d('FBAjaxRequest',['AjaxRequest','getAsyncParams'],(function a(b,c,d,e,f,g){function h(i,j,k){k=babelHelpers['extends']({},c('getAsyncParams')(i),k);var l=new (c('AjaxRequest'))(i,j,k);l.streamMode=false;var m=l._call;l._call=function(n){if(n=='onJSON'&&this.json){if(this.json.error){this.errorType=c('AjaxRequest').SERVER_ERROR;this.errorText='AsyncResponse error: '+this.json.error;}this.json=this.json.payload;}m.apply(this,arguments);};l.ajaxReqSend=l.send;l.send=function(n){this.ajaxReqSend(babelHelpers['extends']({},n,k));};return l;}f.exports=h;}),null);
__d('FantailLogger',['FantailConfig'],(function a(b,c,d,e,f,g){var h=c('FantailConfig').FantailLogQueue,i={debug:function j(k,l){var m;for(var n=arguments.length,o=Array(n>2?n-2:0),p=2;p<n;p++)o[p-2]=arguments[p];h&&(m=h.get(k)).debug.apply(m,[l].concat(o));},info:function j(k,l){var m;for(var n=arguments.length,o=Array(n>2?n-2:0),p=2;p<n;p++)o[p-2]=arguments[p];h&&(m=h.get(k)).info.apply(m,[l].concat(o));},warn:function j(k,l){var m;for(var n=arguments.length,o=Array(n>2?n-2:0),p=2;p<n;p++)o[p-2]=arguments[p];h&&(m=h.get(k)).warn.apply(m,[l].concat(o));},error:function j(k,l){var m;for(var n=arguments.length,o=Array(n>2?n-2:0),p=2;p<n;p++)o[p-2]=arguments[p];h&&(m=h.get(k)).error.apply(m,[l].concat(o));}};f.exports=i;}),null);
__d("MovingStat",[],(function a(b,c,d,e,f,g){function h(i){i=i||60000;var j={t:new Date(),count:0,v:0},k=j,l=0,m=0;function n(){var o=new Date()-i;while(k&&k.next&&k.t<o){l-=k.v;m-=k.count;k=k.next;}}this.add=function(o){l+=o;m++;var p=new Date();if(p-j.t<1000){j.v+=o;j.count++;}else{j.next={t:p,v:o,count:1};j=j.next;n();}};this.tally=function(o){o=o||1000;n();return {sum:l,count:m,timeAverage:l*o/i};};}f.exports=h;}),null);
__d('Dcode',[],(function a(b,c,d,e,f,g){var h,i={},j={_:'%',A:'%2',B:'000',C:'%7d',D:'%7b%22',E:'%2c%22',F:'%22%3a',G:'%2c%22ut%22%3a1',H:'%2c%22bls%22%3a',I:'%2c%22n%22%3a%22%',J:'%22%3a%7b%22i%22%3a0%7d',K:'%2c%22pt%22%3a0%2c%22vis%22%3a',L:'%2c%22ch%22%3a%7b%22h%22%3a%22',M:'%7b%22v%22%3a2%2c%22time%22%3a1',N:'.channel%22%2c%22sub%22%3a%5b',O:'%2c%22sb%22%3a1%2c%22t%22%3a%5b',P:'%2c%22ud%22%3a100%2c%22lc%22%3a0',Q:'%5d%2c%22f%22%3anull%2c%22uct%22%3a',R:'.channel%22%2c%22sub%22%3a%5b1%5d',S:'%22%2c%22m%22%3a0%7d%2c%7b%22i%22%3a',T:'%2c%22blc%22%3a1%2c%22snd%22%3a1%2c%22ct%22%3a',U:'%2c%22blc%22%3a0%2c%22snd%22%3a1%2c%22ct%22%3a',V:'%2c%22blc%22%3a0%2c%22snd%22%3a0%2c%22ct%22%3a',W:'%2c%22s%22%3a0%2c%22blo%22%3a0%7d%2c%22bl%22%3a%7b%22ac%22%3a',X:'%2c%22ri%22%3a0%7d%2c%22state%22%3a%7b%22p%22%3a0%2c%22ut%22%3a1',Y:'%2c%22pt%22%3a0%2c%22vis%22%3a1%2c%22bls%22%3a0%2c%22blc%22%3a0%2c%22snd%22%3a1%2c%22ct%22%3a',Z:'%2c%22sb%22%3a1%2c%22t%22%3a%5b%5d%2c%22f%22%3anull%2c%22uct%22%3a0%2c%22s%22%3a0%2c%22blo%22%3a0%7d%2c%22bl%22%3a%7b%22ac%22%3a'};(function(){var l=[];for(var m in j){i[j[m]]=m;l.push(j[m]);}l.reverse();h=new RegExp(l.join("|"),'g');})();var k={encode:function l(m){return encodeURIComponent(m).replace(/([_A-Z])|%../g,function(n,o){return o?'%'+o.charCodeAt(0).toString(16):n;}).toLowerCase().replace(h,function(n){return i[n];});},decode:function l(m){return decodeURIComponent(m.replace(/[_A-Z]/g,function(n){return j[n];}));}};f.exports=k;}),null);
__d('PresenceCookieManager',['Cookie','CurrentUser','Dcode','ErrorUtils','JSLogger','PresenceInitialData','PresenceUtil','WebStorage','WorkModeConfig'],(function a(b,c,d,e,f,g){var h=c('PresenceInitialData').cookieVersion,i='presence',j={},k=null,l=null,m=c('JSLogger').create('presence_cookie');function n(y){var z=c('Cookie').get(i)||'';if(z.length===0)return null;if(z[0]!==y)return null;return z.substring(1);}function o(y,z){c('Cookie').set(i,y+z);}function p(){if(!(c('PresenceInitialData').useWebStorage||false))return null;return c('WebStorage').getSessionStorage();}function q(){var y=p(),z=y!=null?y.getItem(i):null;if(z!=null)return z.substring(1);return null;}function r(y){var z=p();if(z==null)return false;z.setItem(i,'E'+y);return true;}function s(){var y=q();if(y!=null)return y;return n('E');}function t(y){var z=y.state;if(z==null)return '';var aa=n('S')||'',ba=c('WorkModeConfig').is_work_user?'w':'f',ca=c('WorkModeConfig').is_work_user?z.t3w:z.t3,da=ca!=null?ca.length>0:false,ea=aa.indexOf(ba)!==-1;if(ea&&!da)aa=aa.replace(ba,'');if(!ea&&da)aa+=ba;return aa;}function u(y,z){var aa=r(y);if(aa){o('S',z);}else{if(y.length>1024)m.warn('big_cookie',y.length);o('E',y);}}function v(){try{var y=s();if(k!==y){k=y;l=null;if(y){y=c('Dcode').decode(y);l=JSON.parse(y);}}if(l){if(l.user&&l.user!==c('CurrentUser').getID())return null;if(l.v!==h)return null;return l;}}catch(z){m.warn('getcookie_error',z);}return null;}function w(){return parseInt(Date.now()/1000,10);}var x={register:function y(z,aa){j[z]=aa;},store:function y(){var z=v();if(z&&z.v&&h<z.v){m.debug('stale_cookie',h);return;}var aa={v:h,time:w(),user:c('CurrentUser').getID()};for(var ba in j)aa[ba]=c('ErrorUtils').applyWithGuard(j[ba],j,[z&&z[ba]],function(da){da.presence_subcookie=ba;});var ca=c('Dcode').encode(JSON.stringify(aa));if(c('PresenceUtil').hasUserCookie())u(ca,t(aa));},clear:function y(){c('Cookie').clear(i);var z=c('WebStorage').getSessionStorage();if(z!=null)z.removeItem(i);},getSubCookie:function y(z){var aa=v();if(!aa)return null;return aa[z];}};f.exports=x;}),null);
__d('FantaConst',[],(function a(b,c,d,e,f,g){'use strict';var h={DEFAULT_ALLOWED_RAISED_TABS:2,DEFAULT_MESSAGE_COUNT:10,cookieIDs:{PERSONAL_COOKIE_ID:'t3',PERSONAL_FOCUS_COOKIE_ID:'lm3',PERSONAL_TIME_COOKIE_ID:'utc3',WORK_COOKIE_ID:'t3w',WORK_FOCUS_COOKIE_ID:'lm3w',WORK_TIME_COOKIE_ID:'utc3w'},getCookieIDs:function i(){return [h.cookieIDs.PERSONAL_COOKIE_ID,h.cookieIDs.PERSONAL_FOCUS_COOKIE_ID,h.cookieIDs.PERSONAL_TIME_COOKIE_ID,h.cookieIDs.WORK_COOKIE_ID,h.cookieIDs.WORK_FOCUS_COOKIE_ID,h.cookieIDs.WORK_TIME_COOKIE_ID];}};f.exports=h;}),null);
__d('PresenceState',['Arbiter','ErrorUtils','FantaConst','JSLogger','PresenceCookieManager','debounceAcrossTransitions','setIntervalAcrossTransitions','PresenceInitialData'],(function a(b,c,d,e,f,g){'use strict';var h=c('PresenceInitialData').cookiePollInterval||2000,i=c('PresenceInitialData').shouldSuppress||false,j=[],k=[],l=null,m=null,n=0,o=null,p=0,q=['sb2','tr','tw','at','wml'].concat(c('FantaConst').getCookieIDs()),r=c('JSLogger').create('presence_state');function s(){return c('PresenceCookieManager').getSubCookie('state');}function t(){n=Date.now();c('PresenceCookieManager').store();x(m);}var u=c('debounceAcrossTransitions')(t,0);function v(ca){if(ca==undefined||isNaN(ca)||ca==Number.POSITIVE_INFINITY||ca==Number.NEGATIVE_INFINITY)ca=0;return ca;}function w(ca){var da={};if(ca){q.forEach(function(ga){if(ca&&ca[ga])da[ga]=ca[ga];});if(n<ca.ut)r.error('new_cookie',{cookie_time:ca.ut,local_time:n});}da.ut=n;for(var ea=0,fa=j.length;ea<fa;ea++)c('ErrorUtils').applyWithGuard(j[ea],null,[da]);m=da;return m;}function x(ca){p++;n=v(ca&&ca.ut);if(!l)l=c('setIntervalAcrossTransitions')(aa,h);m=ca;if(o===null)o=ca;for(var da=0,ea=k.length;da<ea;da++)c('ErrorUtils').applyWithGuard(k[da],null,[ca]);p--;}function y(ca){if(ca&&ca.ut)if(n<ca.ut){return true;}else if(ca.ut<n)r.error('old_cookie',{cookie_time:ca.ut,local_time:n});return false;}function z(){var ca=s();if(y(ca))m=ca;return m;}function aa(){var ca=s();if(y(ca))x(ca);}c('PresenceCookieManager').register('state',w);c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(ca,da){da.presence_state={initial:babelHelpers['extends']({},o),state:babelHelpers['extends']({},m),update_time:n,sync_paused:p,poll_time:h};});(function(){var ca=z();if(ca){x(ca);}else{r.debug('no_cookie_initial');x(w());return;}})();var ba={doSync:function ca(da){if(p)return;if(da){t();}else u();},registerStateStorer:function ca(da){j.push(da);},registerStateLoader:function ca(da){k.push(da);},get:function ca(){return z();},getInitial:function ca(){return o;},shouldSuppress:function ca(){return i;},verifyNumber:v};f.exports=ba;}),null);
__d('RTISession',['invariant','URI','AjaxRequest','ErrorUtils','ChatproxyClientErrorsTypedLogger','BanzaiODS','Set'],(function a(b,c,d,e,f,g,h){'use strict';var i='.facebook.com';function j(k,l,m,n,o,p,q,r,s){k||h(0);n||h(0);o||h(0);this.domain=k;this.port=l;this.edgePoolName=m;this.stickyToken=n;this.loggedInId=o;this.accountId=p;this.clientProfile=q||'desktop';this.clientId=r;this.capabilities=s;}j.prototype.issueRequest=function(k,l,m,n,o){k||h(0);l||h(0);n||h(0);var p=this.domain.length-i.length,q=p>0&&this.domain.indexOf(i,p)!==-1,r=q?this.domain:this.domain+i,s=(1048576*Math.random()|0).toString(36),t={cb:s,sticky_token:this.stickyToken,uid:this.loggedInId,viewer_uid:this.accountId,sticky_pool:this.edgePoolName,profile:this.clientProfile,clientid:this.clientId,cap:this.capabilities};for(var u in t)!l[u]||h(0);Object.assign(t,l);var v=new (c('URI'))(k).setDomain(r).setPort(this.port).setSecure(new (c('URI'))(window.location.href).isSecure()).setQueryData(t),w=m?'POST':'GET',x=new (c('AjaxRequest'))(w,v);x.timeout=o?o*1000:30000;if(x.xhr)x.xhr.withCredentials=true;var y={};x.onSuccess=function(){c('BanzaiODS').bumpEntityKey('RTISession','request.success');};x.onJSON=function(){y.data=x.json;y.error=null;c('ErrorUtils').applyWithGuard(n,this,[y]);}.bind(this);x.onError=function(){var z=new (c('Set'))();if(m!==undefined&&m.subscriptions!==undefined)for(var aa=0;aa<m.subscriptions.length;aa++){var ba=m.subscriptions[aa].topic.split('/');ba.pop();z.add(ba.join('/'));}y.data=null;y.error=x.errorType||'error';c('BanzaiODS').bumpEntityKey('RTISession','request.error');this.logRequestFailure(x,z);c('ErrorUtils').applyWithGuard(n,this,[y]);}.bind(this);x.send(JSON.stringify(m));};j.prototype.logRequestFailure=function(k,l){var m=new (c('ChatproxyClientErrorsTypedLogger'))();m.setStatusCode(k.status);m.setErrorMessage(k.errorType);m.setTopicPrefixes(l);m.setURL(k.uri.getPath());m.log();};f.exports=j;}),null);
__d('ChannelManager',['errorCode','Promise','AjaxRequest','Arbiter','AsyncRequest','BanzaiODS','ChannelClientID','ChannelConstants','ChannelInitialData','ChannelSubdomain','ChannelTransport','ChannelTransportDataLogger','ChatVisibility','ChatReliabilityInstrumentation','DTSG','Env','FantailLogger','FBAjaxRequest','FBRTCSupport','ISB','JSLogger','LogHistory','MovingStat','PresenceCookieManager','PresenceState','PresenceUtil','Random','RTISession','SystemEvents','URI','UserActivity','ChatProxyConnectionState','emptyFunction','requestAnimationFrameAcrossTransitions','setIntervalAcrossTransitions','setTimeoutAcrossTransitions','clearTimeout'],(function a(b,c,d,e,f,g,h){var i,j=c('JSLogger').create('channel'),k=c('LogHistory').getInstance('channel_manager'),l=null,m=c('emptyFunction'),n=new (c('Promise'))(function(z,aa){m=z;});function o(z){l=z;}var p={idle:{ok:'init!'},init:{ok:'pull!',error:'reconnect',sys_online:'init',sys_timetravel:'init'},pull:{ok:'pull!',error:'ping',error_missing:'pull',error_msg_type:'pull',refresh_0:'reconnect',refresh_110:'reconnect',refresh_111:'reconnect',refresh_112:'pull',refresh_113:'pull',refresh_117:'reconnect'},ping:{ok:'pull!',error:'ping',error_stale:'reconnect!'},reconnect:{ok:'init!',error:'reconnect',sys_online:'reconnect',sys_timetravel:'reconnect'},shutdown:{},_all:{error_max:'shutdown!',error_shutdown:'shutdown!',sys_owner:'reconnect',sys_nonowner:'idle!',sys_online:'ping',sys_offline:'idle!',sys_timetravel:'ping'}},q={state:new (c('ChatProxyConnectionState'))(),userActive:Date.now(),created:Date.now(),ready:false,seqTurSentAt:-1,queueMade:'',sequenceId:0,lastPresenceState:null,lastRequestErrorReason:null,seq:0,pingFailuresOnSubdomain:0,pws:'fresh',estimatedReceived:0,sessionID:c('ChannelClientID').getID(),capabilities:c('FBRTCSupport').getCapabilities(),streamingCapable:false,inStreaming:false,shouldSuppressPresence:c('PresenceState').shouldSuppress(),LONGPOLL_TIMEOUT:60000,STREAMING_TIMEOUT:60000,P_TIMEOUT:30000,IFRAME_LOAD_TIMEOUT:30000,MIN_RETRY_INTERVAL:5000,MAX_RETRY_INTERVAL:320000,MIN_12002_TIMEOUT:9000,MIN_504_TIMEOUT:20000,STALL_THRESHOLD:180000,JUMPSTART_THRESHOLD:90000,MIN_INIT_PROBE_DELAY:3000,INIT_PROBE_DELAY_RANDOMIZE_RANGE:12000,CHANNEL_PROXY_REPORTING_MIN_INTERVAL:10000,PROBE_DELAY:60000,PROBE_HEARTBEATS_INTERVAL_LOW:1000,PROBE_HEARTBEATS_INTERVAL_HIGH:5000,STREAMING_EXIT_STATE_ON_CONTINUE:false},r=1,s={},t=0;function u(){return c('AsyncRequest').lastSuccessTime?Math.round((Date.now()-c('AsyncRequest').lastSuccessTime)/1000):-1;}function v(){var z={};if(i.getConfig('host'))z[i.getConfig('user_channel')]=i.getConfig('seq',0);return z;}function w(){var z=Date.now(),aa=Date.now(),ba={total:0},ca='idle',da=false;c('SystemEvents').subscribe([c('SystemEvents').USER,c('SystemEvents').ONLINE,c('SystemEvents').TIME_TRAVEL],function(ga,ha){x(true);aa=null;i.lastPullTime=Date.now();var ia;switch(ga){case c('SystemEvents').USER:ia=c('SystemEvents').isPageOwner()?c('ChannelConstants').SYS_OWNER:c('ChannelConstants').SYS_NONOWNER;break;case c('SystemEvents').ONLINE:ia=ha?c('ChannelConstants').SYS_ONLINE:c('ChannelConstants').SYS_OFFLINE;break;case c('SystemEvents').TIME_TRAVEL:if(q.skipTimeTravel)return;if(0<ha){c('FantailLogger').warn(c('ChannelConstants').FANTAIL_SERVICE,'skipping time travel failure. %s',ha);return;}ia=c('ChannelConstants').SYS_TIMETRAVEL;break;}i.exitState({status:ia,stateId:r});});var ea=function ga(ha,ia){var ja=Date.now(),ka=null;if(ia){z=ja;ka=ia.nextState||ia.state;}else ka=ca;c('SystemEvents').checkTimeTravel();if(aa){var la=Math.round((ja-aa)/1000);if(la>0){ba[ca]=(ba[ca]||0)+la;ba.total+=la;}}ca=ka;aa=ja;if(!ha){ba.lastSuccessTime=u();ba.online=c('SystemEvents').isOnline();k.log('rollup',JSON.stringify(ba));}};c('Arbiter').subscribe(c('ChannelConstants').ON_ENTER_STATE,ea);c('setIntervalAcrossTransitions')(ea,60000);c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(ga,ha){ha.channelRollup=ba;});var fa=function ga(){if(i.isShutdown()||i.shouldIdle())return;c('SystemEvents').checkTimeTravel();var ha=Date.now()-(i.lastPullTime||c('Env').start);if(!da&&ha>q.STALL_THRESHOLD){var ia=u();k.error('stall',JSON.stringify({lastSuccessTime:ia,rollupState:ca}));c('ChatReliabilityInstrumentation').logCHANNEL_STALLED(ha.toString());da=true;}var ja=Date.now()-z;if(i.state=='pull'&&ja>q.JUMPSTART_THRESHOLD){z=null;k.warn('jumpstart',JSON.stringify({state:i.state,dormant:ja}));i.enterState('init');}};c('setIntervalAcrossTransitions')(fa,5000);}function x(z){if(z){t=0;s={};}else t++;}function y(z,aa){var ba=!c('AjaxRequest').supportsCORS();if(!Object.prototype.hasOwnProperty.call(q,'host'))c('ChatReliabilityInstrumentation').logERROR('channel: no host in config');var ca=c('ChannelTransport').isSubdomain(q.subdomain);if(!ca||ba){q.fullHost=q.host;}else q.fullHost=q.subdomain+'-'+q.host;c('FantailLogger').info(c('ChannelConstants').FANTAIL_SERVICE,'received lb info: %s at seq: %s{%s} with '.concat('sticky: %s/%s, subdomain: %s, fullHost: %s, state: %s,').concat(' source: %s, args: %s'),q.sessionID,q.seq,q.sequenceId,q.sticky_token,q.sticky_pool,q.subdomain,q.fullHost,i.state,z,aa);}i={state:'idle',nextState:null,proxyDown:false,lastPullTime:Date.now(),lastReportOnMisguidedMsgTime:Date.now(),heartbeats:[],setTestCallback:o,backoff:false,sessionRegistered:false,init:function z(aa,ba){c('FantailLogger').info(c('ChannelConstants').FANTAIL_SERVICE,'initializing sessionid:%s at iris-seq:%s',q.sessionID,q.sequenceId);this.init=c('emptyFunction');c('Arbiter').subscribe(c('ChannelConstants').GET_RTI_SESSION_REQUEST,function(event,ga){this.informCurrentSession();}.bind(this));c('requestAnimationFrameAcrossTransitions')(function(){c('FantailLogger').info(c('ChannelConstants').FANTAIL_SERVICE,'using session id: %s at seq: %s {%s} with sticky: %s/%s',q.sessionID,q.seq,q.sequenceId,q.sticky_token,q.sticky_pool);c('UserActivity').subscribe(function(){var ga=c('ChannelTransport').getURI(q,'/U');c('FantailLogger').info(c('ChannelConstants').FANTAIL_SERVICE,'user activity sessionid: %s at seq: %s/{%s} '+'with sticky: %s/%s state: %s uri: %s',q.sessionID,q.seq,q.sequenceId,q.sticky_token,q.sticky_pool,i.state,ga);if(i.state=='pull'){q.userActive=Date.now();c('ChannelTransport').sendActivePing(q);}});c('Arbiter').subscribe(c('ChannelConstants').ENTITY_PRESENCE_ACTIVE_PING,function(ga,ha){var ia=c('ChannelTransport').getURI(q,'/U');c('FantailLogger').info(c('ChannelConstants').FANTAIL_SERVICE,'entity presence activity sessionid: %s at seq: %s/{%s} '+'with sticky: %s/%s state: %s entity: %s uri: %s',q.sessionID,q.seq,q.sequenceId,q.sticky_token,q.sticky_pool,i.state,ha,ia);if(i.state=='pull')q.userActive=Date.now();});});c('PresenceCookieManager').register('ch',v);var ca=this.getConfig('max_conn',2);q.subdomain=c('ChannelSubdomain').allocate(ca);if(!c('ChannelTransport').isSubdomain(q.subdomain)){c('FantailLogger').info(c('ChannelConstants').FANTAIL_SERVICE,'invalid subdomain from ChannelSubdomain: %s',q.subdomain);q.subdomain=null;}this._transportRate=new (c('MovingStat'))(30000);var da=c('AjaxRequest').supportsCORS()?'CORSTransport':'IframeTransport';this.transport=new (c('ChannelTransport')[da])(this);m(this.transport);if(aa)this.enterState(aa,ba);c('requestAnimationFrameAcrossTransitions')(function(){c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(event,ga){if(this._transportRate){ga.transportRate=this._transportRate.tally();ga.transportType=da;ga.transportVersion=2;}}.bind(this));w();}.bind(this));if(i.getConfig('fullHost')&&c('AjaxRequest').supportsCORS()){if(i.getConfig('tryStreaming')){var ea=q.MIN_INIT_PROBE_DELAY+c('Random').random()*q.INIT_PROBE_DELAY_RANDOMIZE_RANGE;c('setTimeoutAcrossTransitions')(this._probeTest,ea);}if(i.getConfig('trySSEStreaming')){var fa=q.MIN_INIT_PROBE_DELAY+c('Random').random()*q.INIT_PROBE_DELAY_RANDOMIZE_RANGE;c('setTimeoutAcrossTransitions')(this._sseProbeTest,fa);}}},configure:function z(){for(var aa=arguments.length,ba=Array(aa),ca=0;ca<aa;ca++)ba[ca]=arguments[ca];k.log('configure',JSON.stringify(ba));ba.forEach(function(da){return Object.assign(q,da);});y('reconnect',JSON.stringify(ba));c('Arbiter').inform(c('ChannelConstants').ON_CONFIG,this);},getConfig:function z(aa,ba){return Object.prototype.hasOwnProperty.call(q,aa)?q[aa]:ba;},getCompleteConfig:function z(){return q;},subscribeIrisQueue:function z(aa,ba){q.state.subscribeIrisQueue(aa,ba);this.exitState({status:c('ChannelConstants').OK,stateId:r});},unsubscribeIrisQueue:function z(aa){q.state.unsubscribeIrisQueue(aa);},informCurrentSession:function z(){var aa=null;if(this.sessionRegistered&&q&&q.fullHost&&q.sticky_token&&q.uid)aa=new (c('RTISession'))(q.fullHost,q.port,q.sticky_pool,q.sticky_token,q.uid,q.viewerUid,q.profile,q.sessionID,q.capabilities);c('Arbiter').inform(c('ChannelConstants').RTI_SESSION,aa);},isShutdown:function z(){return this.state=='shutdown';},shouldIdle:function z(){return !(c('SystemEvents').isPageOwner()&&c('SystemEvents').isOnline());},_sendIframeError:function z(aa){var ba=new (c('AsyncRequest'))().setURI('/ajax/presence/reconnect.php').setData({reason:aa,fb_dtsg:c('DTSG').getToken()}).setOption('suppressErrorHandlerWarning',true).setOption('retries',1).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true);ba.specifiesWriteRequiredParams()&&ba.send();},_getDelay:function z(){var aa=Math.min(q.MIN_RETRY_INTERVAL*Math.pow(2,Math.max(0,t-1)),q.MAX_RETRY_INTERVAL);if(this.proxyDown&&'proxy_down_delay_millis' in q)aa=q.proxy_down_delay_millis;this.proxyDown=false;return Math.floor(aa*(1+Math.random()*.5));},resetDelay:function z(){x(true);},enterState:function z(){if(this._inEnterState){k.warn('enterstate_recursion',JSON.stringify({state:this.state,args:arguments}));c('ChatReliabilityInstrumentation').logERROR('enterstate_recursion');}this._inEnterState=true;try{this._enterState.apply(this,arguments);this._inEnterState=false;}catch(aa){this._inEnterState=false;throw aa;}},_enterState:function z(aa){var ba=this.backoff?this._getDelay():0;this.backoff=false;if(this.isShutdown()){c('FantailLogger').warn(c('ChannelConstants').FANTAIL_SERVICE,'not executing state due to shutdown mode: %s',aa);return;}if(aa!='idle!'&&this.shouldIdle()){c('FantailLogger').warn(c('ChannelConstants').FANTAIL_SERVICE,'forced idleness');return;}r++;q.stateId=r;c('clearTimeout')(this._deferredTransition);this._deferredTransition=null;if(!this.transport){n.done(function(ha){return ha.enterState('idle');});c('ChatReliabilityInstrumentation').logERROR('called enterState '+aa+' before transport init');}else this.transport.enterState('idle');this.state='idle';this.nextState=null;if(/!$/.test(aa)){if(this._transportRate){var ca=this._transportRate.tally().timeAverage,da=i.getConfig('MAX_CHANNEL_STATES_PER_SEC',1);if(ca>=da){if(!this._throttled){this._throttled=true;k.warn('throttled','{}');}j.bump('throttle');ba=1000/da;}}}else if(!/#$/.test(aa))ba=this._getDelay();aa=aa.replace(/\W*$/,'');if(!p[aa]){c('FantailLogger').error(c('ChannelConstants').FANTAIL_SERVICE,'invalid state: %s',aa);throw new Error('invalid state:'+aa);}var ea=Array.from(arguments),fa;if(ba<=0){fa={state:aa};if(this._transportRate)this._transportRate.add(1);this.state=aa;var ga=this['_enter_'+this.state];if(ga){ea.shift();ga.apply(this,ea);}if(/init|idle|pull|ping/.test(this.state)){if(q.streamingCapable&&/pull/.test(this.state))this.heartbeats=[];q.is_offline=!c('ChatVisibility').isOnline();q.capabilities=c('FBRTCSupport').getCapabilities();c('FantailLogger').info(c('ChannelConstants').FANTAIL_SERVICE,'entering transport state: %s',this.state);if(!this.transport){n.done(function(ha){return ha.enterState(this.state,q);}.bind(this));c('ChatReliabilityInstrumentation').logERROR('called enterState '+aa+' before transport init');}else this.transport.enterState(this.state,q);if(this.state=='ping'){fa.url=c('ChannelTransport').getURI(q).toString();fa.port=q.port||'undefined';}}}else{this.state='idle';this.nextState=aa;fa={state:this.state,delay:ba,nextState:aa};ea[0]=aa+'#';this._deferredTransition=c('setTimeoutAcrossTransitions')(function(){this._deferredTransition=null;this.enterState.apply(this,ea);}.bind(this),ba);}if(/pull/.test(aa)){fa.client_id=q.sessionID;fa.streaming=q.inStreaming;}c('Arbiter').inform(c('ChannelConstants').ON_ENTER_STATE,fa);},exitState:function z(aa,ba){var ca=aa.stateId,da=aa.status;if(this.isShutdown()||ca<r)return;var ea=this.state,fa=Array.from(arguments);fa[0]=aa.status;var ga={state:ea,status:da};if(/pull/.test(ea)){ga.client_id=q.sessionID;ga.streaming=q.inStreaming;}if(/ping/.test(ea)&&da!=c('ChannelConstants').OK)ga.url=c('ChannelTransport').getURI(q).toString();if(this.nextState)ga.nextState=this.nextState;if(ba&&ba.errorType){q.lastRequestErrorReason=ba.errorType;ga.xhr=ba.toJSON?ba.toJSON():ba;if(ba.errorType==c('AjaxRequest').SERVICE_UNAVAILABLE){c('FantailLogger').error(c('ChannelConstants').FANTAIL_SERVICE,'got 5xx http status code, setting long delay');this.proxyDown=true;}delete ga.xhr.json;}else if(da!=c('ChannelConstants').OK)q.lastRequestErrorReason=da;if(ba&&ba.json){if(ba.json.t)ga.t=ba.json.t;if(ba.json.reason)ga.reason=ba.json.reason;if(ba.json.seq)ga.seq=ba.json.seq;}c('Arbiter').inform(c('ChannelConstants').ON_EXIT_STATE,ga);var ha=this['_exit_'+ea];if(ha)da=ha.apply(this,fa)||da;if(da!=c('ChannelConstants').OK){x();s[ea]=(s[ea]||0)+1;}var ia=p[this.nextState||ea][da]||p._all[da],ja=ia&&ia.replace(/!*$/,'');if(!ja){k.error('terminal_transition',JSON.stringify(ga));this._shutdownHint=c('ChannelConstants').HINT_INVALID_STATE;ia='shutdown!';c('FantailLogger').error(c('ChannelConstants').FANTAIL_SERVICE,'entering shutdown state');}this._lastState=ea;this._lastStatus=da;this.enterState(ia);},_processTransportData:function z(aa,ba){this._processTransportData0(aa,ba,ba.json);},_processTransportData0:function z(aa,ba,ca){var da=ca.t;if('s' in ca){ca.seq=ca.s;delete ca.s;}if(ca.u&&q.user&&ca.u!=q.user){k.warn('misguided_msg',JSON.stringify({user:q.user,target:ca.u}));this._reportProxyMisguidedMsg(ca.u,q.user);return;}c('ChannelTransportDataLogger').log(ca);var ea=q.seq;if('seq' in ca){q.seq=ca.seq;c('PresenceState').doSync();}switch(da){case 'continue':if(q.inStreaming&&this.heartbeats.length<1){q.streamingCapable=false;k.log('switch_to_longpoll','{}');c('setTimeoutAcrossTransitions')(this._probeTest,q.PROBE_DELAY);}x(true);if(!q.inStreaming||q.STREAMING_EXIT_STATE_ON_CONTINUE)this.exitState({status:c('ChannelConstants').OK,stateId:aa});break;case 'refresh':case 'refreshDelay':c('FantailLogger').info(c('ChannelConstants').FANTAIL_SERVICE,'got refresh with reason: %s',ca.reason);this.exitState({status:'refresh_'+(ca.reason||0),stateId:aa},ba);break;case 'backoff':c('FantailLogger').warn(c('ChannelConstants').FANTAIL_SERVICE,'server told client to back off');x();this.backoff=true;break;case 'lb':var fa=ca.lb_info;if(fa){q.sticky_token=fa.sticky;if('pool' in fa)q.sticky_pool=fa.pool;if('sd' in fa){var ga=fa.subdomain;if(c('ChannelTransport').isSubdomain(ga))q.subdomain=fa.subdomain;}if('vip' in fa)q.host=fa.vip;y('chatproxy',JSON.stringify(ca));}else k.error('missing_lb_info','{}');break;case 'test_streaming':c('setTimeoutAcrossTransitions')(this._probeTest,500);break;case 'fullReload':c('PresenceCookieManager').clear();k.log('full_reload','{}');this.sessionRegistered=true;this.informCurrentSession();c('Arbiter').inform(c('ChannelConstants').ON_INVALID_HISTORY);x(true);c('FantailLogger').info(c('ChannelConstants').FANTAIL_SERVICE,'full reload incurred');var ha=c('ChannelConstants').OK;this.exitState({status:ha,stateId:aa},ba);if('ms' in ca)this._processMessages(ca,ea);break;case 'msg':x(true);this._processMessages(ca,ea);break;case 'heartbeat':if(q.inStreaming){var ia=Date.now();if(this.heartbeats.length>0)var ja=ia-this.heartbeats[this.heartbeats.length-1];k.log('heartbeat_interval',JSON.stringify({client_id:q.sessionID,interval:ja}));this.heartbeats.push(ia);}break;case 'batched':var ka=ca.batches,la;for(la=0;la<ka.length;la++)this._processTransportData0(aa,ba,ka[la]);break;default:c('FantailLogger').error(c('ChannelConstants').FANTAIL_SERVICE,'got an unknown protocol message: %s',da);k.error('unknown_msg_type',JSON.stringify({type:da}));break;}},_processMessages:function z(aa,ba){var ca,da,ea,fa;if('tr' in aa)q.trace_id=aa.tr;da=aa.ms;ea=q.seq-da.length;for(ca=0;ca<da.length;ca++,ea++){q.estimatedReceived++;if(ea>=ba){fa=da[ca];if(fa.type){var ga=c('ChannelConstants').getArbiterType(fa.type);if(fa.type==='messaging'){var ha={type:'messaging',event:fa.event};if(fa.message){ha.inbox_unread=fa.unread_counts&&fa.unread_counts.inbox;ha.tid=fa.message.tid;ha.mid=fa.message.mid;c('FantailLogger').info(c('ChannelConstants').FANTAIL_SERVICE,'got message with id: %s',fa.message.mid);}}else if(fa.type==='skywalker'){ga=c('ChannelConstants').SKYWALKER;}else if(fa.type==='qprimer'){fa.first=!q.ready;if(fa.first){q.ready=true;q.timeUntilReady=Date.now()-q.created;q.queueMade=fa.made;}ga=c('ChannelConstants').CHANNEL_ESTABLISHED;}else if(fa.type==='pws'){q.pws=fa.pws;}else if(fa.type==='delta')q.sequenceId=fa.iseq;try{c('Arbiter').inform(ga,{obj:fa});}catch(ia){c('BanzaiODS').bumpEntityKey('ChannelManager','processMessages.error.'+fa.type);c('FantailLogger').info(c('ChannelConstants').FANTAIL_SERVICE,'message threw exception: %s %s',ia,fa);}}}else k.warn('seq_regression',JSON.stringify({last_seq:ba,messages:da.length,seq:ea}));}},_enter_init:function z(){if(s.init>=i.getConfig('MAX_INIT_FAILS',2))return c('setTimeoutAcrossTransitions')(function(){return this.exitState({status:c('ChannelConstants').ERROR_MAX,stateId:r});}.bind(this),0);this._initTimer=c('setTimeoutAcrossTransitions')(function(){return this.exitState({status:c('ChannelConstants').ERROR,stateId:r},'timeout');}.bind(this),q.IFRAME_LOAD_TIMEOUT);},_enter_reconnect:function z(aa){k.warn('enter_reconnect',aa);c('FantailLogger').info(c('ChannelConstants').FANTAIL_SERVICE,'entered reconnect with reason: %s',aa);var ba=r;if(!c('PresenceUtil').hasUserCookie()){c('FantailLogger').warn(c('ChannelConstants').FANTAIL_SERVICE,'user has no cookie???');k.warn('no_user_cookie','{}');c('setTimeoutAcrossTransitions')(function(){this._shutdownHint=c('ChannelConstants').HINT_AUTH;this.exitState({status:c('ChannelConstants').ERROR_SHUTDOWN,stateId:ba});}.bind(this),0);return;}var ca={reason:aa,fb_dtsg:c('DTSG').getToken()};if(c('ISB').token)ca.fb_isb=c('ISB').token;if(l)l(ca);var da=new (c('FBAjaxRequest'))('GET','/ajax/presence/reconnect.php',ca);da.onSuccess=function(){i.configure(da.json);c('PresenceCookieManager').store();this.exitState({status:c('ChannelConstants').OK,stateId:ba});}.bind(this);da.onError=function(){var ea=da.json&&da.json.error;c('FantailLogger').error(c('ChannelConstants').FANTAIL_SERVICE,'reconnect error: %s',da.errorType);if(da.errorType==c('AjaxRequest').TRANSPORT_ERROR||da.errorType==c('AjaxRequest').PROXY_ERROR||da.errorType==c('AjaxRequest').SERVICE_UNAVAILABLE)this._shutdownHint=c('ChannelConstants').HINT_CONN;if(ea&&ea==1356007){this._shutdownHint=c('ChannelConstants').HINT_MAINT;}else if(ea==1357001||ea==1357004||ea==1348009){this._shutdownHint=c('ChannelConstants').HINT_AUTH;}else this._shutdownHint=null;this.exitState({status:this._shutdownHint?c('ChannelConstants').ERROR_SHUTDOWN:c('ChannelConstants').ERROR,stateId:ba},da);}.bind(this);da.send();},_enter_shutdown:function z(){c('Arbiter').inform(c('ChannelConstants').ON_SHUTDOWN,{reason:this._shutdownHint});if('shutdown_recovery_interval_seconds' in q&&q.shutdown_recovery_interval_seconds>0){var aa=q.shutdown_recovery_interval_seconds*1000;c('setTimeoutAcrossTransitions')(function(){c('Arbiter').inform(c('ChannelConstants').ATTEMPT_RECONNECT);this._shutdownHint=null;this.state='reconnect!';this.enterState('reconnect!');}.bind(this),aa);}},_exit_init:function z(aa){if(this._initTimer)this._initTimer=c('clearTimeout')(this._initTimer);if(aa==c('ChannelConstants').ERROR_MAX)this._sendIframeError(c('ChannelConstants').reason_IFrameLoadGiveUp);},_exit_pull:function z(aa,ba){var ca=aa==c('ChannelConstants').OK;if(ca){this.lastPullTime=Date.now();}else{var da='exit status: '+aa;if(ba&&ba.errorType)da+=' ajax request error: '+ba.errorType;c('FantailLogger').error(c('ChannelConstants').FANTAIL_SERVICE,'pull failed with status: %s',da);}},_exit_ping:function z(aa){if(aa==c('ChannelConstants').OK){var ba=Date.now()-(this.lastPullTime||c('Env').start);if(ba>q.STALL_THRESHOLD){c('FantailLogger').error(c('ChannelConstants').FANTAIL_SERVICE,'didnt complete a successful pull for too long');return c('ChannelConstants').ERROR_STALE;}}else c('FantailLogger').error(c('ChannelConstants').FANTAIL_SERVICE,'ping failed with status: %s',aa);},_reportProxyMisguidedMsg:function z(aa,ba){c('FantailLogger').error(c('ChannelConstants').FANTAIL_SERVICE,'misguided message to %s meant for %s',ba,aa);var ca=Date.now();if(ca-this.lastReportOnMisguidedMsgTime<=q.CHANNEL_PROXY_REPORTING_MIN_INTERVAL)return;this.lastReportOnMisguidedMsgTime=ca;var da={received_uid:aa,expected_uid:ba};if(q.sticky_token)da.sticky_token=q.sticky_token;var ea=new (c('URI'))('/err_misguided_msg').setDomain(q.host+'.'+q.domain).setPort(q.port).setSecure(new (c('URI'))(window.location.href).isSecure()).setQueryData(da),fa=new (c('AjaxRequest'))('GET',ea);if(c('AjaxRequest').supportsCORS())fa.xhr.withCredentials=true;fa.onSuccess=function(ga){};fa.onError=function(ga){};fa.onJSON=function(ga,ha){};fa.send();},_probeTest:function z(){q.streamingCapable=false;var aa=[],ba={mode:'stream',format:'json'};if(q.sticky_token)ba.sticky_token=q.sticky_token;var ca=new (c('URI'))('/probe').setDomain(q.fullHost+'.'+q.domain).setPort(q.port).setSecure(new (c('URI'))(window.location.href).isSecure()).setQueryData(ba),da=new (c('AjaxRequest'))('GET',ca);da.onJSON=function(ea,fa){if(ea&&ea.json&&ea.json.t==='heartbeat'){aa.push(Date.now());if(aa.length>=2){var ga=aa[1]-aa[0];if(ga>=q.PROBE_HEARTBEATS_INTERVAL_LOW&&ga<=q.PROBE_HEARTBEATS_INTERVAL_HIGH){q.streamingCapable=true;k.log('switch_to_streaming','{}');}}}};da.onSuccess=function(ea){if(aa.length!=2){q.streamingCapable=false;k.error('probe_error',JSON.stringify({error:'beats.length = '+aa.length}));}k.log('probe_success','{}');};da.onError=function(ea){q.streamingCapable=false;k.error('probe_error',JSON.stringify(ea));};da.send();},_sseProbeTest:function z(){if(!window.EventSource){c('BanzaiODS').bumpEntityKey('ChannelManager','sse_probe.failure.no_event_source');k.log('sse_probe.failure.no_event_source','{}');return;}var aa=[],ba={mode:'sse',format:'json'};if(q.sticky_token)ba.sticky_token=q.sticky_token;var ca=new (c('URI'))('/sse_probe').setDomain(q.fullHost+'.'+q.domain).setPort(q.port).setSecure(new (c('URI'))(window.location.href).isSecure()).setQueryData(ba),da=new EventSource(ca),ea=c('setTimeoutAcrossTransitions')(function(){da.close();c('BanzaiODS').bumpEntityKey('ChannelManager','sse_probe.failure.timeout');k.log('sse_probe.failure.timeout','{}');},q.PROBE_HEARTBEATS_INTERVAL_HIGH*6);da.addEventListener('heartbeat',function(fa){aa.push(Date.now());if(aa.length>=2){var ga=aa[1]-aa[0];if(ga>=q.PROBE_HEARTBEATS_INTERVAL_LOW&&ga<=q.PROBE_HEARTBEATS_INTERVAL_HIGH){c('BanzaiODS').bumpEntityKey('ChannelManager','sse_probe.success');k.log('sse_probe.success','{}');}else{c('BanzaiODS').bumpEntityKey('ChannelManager','sse_probe.failure.delayed');k.log('sse_probe.failure.delayed','{}');}c('clearTimeout')(ea);da.close();}});da.onerror=function(fa){c('BanzaiODS').bumpEntityKey('ChannelManager','sse_probe.failure.error');k.error('sse_probe.failure.error',JSON.stringify(fa));c('clearTimeout')(ea);da.close();};},startChannelManager:function z(){if(c('ChannelInitialData').channelConfig){i.configure(c('ChannelInitialData').channelConfig);if(/shutdown/.test(c('ChannelInitialData').state))i._shutdownHint=c('ChannelConstants')[c('ChannelInitialData').reason];i.init(c('ChannelInitialData').state,c('ChannelInitialData').reason);c('ChatReliabilityInstrumentation').logCHANNEL_INIT();this.startChannelManager=c('emptyFunction');}else c('ChatReliabilityInstrumentation').logCHANNEL_NOCONFIG();}};f.exports=i;}),null);
__d('FacepileRounded.react',['cx','fbt','Image.react','React','Tooltip.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.props,o=n.className,p=n.profiles,q=n.message,r=n.numProfilesToDisplay,s=null;if(q)s=c('React').createElement('div',{className:"_4mnt"},q);var t=r?p.slice(0,r).map(function(u,v){return this.$FacepileRounded1(u,v);}.bind(this)):p.map(function(u,v){return this.$FacepileRounded1(u,v);}.bind(this));return c('React').createElement('div',{className:c('joinClasses')("_4mnv",o)},c('React').createElement('div',{className:"_4mnw"},t,this.$FacepileRounded2()),s);};m.prototype.$FacepileRounded2=function(){var n=this.props,o=n.direction,p=n.imageSize,q=n.profiles,r=n.remainingProfilesCount,s=n.numProfilesToDisplay;if(!s)return null;var t=r?r:q.length-s,u=q.slice(s).map(function(y){return y.name;}).filter(Boolean),v=u.join('\n'),w=t-u.length;if(w>0){var x=i._("and {count} others.",[i.param('count',w)]);v+='\n'+x.toString();}return t>0?c('React').createElement(c('Tooltip.react'),{className:"_4mns",key:'remainingFaceCount',tooltip:v},c('React').createElement('span',{className:"_4mnq _34n6",style:{borderRadius:p,height:p,marginLeft:-(p*.3125)+'px',minWidth:p,position:o==='descending'?'relative':null,zIndex:o==='descending'?0:null}},c('React').createElement('span',{className:"_40vg"},t))):null;};m.prototype.$FacepileRounded1=function(n,o){var p=this.props,q=p.direction,r=p.imageSize,s=p.profiles,t=p.showNames,u=n.glyph_size,v=n.image_src,w={},x=u||r;w.height=x+'px';w.width=x+'px';if(o>0)w.marginLeft=-(x*.3125)+'px';if(q==='descending'){w.position='relative';w.zIndex=s.length-o;}var y="_4mnq";if(n.className)y=c('joinClasses')(y,n.className);var z=c('React').createElement('div',{className:y,key:o,style:w},c('React').createElement(c('Image.react'),{className:"_1h_6",height:x,src:v,width:x}));if(t&&n.name)z=c('React').createElement(c('Tooltip.react'),{className:"_4mns",key:o+n.image_src,tooltip:n.name},z);return z;};function m(){j.apply(this,arguments);}m.defaultProps={direction:'ascending',imageSize:32,showNames:false};m.propTypes={className:l.string,direction:l.string,imageSize:l.number,message:l.oneOfType([l.array,l.string,l.object]),numProfilesToDisplay:l.number,remainingProfilesCount:l.number,profiles:l.arrayOf(l.shape({image_src:l.any.isRequired,className:l.string,glyph_size:l.number,name:l.string})).isRequired,showNames:l.bool};f.exports=m;}),null);
__d('TextWithEntities.react',['BaseTextWithEntities.react','Link.react','React','TextWithEmoticons.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;function j(l){return l.replace(/<3\b|&hearts;/g,'\u2665');}h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$TextWithEntities1=function(q){if(this.props.renderEmoticons||this.props.renderEmoji){return c('React').createElement(c('TextWithEmoticons.react'),{text:q,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji});}else return j(q);}.bind(this),this.$TextWithEntities2=function(q,r){if(this.props.interpolator){return this.props.interpolator(q,r);}else if(r.entity){return c('React').createElement(c('Link.react'),{href:r.entity},q);}else return q;}.bind(this),m;}k.prototype.render=function(){return c('React').createElement(c('BaseTextWithEntities.react'),babelHelpers['extends']({},this.props,{textRenderer:this.$TextWithEntities1,rangeRenderer:this.$TextWithEntities2,ranges:this.props.ranges,imageRanges:this.props.imageRanges,aggregatedRanges:this.props.aggregatedRanges,metaRanges:this.props.metaRanges,text:this.props.text}));};f.exports=k;}),null);
__d("XSimpleNUXMessagesController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ajax\/nux\/{msg_id}\/seen\/",{msg_id:{type:"Int",required:true}});}),null);
__d('SimpleNUXMessage',['AsyncRequest','SimpleNUXMessageTypesToShow','XSimpleNUXMessagesController'],(function a(b,c,d,e,f,g){function h(j){return !c('SimpleNUXMessageTypesToShow')[j];}function i(j){delete c('SimpleNUXMessageTypesToShow')[j];var k=c('XSimpleNUXMessagesController').getURIBuilder().setInt('msg_id',j).getURI();new (c('AsyncRequest'))().setURI(k).send();}f.exports={hasUserSeenMessage:h,markMessageSeenByUser:i};}),null);
__d('PagesCommerceBuyerNUXDialog.react',['cx','fbt','ix','Image.react','LayerFadeOnHide','LayerFadeOnShow','React','SimpleNUXMessage','SimpleNUXMessageTypes','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIText.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=400,n=j("276000");k=babelHelpers.inherits(o,c('React').PureComponent);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$PagesCommerceBuyerNUXDialog2=function(){c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').PAGES_COMMERCE_BUYER_NUX);this.props.onConfirm();}.bind(this),this.$PagesCommerceBuyerNUXDialog3=function(u){if(!u)this.$PagesCommerceBuyerNUXDialog2();}.bind(this),q;}o.prototype.$PagesCommerceBuyerNUXDialog1=function(){return i._("OK");};o.prototype.$PagesCommerceBuyerNUXDialog4=function(){return c('React').createElement('div',{className:"_1lc0"},c('React').createElement(c('XUIButton.react'),{className:"_1lcd",label:this.$PagesCommerceBuyerNUXDialog1(),size:'xxlarge',use:'confirm',onClick:this.$PagesCommerceBuyerNUXDialog2}));};o.prototype.$PagesCommerceBuyerNUXDialog5=function(){return c('React').createElement('ul',{className:"_1lce"},c('React').createElement('li',{className:"_1lcf"},c('React').createElement(c('Image.react'),{className:"_1_2f",src:j("275996")}),c('React').createElement(c('XUIText.react'),{className:"_1_2g",size:'large'},i._("Use your bank account or credit card."))),c('React').createElement('li',{className:"_1lcf"},c('React').createElement(c('Image.react'),{className:"_1_2f",src:j("275998")}),c('React').createElement(c('XUIText.react'),{className:"_1_2g",size:'large'},i._("Payments are protected and private."))),c('React').createElement('li',{className:"_1lcf"},c('React').createElement(c('Image.react'),{className:"_1_2f",src:j("275997")}),c('React').createElement(c('XUIText.react'),{className:"_1_2g",size:'large'},i._("FREE! No extra fees or charges."))));};o.prototype.render=function(){if(!this.props.isShown)return null;return c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide'),LayerFadeOnShow:c('LayerFadeOnShow')},onToggle:this.$PagesCommerceBuyerNUXDialog3,shown:this.props.isShown,width:this.props.width||m},c('React').createElement(c('XUIDialogBody.react'),{className:"_52jv"},c('React').createElement(c('Image.react'),{className:"_1lcg",src:n}),c('React').createElement('div',{className:"_1lci"},i._("Instant, secure payments on Messenger.")),this.$PagesCommerceBuyerNUXDialog5(),this.$PagesCommerceBuyerNUXDialog4()));};f.exports=o;}),null);
__d("MessengerGamesCustomUpdateAdminContainerQuery.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={fragment:{argumentDefinitions:[{kind:"LocalArgument",name:"gameID",type:"ID!",defaultValue:null}],kind:"Fragment",metadata:null,name:"MessengerGamesCustomUpdateAdminContainerQuery",selections:[{kind:"LinkedField",alias:null,args:[{kind:"Variable",name:"id",variableName:"gameID",type:"ID!"}],concreteType:null,name:"node",plural:false,selections:[{kind:"InlineFragment",type:"Application",selections:[{kind:"LinkedField",alias:"gameInfo",args:null,concreteType:"GamesInstantPlayStyleInfo",name:"instant_game_info",plural:false,selections:[{kind:"FragmentSpread",name:"MessengerGamesCustomUpdateAdmin_gameInfo",args:null}],storageKey:null}]}],storageKey:null}],type:"Query"},id:"1444897842249195",kind:"Batch",metadata:{},name:"MessengerGamesCustomUpdateAdminContainerQuery",query:{argumentDefinitions:[{kind:"LocalArgument",name:"gameID",type:"ID!",defaultValue:null}],kind:"Root",name:"MessengerGamesCustomUpdateAdminContainerQuery",operation:"query",selections:[{kind:"LinkedField",alias:null,args:[{kind:"Variable",name:"id",variableName:"gameID",type:"ID!"}],concreteType:null,name:"node",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"InlineFragment",type:"Application",selections:[{kind:"LinkedField",alias:"gameInfo",args:null,concreteType:"GamesInstantPlayStyleInfo",name:"instant_game_info",plural:false,selections:[{kind:"ScalarField",alias:"name",args:null,name:"game_name",storageKey:null},{kind:"ScalarField",alias:"iconURI",args:null,name:"icon_uri",storageKey:null}],storageKey:null}]}],storageKey:null}]},text:null};f.exports=h;}),null);
__d("MessengerGamesCustomUpdateAdmin_gameInfo.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MessengerGamesCustomUpdateAdmin_gameInfo",selections:[{kind:"ScalarField",alias:"name",args:null,name:"game_name",storageKey:null},{kind:"ScalarField",alias:"iconURI",args:null,name:"icon_uri",storageKey:null}],type:"GamesInstantPlayStyleInfo"};f.exports=h;}),null);
__d('GraphQLSubscriptionsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:GraphQLSubscriptionsLoggerConfig',this.$GraphQLSubscriptionsTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:GraphQLSubscriptionsLoggerConfig',this.$GraphQLSubscriptionsTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$GraphQLSubscriptionsTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$GraphQLSubscriptionsTypedLogger1=babelHelpers['extends']({},this.$GraphQLSubscriptionsTypedLogger1,j);return this;};h.prototype.setAppID=function(j){this.$GraphQLSubscriptionsTypedLogger1.appid=j;return this;};h.prototype.setAppversion=function(j){this.$GraphQLSubscriptionsTypedLogger1.appversion=j;return this;};h.prototype.setClientSampleWeight=function(j){this.$GraphQLSubscriptionsTypedLogger1.client_sample_weight=j;return this;};h.prototype.setClientUserID=function(j){this.$GraphQLSubscriptionsTypedLogger1.client_userid=j;return this;};h.prototype.setClienttime=function(j){this.$GraphQLSubscriptionsTypedLogger1.clienttime=j;return this;};h.prototype.setDebugData=function(j){this.$GraphQLSubscriptionsTypedLogger1.debug_data=j;return this;};h.prototype.setEvent=function(j){this.$GraphQLSubscriptionsTypedLogger1.event=j;return this;};h.prototype.setExceptionData=function(j){this.$GraphQLSubscriptionsTypedLogger1.exception_data=j;return this;};h.prototype.setExceptionType=function(j){this.$GraphQLSubscriptionsTypedLogger1.exception_type=j;return this;};h.prototype.setIsemployee=function(j){this.$GraphQLSubscriptionsTypedLogger1.isemployee=j;return this;};h.prototype.setMechanism=function(j){this.$GraphQLSubscriptionsTypedLogger1.mechanism=j;return this;};h.prototype.setMutationType=function(j){this.$GraphQLSubscriptionsTypedLogger1.mutation_type=j;return this;};h.prototype.setName=function(j){this.$GraphQLSubscriptionsTypedLogger1.name=j;return this;};h.prototype.setPublishCluster=function(j){this.$GraphQLSubscriptionsTypedLogger1.publish_cluster=j;return this;};h.prototype.setPublishID=function(j){this.$GraphQLSubscriptionsTypedLogger1.publish_id=j;return this;};h.prototype.setPublishTimeMs=function(j){this.$GraphQLSubscriptionsTypedLogger1.publish_time_ms=j;return this;};h.prototype.setQueryID=function(j){this.$GraphQLSubscriptionsTypedLogger1.query_id=j;return this;};h.prototype.setQueryParams=function(j){this.$GraphQLSubscriptionsTypedLogger1.query_params=c('GeneratedLoggerUtils').serializeMap(j);return this;};h.prototype.setSessionID=function(j){this.$GraphQLSubscriptionsTypedLogger1.session_id=j;return this;};h.prototype.setSubscriptionCall=function(j){this.$GraphQLSubscriptionsTypedLogger1.subscription_call=j;return this;};h.prototype.setTopic=function(j){this.$GraphQLSubscriptionsTypedLogger1.topic=j;return this;};h.prototype.setTopicData=function(j){this.$GraphQLSubscriptionsTypedLogger1.topic_data=c('GeneratedLoggerUtils').serializeMap(j);return this;};h.prototype.setVC=function(j){this.$GraphQLSubscriptionsTypedLogger1.vc=j;return this;};var i={appid:true,appversion:true,client_sample_weight:true,client_userid:true,clienttime:true,debug_data:true,event:true,exception_data:true,exception_type:true,isemployee:true,mechanism:true,mutation_type:true,name:true,publish_cluster:true,publish_id:true,publish_time_ms:true,query_id:true,query_params:true,session_id:true,subscription_call:true,topic:true,topic_data:true,vc:true};f.exports=h;}),null);
__d('MessengerLightweightActionUtils',['MercuryAttachmentType'],(function a(b,c,d,e,f,g){'use strict';function h(k){return !!(k&&k.attach_type===c('MercuryAttachmentType').SHARE&&k.share&&k.share.target&&k.share.target.lwa_type);}function i(k){var l=k.attachments;return !!(l&&l.length===1&&h(l[0]));}function j(k){return k.attachments[0].share.title;}f.exports={isLWAMessage:i,isLWAAttachment:h,getCollapsedLWAText:j};}),null);
__d('MercuryLWARenderer',['MercuryConfig','MessengerTextWithEntities.react','MessengerLightweightActionUtils','React','TextWithEntities.react'],(function a(b,c,d,e,f,g){'use strict';var h={renderCollapsedText:function i(j){var k=null;if(c('MercuryConfig').MessengerNewEmojiGK){k=c('React').createElement(c('MessengerTextWithEntities.react'),{renderEmoji:true,renderEmoticons:true,text:c('MessengerLightweightActionUtils').getCollapsedLWAText(j)});}else k=c('React').createElement(c('TextWithEntities.react'),{renderEmoji:true,renderEmoticons:true,text:c('MessengerLightweightActionUtils').getCollapsedLWAText(j)});return c('React').createElement('span',null,k);}};f.exports=h;}),null);
__d('MNCommercePromotionStateActions',['MessengerDispatcher','MNCommerceActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={stateLoaded:function i(j){c('MessengerDispatcher').dispatch({type:c('MNCommerceActionTypes').PROMOTION_STATE.LOADED,state:j});},stateLoadError:function i(j){c('MessengerDispatcher').dispatch({type:c('MNCommerceActionTypes').PROMOTION_STATE.LOAD_ERROR,pageID:j});},stateReload:function i(j){c('MessengerDispatcher').dispatch({type:c('MNCommerceActionTypes').PROMOTION_STATE.RELOAD,pageID:j});}};f.exports=h;}),null);
__d("XMNCommercePromotionBlockController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messages\/commerce\/promotion\/block\/",{page_id:{type:"String",required:true},type:{type:"String",required:true}});}),null);
__d('MNCommercePromotionBlockDataManager',['AsyncRequest','MNCommercePromotionStateActions','XMNCommercePromotionBlockController'],(function a(b,c,d,e,f,g){'use strict';h.prototype.block=function(i,j){var k=c('XMNCommercePromotionBlockController').getURIBuilder().setString('page_id',i).setString('type',j).getURI();new (c('AsyncRequest'))().setURI(k).setHandler(this.$MNCommercePromotionBlockDataManager1).setErrorHandler(this.$MNCommercePromotionBlockDataManager2).send();};h.prototype.$MNCommercePromotionBlockDataManager1=function(i){var j=i.getRequest().uri.getQueryData(),k=j.page_id;c('MNCommercePromotionStateActions').stateReload(k);};h.prototype.$MNCommercePromotionBlockDataManager2=function(i){var j=i.getRequest().uri.getQueryData(),k=j.page_id;c('MNCommercePromotionStateActions').stateLoadError(k);};function h(){}f.exports=new h();}),null);
__d('MNCommercePromotionManageBlockDialog.react',['fbt','MessengerEnvironment','Link.react','MessengerRadioList.react','MNCommerceButton.react','MNCommerceDetailsDialog.react','MNCommerceDialogBody.react','MNCommerceDialogFooter.react','MNCommerceDialogTitle.react','MNCommerceBlockTypeJSInstance','React','URI','WorkModeConfig','XUIRadioList.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('MessengerRadioList.react').Item,l=c('XUIRadioList.react').Item,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(p,q){j.constructor.call(this,p,q);o.call(this);this.state=this.$MNCommercePromotionManageBlockDialog1();}n.prototype.componentWillReceiveProps=function(p){this.setState(this.$MNCommercePromotionManageBlockDialog1(p));};n.prototype.$MNCommercePromotionManageBlockDialog1=function(p){var q=p||this.props,r=c('MNCommerceBlockTypeJSInstance').ALL;if(q.isAllBlocked||q.isPromotionBlocked)r=c('MNCommerceBlockTypeJSInstance').NONE;return {type:r};};n.prototype.render=function(){var p=this.props.merchantName||'',q=h._("Manage messages from {label for merchant name}",[h.param('label for merchant name',p)]),r=h._("Cancel"),s=h._("Confirm"),t=h._("Manage Options couldn't be shown."),u=c('WorkModeConfig').is_work_user?new (c('URI'))('https://facebook.com/help/work/1731361900459513').setSubdomain(c('WorkModeConfig').company_subdomain):new (c('URI'))('https://www.facebook.com/help/389645087895231'),v=c('React').createElement(c('Link.react'),{href:u,target:'_blank'},h._("Learn More"));return c('React').createElement(c('MNCommerceDetailsDialog.react'),babelHelpers['extends']({errorMessage:t,onToggle:this.props.onToggle,shown:this.props.shown},this.props),c('React').createElement(c('MNCommerceDialogTitle.react'),{showCloseButton:true},q),c('React').createElement(c('MNCommerceDialogBody.react'),null,this.$MNCommercePromotionManageBlockDialog2()),c('React').createElement(c('MNCommerceDialogFooter.react'),{leftContent:v},c('React').createElement(c('MNCommerceButton.react'),{label:r,onClick:this.props.onCancelButtonClick,use:'default'}),c('React').createElement(c('MNCommerceButton.react'),{label:s,onClick:this.$MNCommercePromotionManageBlockDialog3,use:'confirm'})));};n.propTypes={isAllBlocked:m.bool,isPromotionBlocked:m.bool,error:m.object,loading:m.bool.isRequired,merchantName:m.string,onCancelButtonClick:m.func,onConfirmButtonClick:m.func.isRequired,pageID:m.string};var o=function p(){this.onTypeChange=function(q){this.setState({type:q});}.bind(this);this.$MNCommercePromotionManageBlockDialog2=function(){var q=c('MessengerEnvironment').messengerui,r=q?c('MessengerRadioList.react'):c('XUIRadioList.react'),s=q?k:l;return c('React').createElement(r,{selectedValue:this.state.type,onValueChange:this.onTypeChange},c('React').createElement(s,{value:c('MNCommerceBlockTypeJSInstance').ALL},h._("Receive all messages")),c('React').createElement(s,{value:c('MNCommerceBlockTypeJSInstance').NONE},h._("Turn off all messages")));}.bind(this);this.$MNCommercePromotionManageBlockDialog3=function(q){var r=this.props;r.onToggle(false);if(!r.onConfirmButtonClick)return;var s=r.pageID;r.onConfirmButtonClick(s,this.state.type);}.bind(this);};f.exports=n;}),null);
__d("XMNCommercePromotionStateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messages\/commerce\/promotion\/state\/",{page_id:{type:"String",required:true}});}),null);
__d('MNCommercePromotionStateDataManager',['AsyncRequest','MNCommercePromotionStateActions','XMNCommercePromotionStateController'],(function a(b,c,d,e,f,g){'use strict';h.prototype.fetchPromotionState=function(i){var j=c('XMNCommercePromotionStateController').getURIBuilder().setString('page_id',i).getURI();new (c('AsyncRequest'))().setURI(j).setHandler(this.$MNCommercePromotionStateDataManager1).setErrorHandler(this.$MNCommercePromotionStateDataManager2).send();};h.prototype.$MNCommercePromotionStateDataManager1=function(i){var j=i.getRequest().uri.getQueryData(),k=j.page_id;i.payload.pageID=k;c('MNCommercePromotionStateActions').stateLoaded(i.payload);};h.prototype.$MNCommercePromotionStateDataManager2=function(i){var j=i.getRequest().uri.getQueryData(),k=j.page_id;c('MNCommercePromotionStateActions').stateLoadError(k);};function h(){}f.exports=new h();}),null);
__d('MNCommercePromotionStateStore',['Cache','FluxStore','LoadObject','MessengerDispatcher','MNCommerceActionTypes','MNCommerceCacheTimeoutLimits','MNCommercePromotionStateDataManager'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('MessengerDispatcher'));this.$MNCommercePromotionStateStore1=new (c('Cache'))();}j.prototype.__onDispatch=function(k){var l=k.type,m=k.pageID||k.state&&k.state.pageID;switch(l){case c('MNCommerceActionTypes').PROMOTION_STATE.LOADED:var n=k.state;this.$MNCommercePromotionStateStore1.set(m,c('LoadObject').empty().setValue(n),null,c('MNCommerceCacheTimeoutLimits').SUCCESS_TIMEOUT);this.__emitChange();break;case c('MNCommerceActionTypes').PROMOTION_STATE.LOAD_ERROR:this.$MNCommercePromotionStateStore1.set(m,c('LoadObject').empty().setError(new Error('Unable to load permissions for: '+m)),null,c('MNCommerceCacheTimeoutLimits').ERROR_TIMEOUT);this.__emitChange();break;case c('MNCommerceActionTypes').PROMOTION_STATE.RELOAD:if(m){this.$MNCommercePromotionStateStore1.set(m,c('LoadObject').loading());c('MNCommercePromotionStateDataManager').fetchPromotionState(m);}this.__emitChange();break;}};j.prototype.getPromotionState=function(k){if(k&&!this.$MNCommercePromotionStateStore1.has(k)){this.$MNCommercePromotionStateStore1.set(k,c('LoadObject').loading().setValue({pageID:k}));c('MNCommercePromotionStateDataManager').fetchPromotionState(k);}return this.$MNCommercePromotionStateStore1.get(k)||c('LoadObject').empty();};f.exports=new j();}),null);
__d('MNCommercePromotionManageBlockDialogContainer.react',['MNCommerceDialogStateActions','MNCommerceDialogStateStore','MNCommercePromotionManageBlockDialog.react','MNCommercePromotionStateActions','MNCommercePromotionStateStore','PureStoreBasedStateMixin','React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').createClass({displayName:'MNCommercePromotionManageBlockDialogContainer',mixins:[c('PureStoreBasedStateMixin')(c('MNCommercePromotionStateStore'))],statics:{calculateState:function i(){var j=c('MNCommerceDialogStateStore').getState(),k=null;if(j)k=j.pageID;var l=c('MNCommercePromotionStateStore').getPromotionState(k);return {shown:!!j,loading:l.isLoading(),onConfirmButtonClick:j&&j.onConfirmButtonClick,pageID:k,promotionState:l.getValue(),error:l.getError()};}},render:function i(){var j=this.state.promotionState;return c('React').createElement(c('MNCommercePromotionManageBlockDialog.react'),{error:this.state.error,isAllBlocked:j&&j.is_all_blocked,isPromotionBlocked:j&&j.is_promotion_blocked,loading:this.state.loading,merchantName:j&&j.name,onCancelButtonClick:this._hideDialog,onToggle:this._onToggle,pageID:this.state.pageID,onTryAgain:this._onTryAgainClick,onConfirmButtonClick:this.state.onConfirmButtonClick,shown:this.state.shown});},_onToggle:function i(j){if(!j)this._hideDialog();},_onTryAgainClick:function i(){c('MNCommercePromotionStateActions').stateReload(this.state.pageID);},_hideDialog:function i(){c('MNCommerceDialogStateActions').hideDialog();}});f.exports=h;}),null);
__d('MNCommerceUnlinkDialog.react',['fbt','MNCommerceButton.react','MNCommerceDialog.react','MNCommerceDialogBody.react','MNCommerceDialogFooter.react','MNCommerceDialogTitle.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=h._("Cancel"),n=h._("Turn Off");return c('React').createElement(c('MNCommerceDialog.react'),{onToggle:this.props.onToggle,shown:this.props.shown},c('React').createElement(c('MNCommerceDialogTitle.react'),{showCloseButton:false},h._("Unlink account?")),c('React').createElement(c('MNCommerceDialogBody.react'),null,c('React').createElement('div',null,h._("You can turn off updates if you didn't sign up or just don't want to get them anymore."))),c('React').createElement(c('MNCommerceDialogFooter.react'),null,c('React').createElement(c('MNCommerceButton.react'),{label:m,onClick:this.props.onCancelButtonClick,use:'default'}),c('React').createElement(c('MNCommerceButton.react'),{label:n,onClick:this.props.onTurnOffButtonClick,use:'confirm'})));};function l(){i.apply(this,arguments);}l.propTypes={onCancelButtonClick:k.func,onTurnOffButtonClick:k.func};f.exports=l;}),null);
__d('MNCommerceUnlinkErrorDialog.react',['fbt','MNCommerceAttachmentConstants','MNCommerceErrors','React','MNCommerceButton.react','MNCommerceDialog.react','MNCommerceDialogBody.react','MNCommerceDialogFooter.react','MNCommerceDialogTitle.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=h._("OK"),n=null,o=null;switch(this.props.errorType){case c('MNCommerceErrors').ALREADY_UNLINKED:o=c('React').createElement('div',null,h._("Updates Are Already Off"));n=c('React').createElement('div',null,h._("You aren't getting updates in Messenger."));break;default:o=c('React').createElement('div',null,h._("Couldn't Turn Off Updates"));n=c('React').createElement('div',null,h._("Sorry, something went wrong. Please try again."));break;}return c('React').createElement(c('MNCommerceDialog.react'),{onToggle:this.props.onToggle,shown:this.props.shown,width:c('MNCommerceAttachmentConstants').UNLINK_ERROR_DIALOG.WIDTH},c('React').createElement(c('MNCommerceDialogTitle.react'),null,o),c('React').createElement(c('MNCommerceDialogBody.react'),null,n),c('React').createElement(c('MNCommerceDialogFooter.react'),null,c('React').createElement(c('MNCommerceButton.react'),{label:m,onClick:this.props.onOkayButtonClick,use:'confirm'})));};function l(){i.apply(this,arguments);}l.propTypes={errorType:k.number,onOkayButtonClick:k.func};f.exports=l;}),null);
__d('MNCommerceUnlinkDialogContainer.react',['BanzaiLogger','MNCommerceDialogStateActions','MNCommerceDialogStateStore','MNCommerceLoggingConstants','MNCommerceLoggerEvents','MNCommerceUnlinkDialog.react','MNCommerceUnlinkErrorDialog.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$MNCommerceUnlinkDialogContainer1=function(p){if(!p)this.$MNCommerceUnlinkDialogContainer2();}.bind(this),this.$MNCommerceUnlinkDialogContainer2=function(){c('MNCommerceDialogStateActions').hideDialog();},l;}j.prototype.render=function(){var k=c('MNCommerceDialogStateStore').getState();if(k&&k.errorType){c('BanzaiLogger').log('MessengerCommerceLoggerConfig',{event:c('MNCommerceLoggerEvents').DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:c('MNCommerceLoggingConstants').DIALOG_SURFACE.UNLINK_ERROR})});return c('React').createElement(c('MNCommerceUnlinkErrorDialog.react'),{onToggle:this.$MNCommerceUnlinkDialogContainer1,shown:!!k,errorType:k.errorType,onOkayButtonClick:this.$MNCommerceUnlinkDialogContainer2});}else{c('BanzaiLogger').log('MessengerCommerceLoggerConfig',{event:c('MNCommerceLoggerEvents').DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:c('MNCommerceLoggingConstants').DIALOG_SURFACE.UNLINK})});return c('React').createElement(c('MNCommerceUnlinkDialog.react'),{onToggle:this.$MNCommerceUnlinkDialogContainer1,shown:!!k,onCancelButtonClick:this.$MNCommerceUnlinkDialogContainer2,onTurnOffButtonClick:k&&k.onTurnOffButtonClick});}};f.exports=j;}),null);
__d("XMNCommerceUnlinkController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messages\/commerce\/unlink\/",{page_id:{type:"String",required:true},user_id:{type:"String",required:true}});}),null);
__d('MNCommerceUnlinkDataManager',['AsyncRequest','MNCommerceDialogStateActions','MNCommerceUnlinkDialogContainer.react','XMNCommerceUnlinkController'],(function a(b,c,d,e,f,g){'use strict';h.prototype.unlink=function(i,j){var k=c('XMNCommerceUnlinkController').getURIBuilder().setString('page_id',i).setString('user_id',j).getURI();new (c('AsyncRequest'))().setURI(k).setErrorHandler(this.$MNCommerceUnlinkDataManager1).send();};h.prototype.$MNCommerceUnlinkDataManager1=function(i){c('MNCommerceDialogStateActions').showDialog(c('MNCommerceUnlinkDialogContainer.react'),{errorType:i.error});};function h(){}f.exports=new h();}),null);
__d('MNCommerceLogMessageUtils',['cx','fbt','invariant','BanzaiLogger','Link.react','MercuryConfig','MercuryIDs','MercuryThreads','MNCommerceLoggingConstants','MNCommerceLoggerEvents','MNCommerceDialogStateActions','MNCommerceReplyTypes','MNCommercePromotionBlockDataManager','MNCommercePromotionManageBlockDialogContainer.react','MNCommerceUnlinkDataManager','MNCommerceUnlinkDialogContainer.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('MercuryThreads').get();l.prototype.isCommercePageAdminMessage=function(m){return !!(m&&m.log_message_data&&(m.log_message_data.replyType===c('MNCommerceReplyTypes').COMMERCE_LINK||m.log_message_data.replyType===c('MNCommerceReplyTypes').COMMERCE_UNLINK));};l.prototype.getCommercePageManage=function(m,n){var o=null;if(c('MercuryConfig').WWWMessengerManageAdminGK){var p=function r(){var s=c('MercuryIDs').getUserIDFromParticipantID(m.author),t=function u(v,w){return c('MNCommercePromotionBlockDataManager').block(v,w);};c('MNCommerceDialogStateActions').showDialog(c('MNCommercePromotionManageBlockDialogContainer.react'),{pageID:s,onConfirmButtonClick:t});c('BanzaiLogger').log('MessengerCommerceLoggerConfig',{event:c('MNCommerceLoggerEvents').DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:c('MNCommerceLoggingConstants').DIALOG_SURFACE.MANAGE})});};o=c('React').createElement(c('Link.react'),{className:(!n?"_2w2m":'')+(n?' '+"_1jvn":''),onClick:p},i._("Manage"));}else if(m.log_message_data.replyType===c('MNCommerceReplyTypes').COMMERCE_LINK){var q=function r(){var s=c('MercuryIDs').getUserIDFromParticipantID(m.author),t=k.getThreadMetaNow(m.thread_id);t||j(0);var u=null;t.participants.every(function(w){if(w!==m.author){u=c('MercuryIDs').getUserIDFromParticipantID(w);return false;}return true;});var v=function w(){c('MNCommerceDialogStateActions').hideDialog();c('MNCommerceUnlinkDataManager').unlink(s,u);};c('MNCommerceDialogStateActions').showDialog(c('MNCommerceUnlinkDialogContainer.react'),{onTurnOffButtonClick:v});c('BanzaiLogger').log('MessengerCommerceLoggerConfig',{event:c('MNCommerceLoggerEvents').DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:c('MNCommerceLoggingConstants').DIALOG_SURFACE.UNLINK})});};o=c('React').createElement(c('Link.react'),{className:(!n?"_2w2m":'')+(n?' '+"_1jvn":''),onClick:q},i._("Turn Off"));}return c('React').createElement('span',null,m.log_message_body,' ',o);};function l(){}f.exports=new l();}),null);
__d('MNAdsMessageUtils',['cx','fbt','AdPageMessageTypeEnum','Bootloader','FBJSON','Link.react','MercuryConfig','MercuryIDs','MessagingGenericAdminTextType','MessagingTag','MNCommerceDialogStateActions','MNCommercePromotionBlockDataManager','React','getPageIDFromThreadID'],(function a(b,c,d,e,f,g,h,i){'use strict';var j='offsite_ad';k.prototype.isAdsMessageRequest=function(l){return l.folder==c('MessagingTag').PENDING&&!!l.last_message_type&&l.last_message_type!==c('AdPageMessageTypeEnum').NON_AD;};k.prototype.renderAdsMessageRequestStatus=function(){var l=i._("Sponsored");return c('React').createElement('span',null,l);};k.prototype.isAdsAdminMessage=function(l){return l&&l.log_message_data&&l.log_message_data.message_type&&l.log_message_data.message_type===c('MessagingGenericAdminTextType').AD_MANAGE_MESSAGE;};k.prototype.isOffsiteAd=function(l){if(l.log_message_data&&l.log_message_data.untypedData&&l.log_message_data.untypedData.ad_properties){var m=c('FBJSON').parse(l.log_message_data.untypedData.ad_properties);for(var n=m,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q;if(r===j)return true;}}return false;};k.prototype.getadPreferencesUrl=function(l){if(l.log_message_data&&l.log_message_data.untypedData&&l.log_message_data.untypedData.ad_preferences_url)return l.log_message_data.untypedData.ad_preferences_url;return '';};k.prototype.getAdsPageManage=function(l,m){var n=null;if(c('MercuryConfig').WWWMessengerManageAdminGK){var o=function(){var p=this.isOffsiteAd(l),q=c('getPageIDFromThreadID')(l.thread_id);if(!q)q=c('MercuryIDs').getUserIDFromParticipantID(l.author);var r=this.getadPreferencesUrl(l),s=function t(u,v){return c('MNCommercePromotionBlockDataManager').block(u,v);};c('Bootloader').loadModules(["MNAdsMessagesManageBlockDialogContainer.react"],function(t){c('MNCommerceDialogStateActions').showDialog(t,{adPreferencesUrl:r,isOffsiteAd:p,onConfirmButtonClick:s,pageID:q});},'MNAdsMessageUtils');}.bind(this);n=c('React').createElement(c('Link.react'),{className:(!m?"_3kyk":'')+(m?' '+"_3kyl":''),onClick:o},i._("Manage"));return c('React').createElement('span',{className:!m?"_3kym":''},l.log_message_body,' ','\u00B7',' ',n);}return c('React').createElement('span',{className:!m?"_3kym":''},l.log_message_body);};function k(){}f.exports=new k();}),null);
__d('ReactRelayContainerProfiler',['RelayProfiler'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){c('RelayProfiler').instrumentMethods(i.prototype,{constructor:j+'.prototype.constructor',componentWillReceiveProps:j+'.prototype.componentWillReceiveProps',componentWillUnmount:j+'.prototype.componentWillUnmount',shouldComponentUpdate:j+'.prototype.shouldComponentUpdate'});}f.exports={profileContainer:h};}),null);
__d('generateRelayClientID',[],(function a(b,c,d,e,f,g){'use strict';var h='client:';function i(j,k,l){var m=j+':'+k;if(l!=null)m+=':'+l;if(m.indexOf(h)!==0)m=h+m;return m;}f.exports=i;}),null);
__d('RelayDefaultHandleKey',[],(function a(b,c,d,e,f,g){'use strict';f.exports={DEFAULT_HANDLE_KEY:''};}),null);
__d('getRelayHandleKey',['invariant','RelayDefaultHandleKey'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayDefaultHandleKey').DEFAULT_HANDLE_KEY;function j(k,l,m){if(l&&l!==i)return '__'+l+'_'+k;m!=null||h(0);return '__'+m+'_'+k;}f.exports=j;}),null);
__d('RelayConnectionHandler',['invariant','generateRelayClientID','getRelayHandleKey','warning','RelayConnectionInterface'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayConnectionInterface').CURSOR,j=c('RelayConnectionInterface').EDGES,k=c('RelayConnectionInterface').NODE,l=c('RelayConnectionInterface').END_CURSOR,m=c('RelayConnectionInterface').HAS_NEXT_PAGE,n=c('RelayConnectionInterface').HAS_PREV_PAGE,o=c('RelayConnectionInterface').PAGE_INFO,p=c('RelayConnectionInterface').PAGE_INFO_TYPE,q=c('RelayConnectionInterface').START_CURSOR,r='connection',s='__connection_next_edge_index';function t(ba,ca){var da,ea,fa=ba.get(ca.dataID);if(!fa)return;var ga=fa.getLinkedRecord(ca.fieldKey),ha=ga&&ga.getLinkedRecord(o);if(!ga){fa.setValue(null,ca.handleKey);return;}var ia=fa.getLinkedRecord(ca.handleKey),ja=ia&&ia.getLinkedRecord(o);if(!ia){(function(){var ka=ba.create(c('generateRelayClientID')(fa.getDataID(),ca.handleKey),ga.getType());ka.setValue(0,s);ka.copyFieldsFrom(ga);var la=ga.getLinkedRecords(j);if(la){la=la.map(function(ma){return z(ba,ka,ma);});ka.setLinkedRecords(la,j);}fa.setLinkedRecord(ka,ca.handleKey);ja=ba.create(c('generateRelayClientID')(ka.getDataID(),o),p);ja.setValue(false,m);ja.setValue(false,n);ja.setValue(null,l);ja.setValue(null,q);if(ha)ja.copyFieldsFrom(ha);ka.setLinkedRecord(ja,o);})();}else{var ea=function(){var ka=ia,la=ga.getLinkedRecords(j);if(la)la=la.map(function(ua){return z(ba,ka,ua);});var ma=ka.getLinkedRecords(j),na=ka.getLinkedRecord(o);ka.copyFieldsFrom(ga);if(ma)ka.setLinkedRecords(ma,j);if(na)ka.setLinkedRecord(na,o);var oa=[],pa=ca.args;if(ma&&la){if(pa.after!=null){if(ja&&pa.after===ja.getValue(l)){var qa=new Set();aa(ma,oa,qa);aa(la,oa,qa);}else{c('warning')(false,'RelayConnectionHandler: Unexpected after cursor `%s`, edges must '+'be fetched from the end of the list (`%s`).',pa.after,ja&&ja.getValue(l));return {v:void 0};}}else if(pa.before!=null){if(ja&&pa.before===ja.getValue(q)){var ra=new Set();aa(la,oa,ra);aa(ma,oa,ra);}else{c('warning')(false,'RelayConnectionHandler: Unexpected before cursor `%s`, edges must '+'be fetched from the beginning of the list (`%s`).',pa.before,ja&&ja.getValue(q));return {v:void 0};}}else oa=la;}else if(la){oa=la;}else oa=ma;if(oa!=null&&oa!==ma)ka.setLinkedRecords(oa,j);if(ja&&ha)if(pa.before!=null||pa.after==null&&pa.last){ja.setValue(!!ha.getValue(n),n);var sa=ha.getValue(q);if(typeof sa==='string')ja.setValue(sa,q);}else if(pa.after!=null||pa.before==null&&pa.first){ja.setValue(!!ha.getValue(m),m);var ta=ha.getValue(l);if(typeof ta==='string')ja.setValue(ta,l);}}();if(typeof ea==="object")return ea.v;}}function u(ba,ca,da){var ea=c('getRelayHandleKey')(r,ca,null);return ba.getLinkedRecord(ea,da);}function v(ba,ca,da){var ea=ba.getLinkedRecords(j);if(!ea){ba.setLinkedRecords([ca],j);return;}var fa=void 0;if(da==null){fa=ea.concat(ca);}else{fa=[];var ga=false;for(var ha=0;ha<ea.length;ha++){var ia=ea[ha];fa.push(ia);if(ia==null)continue;var ja=ia.getValue(i);if(da===ja){fa.push(ca);ga=true;}}if(!ga)fa.push(ca);}ba.setLinkedRecords(fa,j);}function w(ba,ca,da,ea){var fa=c('generateRelayClientID')(ca.getDataID(),da.getDataID()),ga=ba.get(fa);if(!ga)ga=ba.create(fa,ea);ga.setLinkedRecord(da,k);return ga;}function x(ba,ca,da){var ea=ba.getLinkedRecords(j);if(!ea){ba.setLinkedRecords([ca],j);return;}var fa=void 0;if(da==null){fa=[ca].concat(ea);}else{fa=[];var ga=false;for(var ha=0;ha<ea.length;ha++){var ia=ea[ha];if(ia!=null){var ja=ia.getValue(i);if(da===ja){fa.push(ca);ga=true;}}fa.push(ia);}if(!ga)fa.unshift(ca);}ba.setLinkedRecords(fa,j);}function y(ba,ca){var da=ba.getLinkedRecords(j);if(!da)return;var ea=void 0;for(var fa=0;fa<da.length;fa++){var ga=da[fa],ha=ga&&ga.getLinkedRecord(k);if(ha!=null&&ha.getDataID()===ca){if(ea===undefined)ea=da.slice(0,fa);}else if(ea!==undefined)ea.push(ga);}if(ea!==undefined)ba.setLinkedRecords(ea,j);}function z(ba,ca,da){if(da==null)return da;var ea=ca.getValue(s);typeof ea==='number'||h(0);var fa=c('generateRelayClientID')(ca.getDataID(),j,ea),ga=ba.create(fa,da.getType());ga.copyFieldsFrom(da);ca.setValue(ea+1,s);return ga;}function aa(ba,ca,da){for(var ea=0;ea<ba.length;ea++){var fa=ba[ea];if(!fa)continue;var ga=fa.getLinkedRecord(k),ha=ga&&ga.getValue('id');if(ha){if(da.has(ha))continue;da.add(ha);}ca.push(fa);}}f.exports={createEdge:w,deleteNode:y,getConnection:u,insertEdgeAfter:v,insertEdgeBefore:x,update:t};}),null);
__d('RelayConcreteVariables',['invariant','warning'],(function a(b,c,d,e,f,g,h){'use strict';function i(k,l,m){var n=void 0;k.argumentDefinitions.forEach(function(o){if(Object.prototype.hasOwnProperty.call(m,o.name))return;n=n||babelHelpers['extends']({},m);switch(o.kind){case 'LocalArgument':n[o.name]=o.defaultValue;break;case 'RootArgument':Object.prototype.hasOwnProperty.call(l,o.name)||h(0);n[o.name]=l[o.name];break;default:h(0);}});return n||m;}function j(k,l){var m={};k.query.argumentDefinitions.forEach(function(n){var o=n.defaultValue;if(l[n.name]!=null)o=l[n.name];m[n.name]=o;});return m;}f.exports={getFragmentVariables:i,getOperationVariables:j};}),null);
__d('RelayConcreteNode',[],(function a(b,c,d,e,f,g){'use strict';var h={CONDITION:'Condition',FRAGMENT:'Fragment',FRAGMENT_SPREAD:'FragmentSpread',INLINE_FRAGMENT:'InlineFragment',LINKED_FIELD:'LinkedField',LINKED_HANDLE:'LinkedHandle',LITERAL:'Literal',LOCAL_ARGUMENT:'LocalArgument',ROOT:'Root',ROOT_ARGUMENT:'RootArgument',SCALAR_FIELD:'ScalarField',SCALAR_HANDLE:'ScalarHandle',VARIABLE:'Variable'};f.exports=h;}),null);
__d('stableJSONStringify',[],(function a(b,c,d,e,f,g){'use strict';function h(i){if(Array.isArray(i)){var j=[];for(var k=0;k<i.length;k++){var l=i[k]!==undefined?i[k]:null;j.push(h(l));}return '['+j.join(',')+']';}else if(typeof i==='object'&&i){var m=[],n=Object.keys(i);n.sort();for(var o=0;o<n.length;o++){var p=n[o],q=h(i[p]);m.push('"'+p+'":'+q);}return '{'+m.join(',')+'}';}else return JSON.stringify(i);}f.exports=h;}),null);
__d('RelayStoreUtils',['invariant','RelayConcreteNode','stableJSONStringify'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayConcreteNode').VARIABLE;function j(o,p){var q={};o.forEach(function(r){if(r.kind===i){q[r.name]=m(r.variableName,p);}else q[r.name]=r.value;});return q;}function k(o,p,q){var r=o.filter(function(s){return p.indexOf(s.name)>-1;});return j(r,q);}function l(o,p){if(o.storageKey)return o.storageKey;var q=o.args,r=o.name;if(!q||!q.length)return r;var s=[];q.forEach(function(t){var u=void 0;if(t.kind===i){u=m(t.variableName,p);}else u=t.value;if(u!=null)s.push('"'+t.name+'":'+c('stableJSONStringify')(u));});if(s.length){return o.name+('{'+s.join(',')+'}');}else return o.name;}function m(o,p){Object.prototype.hasOwnProperty.call(p,o)||h(0);return p[o];}var n={FRAGMENTS_KEY:'__fragments',ID_KEY:'__id',REF_KEY:'__ref',REFS_KEY:'__refs',ROOT_ID:'client:root',ROOT_TYPE:'__Root',TYPENAME_KEY:'__typename',UNPUBLISH_RECORD_SENTINEL:Object.freeze({__UNPUBLISH_RECORD_SENTINEL:true}),UNPUBLISH_FIELD_SENTINEL:Object.freeze({__UNPUBLISH_FIELD_SENTINEL:true}),getArgumentValues:j,getStorageKey:l,getHandleFilterValues:k};f.exports=n;}),null);
__d('RelayModernSelector',['invariant','areEqual','forEachObject','warning','RelayConcreteVariables','RelayStoreUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayConcreteVariables').getFragmentVariables,j=c('RelayStoreUtils').FRAGMENTS_KEY,k=c('RelayStoreUtils').ID_KEY;function l(u,v,w){typeof w==='object'&&w!==null&&!Array.isArray(w)||h(0);var x=w[k],y=w[j];if(typeof x==='string'&&typeof y==='object'&&y!==null&&typeof y[v.name]==='object'&&y[v.name]!==null){var z=y[v.name],aa=i(v,u,z);return {dataID:x,node:v,variables:aa};}c('warning')(false,'RelayModernSelector: Expected object to contain data for fragment `%s`, got '+'`%s`. Make sure that the parent operation/fragment included fragment '+'`...%s`.',v.name,JSON.stringify(w),v.name);return null;}function m(u,v,w){var x=null;w.forEach(function(y){var z=y!=null?l(u,v,y):null;if(z!=null){x=x||[];x.push(z);}});return x;}function n(u,v,w){var x={};c('forEachObject')(v,function(y,z){var aa=w[z];if(aa==null){x[z]=aa;}else if(y.metadata&&y.metadata.plural===true){Array.isArray(aa)||h(0);x[z]=m(u,y,aa);}else{!Array.isArray(aa)||h(0);x[z]=l(u,y,aa);}});return x;}function o(u,v){var w={};c('forEachObject')(u,function(x,y){var z=v[y];if(z==null){w[y]=z;}else if(x.metadata&&x.metadata.plural===true){Array.isArray(z)||h(0);w[y]=p(x,z);}else{!Array.isArray(z)||h(0);w[y]=q(x,z);}});return w;}function p(u,v){var w=void 0;v.forEach(function(x){var y=x!=null?q(u,x):null;if(y!=null){w=w||[];w.push(y);}});return w||null;}function q(u,v){typeof v==='object'&&v!==null&&!Array.isArray(v)||h(0);var w=v[k];if(typeof w==='string')return w;c('warning')(false,'RelayModernSelector: Expected object to contain data for fragment `%s`, got '+'`%s`. Make sure that the parent operation/fragment included fragment '+'`...%s`.',u.name,JSON.stringify(v),u.name);return null;}function r(u,v,w){var x={};c('forEachObject')(v,function(y,z){var aa=w[z];if(aa==null){return;}else if(y.metadata&&y.metadata.plural===true){Array.isArray(aa)||h(0);aa.forEach(function(ca){if(ca!=null){var da=s(u,y,ca);if(da)Object.assign(x,da);}});}else{!Array.isArray(aa)||h(0);var ba=s(u,y,aa);if(ba)Object.assign(x,ba);}});return x;}function s(u,v,w){var x=l(u,v,w);return x?x.variables:null;}function t(u,v){return u.dataID===v.dataID&&u.node===v.node&&c('areEqual')(u.variables,v.variables);}f.exports={areEqualSelectors:t,getDataIDsFromObject:o,getSelector:l,getSelectorList:m,getSelectorsFromObject:n,getVariablesFromObject:r};}),null);
__d('RelayModernFragmentSpecResolver',['invariant','forEachObject','isScalarAndEqual','RelayModernSelector'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayModernSelector').areEqualSelectors,j=c('RelayModernSelector').getSelectorsFromObject;function k(p,q,r,s){this.$RelayModernFragmentSpecResolver8=function(){this.$RelayModernFragmentSpecResolver7=true;this.$RelayModernFragmentSpecResolver1();}.bind(this);this.$RelayModernFragmentSpecResolver1=s;this.$RelayModernFragmentSpecResolver2=p;this.$RelayModernFragmentSpecResolver3={};this.$RelayModernFragmentSpecResolver4=q;this.$RelayModernFragmentSpecResolver5=r;this.$RelayModernFragmentSpecResolver6={};this.$RelayModernFragmentSpecResolver7=false;this.setProps(r);}k.prototype.dispose=function(){c('forEachObject')(this.$RelayModernFragmentSpecResolver6,o);};k.prototype.resolve=function(){var p,q=this;if(this.$RelayModernFragmentSpecResolver7)(function(){var r=q.$RelayModernFragmentSpecResolver3,s=void 0;c('forEachObject')(q.$RelayModernFragmentSpecResolver6,function(t,u){var v=r[u];if(t){var w=t.resolve();if(s||w!==v){s=s||babelHelpers['extends']({},r);s[u]=w;}}else{var x=this.$RelayModernFragmentSpecResolver5[u],y=x!==undefined?x:null;if(s||!c('isScalarAndEqual')(y,v)){s=s||babelHelpers['extends']({},r);s[u]=y;}}}.bind(q));q.$RelayModernFragmentSpecResolver3=s||r;q.$RelayModernFragmentSpecResolver7=false;})();return this.$RelayModernFragmentSpecResolver3;};k.prototype.setProps=function(p){var q=j(this.$RelayModernFragmentSpecResolver2.variables,this.$RelayModernFragmentSpecResolver4,p);c('forEachObject')(q,function(r,s){var t=this.$RelayModernFragmentSpecResolver6[s];if(r==null){if(t!=null)t.dispose();t=null;}else if(Array.isArray(r)){if(t==null){t=new n(this.$RelayModernFragmentSpecResolver2.environment,r,this.$RelayModernFragmentSpecResolver8);}else{t instanceof n||h(0);t.setSelectors(r);}}else if(t==null){t=new l(this.$RelayModernFragmentSpecResolver2.environment,r,this.$RelayModernFragmentSpecResolver8);}else{t instanceof l||h(0);t.setSelector(r);}this.$RelayModernFragmentSpecResolver6[s]=t;}.bind(this));this.$RelayModernFragmentSpecResolver5=p;this.$RelayModernFragmentSpecResolver7=true;};k.prototype.setVariables=function(p){c('forEachObject')(this.$RelayModernFragmentSpecResolver6,function(q){if(q)q.setVariables(p);});this.$RelayModernFragmentSpecResolver7=true;};function l(p,q,r){m.call(this);var s=p.lookup(q);this.$SelectorResolver1=r;this.$SelectorResolver2=s.data;this.$SelectorResolver3=p;this.$SelectorResolver4=q;this.$SelectorResolver5=p.subscribe(s,this.$SelectorResolver6);}l.prototype.dispose=function(){if(this.$SelectorResolver5){this.$SelectorResolver5.dispose();this.$SelectorResolver5=null;}};l.prototype.resolve=function(){return this.$SelectorResolver2;};l.prototype.setSelector=function(p){if(this.$SelectorResolver5!=null&&i(p,this.$SelectorResolver4))return;this.dispose();var q=this.$SelectorResolver3.lookup(p);this.$SelectorResolver2=q.data;this.$SelectorResolver4=p;this.$SelectorResolver5=this.$SelectorResolver3.subscribe(q,this.$SelectorResolver6);};l.prototype.setVariables=function(p){var q=babelHelpers['extends']({},this.$SelectorResolver4,{variables:p});this.setSelector(q);};var m=function p(){this.$SelectorResolver6=function(q){this.$SelectorResolver2=q.data;this.$SelectorResolver1();}.bind(this);};function n(p,q,r){this.$SelectorListResolver6=function(s){this.$SelectorListResolver5=true;this.$SelectorListResolver1();}.bind(this);this.$SelectorListResolver1=r;this.$SelectorListResolver2=[];this.$SelectorListResolver3=p;this.$SelectorListResolver4=[];this.$SelectorListResolver5=true;this.setSelectors(q);}n.prototype.dispose=function(){this.$SelectorListResolver4.forEach(o);};n.prototype.resolve=function(){if(this.$SelectorListResolver5){var p=this.$SelectorListResolver2,q=void 0;for(var r=0;r<this.$SelectorListResolver4.length;r++){var s=p[r],t=this.$SelectorListResolver4[r].resolve();if(q||t!==s){q=q||p.slice(0,r);q.push(t);}}if(!q&&this.$SelectorListResolver4.length!==p.length)q=p.slice(0,this.$SelectorListResolver4.length);this.$SelectorListResolver2=q||p;this.$SelectorListResolver5=false;}return this.$SelectorListResolver2;};n.prototype.setSelectors=function(p){while(this.$SelectorListResolver4.length>p.length){var q=this.$SelectorListResolver4.pop();q.dispose();}for(var r=0;r<p.length;r++)if(r<this.$SelectorListResolver4.length){this.$SelectorListResolver4[r].setSelector(p[r]);}else this.$SelectorListResolver4[r]=new l(this.$SelectorListResolver3,p[r],this.$SelectorListResolver6);this.$SelectorListResolver5=true;};n.prototype.setVariables=function(p){this.$SelectorListResolver4.forEach(function(q){return q.setVariables(p);});this.$SelectorListResolver5=true;};function o(p){p&&p.dispose();}f.exports=k;}),null);
__d('RelayModernGraphQLTag',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';function i(m){h(0);}i.experimental=function(m){h(0);};function j(m){var n=typeof m==='function'?m:m.modern;if(typeof n!=='function')return m;return n();}function k(m){var n=j(m);typeof n==='object'&&n!==null&&n.kind==='Fragment'||h(0);return n;}function l(m){var n=j(m);typeof n==='object'&&n!==null&&n.kind==='Batch'||h(0);return n;}f.exports={getFragment:k,getOperation:l,graphql:i};}),null);
__d('RelayModernOperationSelector',['RelayConcreteVariables','RelayStoreUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('RelayConcreteVariables').getOperationVariables,i=c('RelayStoreUtils').ROOT_ID;function j(k,l){var m=h(k,l),n=i;return {fragment:{dataID:n,node:k.fragment,variables:m},node:k,root:{dataID:n,node:k.query,variables:m},variables:m};}f.exports={createOperationSelector:j};}),null);
__d('RelayCore',['RelayModernFragmentSpecResolver','warning','RelayModernGraphQLTag','RelayModernOperationSelector','RelayModernSelector'],(function a(b,c,d,e,f,g){'use strict';var h=c('RelayModernGraphQLTag').getFragment,i=c('RelayModernGraphQLTag').getOperation,j=c('RelayModernOperationSelector').createOperationSelector,k=c('RelayModernSelector').areEqualSelectors,l=c('RelayModernSelector').getDataIDsFromObject,m=c('RelayModernSelector').getSelector,n=c('RelayModernSelector').getSelectorList,o=c('RelayModernSelector').getSelectorsFromObject,p=c('RelayModernSelector').getVariablesFromObject;function q(r,s,t,u,v){return new (c('RelayModernFragmentSpecResolver'))(r,t,u,v);}f.exports={areEqualSelectors:k,createFragmentSpecResolver:q,createOperationSelector:j,getDataIDsFromObject:l,getFragment:h,getOperation:i,getSelector:m,getSelectorList:n,getSelectorsFromObject:o,getVariablesFromObject:p};}),null);
__d('RelayModernRecord',['invariant','areEqual','deepFreeze','forEachObject','RelayStoreUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayStoreUtils').ID_KEY,j=c('RelayStoreUtils').REF_KEY,k=c('RelayStoreUtils').REFS_KEY,l=c('RelayStoreUtils').TYPENAME_KEY,m=c('RelayStoreUtils').UNPUBLISH_FIELD_SENTINEL;function n(ba){return babelHelpers['extends']({},ba);}function o(ba,ca){c('forEachObject')(ba,function(da,ea){if(ea!==i&&ea!==l)ca[ea]=da;});}function p(ba,ca){var da={};da[i]=ba;da[l]=ca;return da;}function q(ba){return ba[i];}function r(ba){return ba[l];}function s(ba,ca){var da=ba[ca];if(da&&typeof da==='object')!Object.prototype.hasOwnProperty.call(da,j)&&!Object.prototype.hasOwnProperty.call(da,k)||h(0);return da;}function t(ba,ca){var da=ba[ca];if(da==null)return da;typeof da==='object'&&da&&typeof da[j]==='string'||h(0);return da[j];}function u(ba,ca){var da=ba[ca];if(da==null)return da;typeof da==='object'&&Array.isArray(da[k])||h(0);return da[k];}function v(ba,ca){var da=void 0,ea=Object.keys(ca);for(var fa=0;fa<ea.length;fa++){var ga=ea[fa];if(da||!c('areEqual')(ba[ga],ca[ga])){da=da||babelHelpers['extends']({},ba);if(ca[ga]!==m){da[ga]=ca[ga];}else delete da[ga];}}return da||ba;}function w(ba,ca){return Object.assign({},ba,ca);}function x(ba){c('deepFreeze')(ba);}function y(ba,ca,da){ba[ca]=da;}function z(ba,ca,da){var ea={};ea[j]=da;ba[ca]=ea;}function aa(ba,ca,da){var ea={};ea[k]=da;ba[ca]=ea;}f.exports={clone:n,copyFields:o,create:p,freeze:x,getDataID:q,getLinkedRecordID:t,getLinkedRecordIDs:u,getType:r,getValue:s,merge:w,setValue:y,setLinkedRecordID:z,setLinkedRecordIDs:aa,update:v};}),null);
__d('formatStorageKey',['forEachObject','stableJSONStringify'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){if(!j)return i;var k=null;c('forEachObject')(j,function(l,m){if(l!=null){if(!k)k={};k[m]=l;}});return i+(k?c('stableJSONStringify')(k):'');}f.exports=h;}),null);
__d('simpleClone',['mapObject'],(function a(b,c,d,e,f,g){'use strict';function h(i){if(Array.isArray(i)){return i.map(h);}else if(i&&typeof i==='object'){return c('mapObject')(i,h);}else return i;}f.exports=h;}),null);
__d('RelayRecordSourceInspector',['invariant','RelayModernRecord','forEachObject','formatStorageKey','getRelayHandleKey','simpleClone','RelayStoreUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayStoreUtils').ROOT_ID,j=c('RelayStoreUtils').ROOT_TYPE,k=c('RelayStoreUtils').REF_KEY,l=c('RelayStoreUtils').REFS_KEY;m.getForEnvironment=function(p){return new m(p.getStore().getSource());};function m(p){this.$RelayRecordSourceInspector1={};this.$RelayRecordSourceInspector2=p;}m.prototype.get=function(p){if(!Object.prototype.hasOwnProperty.call(this.$RelayRecordSourceInspector1,p)){var q=this.$RelayRecordSourceInspector2.get(p);if(q!=null){this.$RelayRecordSourceInspector1[p]=new n(this,q);}else this.$RelayRecordSourceInspector1[p]=q;}return this.$RelayRecordSourceInspector1[p];};m.prototype.getNodes=function(){var p=[];this.$RelayRecordSourceInspector2.getRecordIDs().forEach(function(q){if(q.indexOf('client:')===0)return;var r=this.$RelayRecordSourceInspector2.get(q);p.push(o.createFromRecord(q,r));}.bind(this));return p;};m.prototype.getRecords=function(){return this.$RelayRecordSourceInspector2.getRecordIDs().map(function(p){var q=this.$RelayRecordSourceInspector2.get(p);return o.createFromRecord(p,q);}.bind(this));};m.prototype.getRoot=function(){var p,q=this.get(i);q&&q.getType()===j||h(0);if(q.viewer==null)(function(){var r=c('getRelayHandleKey')('viewer',null,'viewer'),s=q;if(s[r]!=null)Object.defineProperty(s,'viewer',{configurable:true,enumerable:true,get:function t(){return s[r];}});})();return q;};function n(p,q){this.$RecordInspector1=q;this.$RecordInspector2=p;c('forEachObject')(q,function(r,s){var t=s.replace(/[^_a-zA-Z0-9]/g,'_');if(typeof r==='object'&&r!==null){if(Object.prototype.hasOwnProperty.call(r,k)){Object.defineProperty(this,t,{configurable:true,enumerable:true,get:function u(){return this.getLinkedRecord(s);}});}else if(Object.prototype.hasOwnProperty.call(r,l))Object.defineProperty(this,t,{configurable:true,enumerable:true,get:function u(){return this.getLinkedRecords(s);}});}else Object.defineProperty(this,t,{configurable:true,enumerable:true,get:function u(){return this.getValue(s);}});}.bind(this));}n.prototype.getDataID=function(){return c('RelayModernRecord').getDataID(this.$RecordInspector1);};n.prototype.getFields=function(){return Object.keys(this.$RecordInspector1).sort();};n.prototype.getType=function(){return c('RelayModernRecord').getType(this.$RecordInspector1);};n.prototype.inspect=function(){return c('simpleClone')(this.$RecordInspector1);};n.prototype.getValue=function(p,q){var r=q?c('formatStorageKey')(p,q):p;return c('RelayModernRecord').getValue(this.$RecordInspector1,r);};n.prototype.getLinkedRecord=function(p,q){var r=q?c('formatStorageKey')(p,q):p,s=c('RelayModernRecord').getLinkedRecordID(this.$RecordInspector1,r);return s!=null?this.$RecordInspector2.get(s):s;};n.prototype.getLinkedRecords=function(p,q){var r=q?c('formatStorageKey')(p,q):p,s=c('RelayModernRecord').getLinkedRecordIDs(this.$RecordInspector1,r);if(s==null)return s;return s.map(function(t){return t!=null?this.$RecordInspector2.get(t):t;}.bind(this));};o.createFromRecord=function(p,q){var r=q?c('RelayModernRecord').getType(q):null;return new o(p,r);};function o(p,q){this.id=p;this.type=q;}o.prototype.toString=function(){return this.type?this.id+': '+this.type:this.id;};f.exports=m;}),null);
__d('RelayDebugger',['RelayRecordSourceInspector'],(function a(b,c,d,e,f,g){'use strict';function h(){this.$RelayDebugger2=1;this.$RelayDebugger1=new Map();}h.prototype.registerEnvironment=function(j){var k='RelayModernEnvironment'+this.$RelayDebugger2++;this.$RelayDebugger1.set(k,new i(j));return k;};h.prototype.getEnvironmentDebugger=function(j){var k=this.$RelayDebugger1.get(j);if(!k)throw new Error('No registered environment: '+j);return k;};h.prototype.getRegisteredEnvironmentIds=function(){return Array.from(this.$RelayDebugger1.keys());};function i(j){this.$EnvironmentDebugger1=j;this.$EnvironmentDebugger2=false;this.$EnvironmentDebugger3();}i.prototype.getEnvironment=function(){return this.$EnvironmentDebugger1;};i.prototype.getMatchingRecords=function(j,k){var l=c('RelayRecordSourceInspector').getForEnvironment(this.$EnvironmentDebugger1);function m(n){if(k==='idtype')return n.id.includes(j)||!!n.type&&n.type.includes(j);if(k==='id')return n.id.includes(j);if(k==='type')return !!n.type&&n.type.includes(j);if(k==='predicate'){var o=l.get(n.id),p=o&&o.inspect();if(typeof p==='object'&&p!==null)throw new Error('Not implemented');return false;}throw new Error('Unknown match type: '+k);}return l.getRecords().filter(m);};i.prototype.getRecord=function(j){var k=c('RelayRecordSourceInspector').getForEnvironment(this.$EnvironmentDebugger1),l=k.get(j);return l&&l.inspect();};i.prototype.$EnvironmentDebugger3=function(){var j=this.$EnvironmentDebugger1.getStore().getSource(),k=j.set,l=j.remove;j.set=function(){for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];k.apply(j,n);this.triggerDirty();}.bind(this);j.remove=function(){for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];l.apply(j,n);this.triggerDirty();}.bind(this);};i.prototype.triggerDirty=function(){this.$EnvironmentDebugger2=true;};i.prototype.isDirty=function(){return this.$EnvironmentDebugger2;};i.prototype.resetDirty=function(){this.$EnvironmentDebugger2=false;};f.exports=h;}),null);
__d('RelayRecordState',[],(function a(b,c,d,e,f,g){'use strict';var h={EXISTENT:'EXISTENT',NONEXISTENT:'NONEXISTENT',UNKNOWN:'UNKNOWN'};f.exports=h;}),null);
__d('RelayInMemoryRecordSource',['RelayRecordState'],(function a(b,c,d,e,f,g){'use strict';var h=c('RelayRecordState').EXISTENT,i=c('RelayRecordState').NONEXISTENT,j=c('RelayRecordState').UNKNOWN;function k(l){this.$RelayInMemoryRecordSource1=l||{};}k.prototype.clear=function(){this.$RelayInMemoryRecordSource1={};};k.prototype['delete']=function(l){this.$RelayInMemoryRecordSource1[l]=null;};k.prototype.get=function(l){return this.$RelayInMemoryRecordSource1[l];};k.prototype.getRecordIDs=function(){return Object.keys(this.$RelayInMemoryRecordSource1);};k.prototype.getStatus=function(l){if(!Object.prototype.hasOwnProperty.call(this.$RelayInMemoryRecordSource1,l))return j;return this.$RelayInMemoryRecordSource1[l]==null?i:h;};k.prototype.has=function(l){return Object.prototype.hasOwnProperty.call(this.$RelayInMemoryRecordSource1,l);};k.prototype.load=function(l,m){m(null,this.get(l));};k.prototype.remove=function(l){delete this.$RelayInMemoryRecordSource1[l];};k.prototype.set=function(l,m){this.$RelayInMemoryRecordSource1[l]=m;};k.prototype.size=function(){return Object.keys(this.$RelayInMemoryRecordSource1).length;};k.prototype.toJSON=function(){return this.$RelayInMemoryRecordSource1;};f.exports=k;}),null);
__d('cloneRelayHandleSourceField',['invariant','RelayConcreteNode','areEqual','formatStorageKey','getRelayHandleKey','RelayStoreUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayStoreUtils').getHandleFilterValues,j=c('RelayConcreteNode').LINKED_FIELD;function k(l,m,n){var o=m.find(function(s){return s.kind===j&&s.name===l.name&&s.alias===l.alias&&c('areEqual')(s.args,l.args);});o&&o.kind===j||h(0);var p=c('getRelayHandleKey')(l.handle,l.key,l.name);if(l.filters&&l.filters.length>0){var q=i(l.args||[],l.filters,n);p=c('formatStorageKey')(p,q);}var r=babelHelpers['extends']({},o,{args:null,name:p,storageKey:p});return r;}f.exports=k;}),null);
__d('RelayAsyncLoader',['invariant','RelayConcreteNode','RelayModernRecord','RelayStoreUtils','cloneRelayHandleSourceField'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayConcreteNode').CONDITION,j=c('RelayConcreteNode').INLINE_FRAGMENT,k=c('RelayConcreteNode').LINKED_FIELD,l=c('RelayConcreteNode').LINKED_HANDLE,m=c('RelayConcreteNode').SCALAR_FIELD,n=c('RelayStoreUtils').getStorageKey;function o(r,s,t){var u=null,v=t.dataID,w=t.node,x=t.variables;function y(ba){u=ba;}var z=new q(r,s,x,y),aa=z.load(w,v);aa.dispose();return !!(u&&u.status==='complete');}function p(r,s,t,u){var v=t.dataID,w=t.node,x=t.variables,y=new q(r,s,x,u);return y.load(w,v);}function q(r,s,t,u){this.$RelayAsyncLoader1=u;this.$RelayAsyncLoader2=false;this.$RelayAsyncLoader3=0;this.$RelayAsyncLoader4=r;this.$RelayAsyncLoader5=s;this.$RelayAsyncLoader6=t;}q.prototype.load=function(r,s){var t=function(){return this.$RelayAsyncLoader7();}.bind(this);this.$RelayAsyncLoader8(r,s);return {dispose:t};};q.prototype.$RelayAsyncLoader9=function(r){Object.prototype.hasOwnProperty.call(this.$RelayAsyncLoader6,r)||h(0);return this.$RelayAsyncLoader6[r];};q.prototype.$RelayAsyncLoader10=function(){if(!this.$RelayAsyncLoader2){this.$RelayAsyncLoader2=true;this.$RelayAsyncLoader1({status:'complete'});}};q.prototype.$RelayAsyncLoader11=function(r){if(!this.$RelayAsyncLoader2){this.$RelayAsyncLoader2=true;this.$RelayAsyncLoader1({error:r,status:'error'});}};q.prototype.$RelayAsyncLoader12=function(){if(!this.$RelayAsyncLoader2){this.$RelayAsyncLoader2=true;this.$RelayAsyncLoader1({status:'missing'});}};q.prototype.$RelayAsyncLoader7=function(){if(!this.$RelayAsyncLoader2){this.$RelayAsyncLoader2=true;this.$RelayAsyncLoader1({status:'aborted'});}};q.prototype.$RelayAsyncLoader8=function(r,s){if(!this.$RelayAsyncLoader5.has(s)){this.$RelayAsyncLoader13(r,s);}else{this.$RelayAsyncLoader3++;var t=this.$RelayAsyncLoader5.get(s);if(t)this.$RelayAsyncLoader14(r.selections,t);this.$RelayAsyncLoader3--;if(this.$RelayAsyncLoader3===0)this.$RelayAsyncLoader10();}};q.prototype.$RelayAsyncLoader13=function(r,s){this.$RelayAsyncLoader3++;this.$RelayAsyncLoader4.load(s,function(t,u){if(this.$RelayAsyncLoader2)return;if(t){this.$RelayAsyncLoader11(t);}else if(u===undefined){this.$RelayAsyncLoader12();}else{if(u===null){this.$RelayAsyncLoader5['delete'](s);}else{this.$RelayAsyncLoader5.set(s,u);this.$RelayAsyncLoader14(r.selections,u);}this.$RelayAsyncLoader3--;if(this.$RelayAsyncLoader3===0)this.$RelayAsyncLoader10();}}.bind(this));};q.prototype.$RelayAsyncLoader14=function(r,s){r.every(function(t){switch(t.kind){case m:this.$RelayAsyncLoader15(t,s);break;case k:if(t.plural){this.$RelayAsyncLoader16(t,s);}else this.$RelayAsyncLoader17(t,s);break;case i:var u=this.$RelayAsyncLoader9(t.condition);if(u===t.passingValue)this.$RelayAsyncLoader14(t.selections,s);break;case j:var v=c('RelayModernRecord').getType(s);if(v!=null&&v===t.type)this.$RelayAsyncLoader14(t.selections,s);break;case l:var w=c('cloneRelayHandleSourceField')(t,r,this.$RelayAsyncLoader6);if(w.plural){this.$RelayAsyncLoader16(w,s);}else this.$RelayAsyncLoader17(w,s);break;default:t.kind===m||h(0);}return !this.$RelayAsyncLoader2;}.bind(this));};q.prototype.$RelayAsyncLoader15=function(r,s){var t=n(r,this.$RelayAsyncLoader6),u=c('RelayModernRecord').getValue(s,t);if(u===undefined)this.$RelayAsyncLoader12();};q.prototype.$RelayAsyncLoader17=function(r,s){var t=n(r,this.$RelayAsyncLoader6),u=c('RelayModernRecord').getLinkedRecordID(s,t);if(u===undefined){this.$RelayAsyncLoader12();}else if(u!=null)this.$RelayAsyncLoader8(r,u);};q.prototype.$RelayAsyncLoader16=function(r,s){var t=n(r,this.$RelayAsyncLoader6),u=c('RelayModernRecord').getLinkedRecordIDs(s,t);if(u===undefined){this.$RelayAsyncLoader12();}else if(u)u.forEach(function(v){if(v!=null)this.$RelayAsyncLoader8(r,v);}.bind(this));};f.exports={check:o,load:p};}),null);
__d('RelayReader',['invariant','RelayConcreteNode','RelayModernRecord','RelayStoreUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayConcreteNode').CONDITION,j=c('RelayConcreteNode').FRAGMENT_SPREAD,k=c('RelayConcreteNode').INLINE_FRAGMENT,l=c('RelayConcreteNode').LINKED_FIELD,m=c('RelayConcreteNode').SCALAR_FIELD,n=c('RelayStoreUtils').FRAGMENTS_KEY,o=c('RelayStoreUtils').ID_KEY,p=c('RelayStoreUtils').getArgumentValues,q=c('RelayStoreUtils').getStorageKey;function r(t,u){var v=u.dataID,w=u.node,x=u.variables,y=new s(t,x);return y.read(w,v);}function s(t,u){this.$RelayReader1=t;this.$RelayReader2={};this.$RelayReader3=u;}s.prototype.read=function(t,u){var v=this.$RelayReader4(t,u,null);return {data:v,dataID:u,node:t,seenRecords:this.$RelayReader2,variables:this.$RelayReader3};};s.prototype.$RelayReader4=function(t,u,v){var w=this.$RelayReader1.get(u);this.$RelayReader2[u]=w;if(w==null)return w;var x=v||{};this.$RelayReader5(t.selections,w,x);return x;};s.prototype.$RelayReader6=function(t){Object.prototype.hasOwnProperty.call(this.$RelayReader3,t)||h(0);return this.$RelayReader3[t];};s.prototype.$RelayReader5=function(t,u,v){t.forEach(function(w){if(w.kind===m){this.$RelayReader7(w,u,v);}else if(w.kind===l){if(w.plural){this.$RelayReader8(w,u,v);}else this.$RelayReader9(w,u,v);}else if(w.kind===i){var x=this.$RelayReader6(w.condition);if(x===w.passingValue)this.$RelayReader5(w.selections,u,v);}else if(w.kind===k){var y=c('RelayModernRecord').getType(u);if(y!=null&&y===w.type)this.$RelayReader5(w.selections,u,v);}else if(w.kind===j){this.$RelayReader10(w,u,v);}else h(0);}.bind(this));};s.prototype.$RelayReader7=function(t,u,v){var w=t.alias||t.name,x=q(t,this.$RelayReader3),y=c('RelayModernRecord').getValue(u,x);v[w]=y;};s.prototype.$RelayReader9=function(t,u,v){var w=t.alias||t.name,x=q(t,this.$RelayReader3),y=c('RelayModernRecord').getLinkedRecordID(u,x);if(y==null){v[w]=y;return;}var z=v[w];z==null||typeof z==='object'||h(0);v[w]=this.$RelayReader4(t,y,z);};s.prototype.$RelayReader8=function(t,u,v){var w=t.alias||t.name,x=q(t,this.$RelayReader3),y=c('RelayModernRecord').getLinkedRecordIDs(u,x);if(y==null){v[w]=y;return;}var z=v[w];z==null||Array.isArray(z)||h(0);var aa=z||[];y.forEach(function(ba,ca){if(ba==null){aa[ca]=ba;return;}var da=aa[ca];da==null||typeof da==='object'||h(0);var ea=this.$RelayReader4(t,ba,da);aa[ca]=ea;}.bind(this));v[w]=aa;};s.prototype.$RelayReader10=function(t,u,v){var w=v[n];if(!w)w=v[n]={};typeof w==='object'&&w||h(0);v[o]=v[o]||c('RelayModernRecord').getDataID(u);var x=t.args?p(t.args,this.$RelayReader3):{};w[t.name]=x;};f.exports={read:r};}),null);
__d('RelayReferenceMarker',['invariant','RelayConcreteNode','RelayModernRecord','RelayStoreUtils','cloneRelayHandleSourceField'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayConcreteNode').CONDITION,j=c('RelayConcreteNode').FRAGMENT_SPREAD,k=c('RelayConcreteNode').INLINE_FRAGMENT,l=c('RelayConcreteNode').LINKED_FIELD,m=c('RelayConcreteNode').LINKED_HANDLE,n=c('RelayConcreteNode').SCALAR_FIELD,o=c('RelayConcreteNode').SCALAR_HANDLE,p=c('RelayStoreUtils').getStorageKey;function q(s,t,u){var v=t.dataID,w=t.node,x=t.variables,y=new r(s,x,u);y.mark(w,v);}function r(s,t,u){this.$RelayReferenceMarker2=u;this.$RelayReferenceMarker1=s;this.$RelayReferenceMarker3=t;}r.prototype.mark=function(s,t){this.$RelayReferenceMarker4(s,t);};r.prototype.$RelayReferenceMarker4=function(s,t){this.$RelayReferenceMarker2.add(t);var u=this.$RelayReferenceMarker1.get(t);if(u==null)return;this.$RelayReferenceMarker5(s.selections,u);};r.prototype.$RelayReferenceMarker6=function(s){Object.prototype.hasOwnProperty.call(this.$RelayReferenceMarker3,s)||h(0);return this.$RelayReferenceMarker3[s];};r.prototype.$RelayReferenceMarker5=function(s,t){s.forEach(function(u){if(u.kind===l){if(u.plural){this.$RelayReferenceMarker7(u,t);}else this.$RelayReferenceMarker8(u,t);}else if(u.kind===i){var v=this.$RelayReferenceMarker6(u.condition);if(v===u.passingValue)this.$RelayReferenceMarker5(u.selections,t);}else if(u.kind===k){var w=c('RelayModernRecord').getType(t);if(w!=null&&w===u.type)this.$RelayReferenceMarker5(u.selections,t);}else if(u.kind===j){h(0);}else if(u.kind===m){var x=c('cloneRelayHandleSourceField')(u,s,this.$RelayReferenceMarker3);if(x.plural){this.$RelayReferenceMarker7(x,t);}else this.$RelayReferenceMarker8(x,t);}else u.kind===n||u.kind===o||h(0);}.bind(this));};r.prototype.$RelayReferenceMarker8=function(s,t){var u=p(s,this.$RelayReferenceMarker3),v=c('RelayModernRecord').getLinkedRecordID(t,u);if(v==null)return;this.$RelayReferenceMarker4(s,v);};r.prototype.$RelayReferenceMarker7=function(s,t){var u=p(s,this.$RelayReferenceMarker3),v=c('RelayModernRecord').getLinkedRecordIDs(t,u);if(v==null)return;v.forEach(function(w){if(w!=null)this.$RelayReferenceMarker4(s,w);}.bind(this));};f.exports={mark:q};}),null);
__d('hasOverlappingIDs',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=Object.keys(i.seenRecords);for(var l=0;l<k.length;l++)if(Object.prototype.hasOwnProperty.call(j,k[l]))return true;return false;}f.exports=h;}),null);
__d('RelayMarkSweepStore',['RelayAsyncLoader','RelayModernRecord','RelayProfiler','RelayReader','RelayReferenceMarker','deepFreeze','hasOverlappingIDs','recycleNodesInto','resolveImmediate','RelayStoreUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('RelayStoreUtils').UNPUBLISH_RECORD_SENTINEL;function i(k){this.$RelayMarkSweepStore1=false;this.$RelayMarkSweepStore2=0;this.$RelayMarkSweepStore3=k;this.$RelayMarkSweepStore4=new Map();this.$RelayMarkSweepStore5=new Set();this.$RelayMarkSweepStore6={};}i.prototype.getSource=function(){return this.$RelayMarkSweepStore3;};i.prototype.check=function(k){return c('RelayAsyncLoader').check(this.$RelayMarkSweepStore3,this.$RelayMarkSweepStore3,k);};i.prototype.retain=function(k){var l=this.$RelayMarkSweepStore2++,m=function(){this.$RelayMarkSweepStore4['delete'](l);this.$RelayMarkSweepStore7();}.bind(this);this.$RelayMarkSweepStore4.set(l,k);return {dispose:m};};i.prototype.lookup=function(k){var l=c('RelayReader').read(this.$RelayMarkSweepStore3,k);return l;};i.prototype.notify=function(){this.$RelayMarkSweepStore5.forEach(function(k){this.$RelayMarkSweepStore8(k);}.bind(this));this.$RelayMarkSweepStore6={};};i.prototype.publish=function(k){j(this.$RelayMarkSweepStore3,k,this.$RelayMarkSweepStore6);};i.prototype.resolve=function(k,l,m){c('RelayAsyncLoader').load(this.$RelayMarkSweepStore3,k,l,m);};i.prototype.subscribe=function(k,l){var m={callback:l,snapshot:k},n=function(){this.$RelayMarkSweepStore5['delete'](m);}.bind(this);this.$RelayMarkSweepStore5.add(m);return {dispose:n};};i.prototype.$RelayMarkSweepStore8=function(k){var l=k.callback,m=k.snapshot;if(!c('hasOverlappingIDs')(m,this.$RelayMarkSweepStore6))return;var n=c('RelayReader').read(this.$RelayMarkSweepStore3,m),o=n.data,p=n.seenRecords,q=c('recycleNodesInto')(m.data,o),r=babelHelpers['extends']({},m,{data:q,seenRecords:p});k.snapshot=r;if(r.data!==m.data)l(r);};i.prototype.$RelayMarkSweepStore7=function(){if(this.$RelayMarkSweepStore1)return;this.$RelayMarkSweepStore1=true;c('resolveImmediate')(function(){this.$RelayMarkSweepStore9();this.$RelayMarkSweepStore1=false;}.bind(this));};i.prototype.$RelayMarkSweepStore9=function(){var k=new Set();this.$RelayMarkSweepStore4.forEach(function(o){c('RelayReferenceMarker').mark(this.$RelayMarkSweepStore3,o,k);}.bind(this));if(!k.size){this.$RelayMarkSweepStore3.clear();return;}var l=this.$RelayMarkSweepStore3.getRecordIDs();for(var m=0;m<l.length;m++){var n=l[m];if(!k.has(n))this.$RelayMarkSweepStore3.remove(n);}};function j(k,l,m){var n=l.getRecordIDs();for(var o=0;o<n.length;o++){var p=n[o],q=l.get(p),r=k.get(p);if(q===h){k.remove(p);m[p]=true;}else if(q&&r){var s=c('RelayModernRecord').update(r,q);if(s!==r){m[p]=true;k.set(p,s);}}else if(q===null){k['delete'](p);if(r!==null)m[p]=true;}else if(q){k.set(p,q);m[p]=true;}}}c('RelayProfiler').instrumentMethods(i.prototype,{lookup:'RelayMarkSweepStore.prototype.lookup',notify:'RelayMarkSweepStore.prototype.notify',publish:'RelayMarkSweepStore.prototype.publish',retain:'RelayMarkSweepStore.prototype.retain',subscribe:'RelayMarkSweepStore.prototype.subscribe'});f.exports=i;}),null);
__d('RelayViewerHandler',['generateRelayClientID','RelayStoreUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('RelayStoreUtils').ROOT_ID,i=c('generateRelayClientID')(h,'viewer'),j='Viewer';function k(l,m){var n=l.get(m.dataID);if(!n)return;var o=n.getLinkedRecord(m.fieldKey);if(!o){n.setValue(null,m.handleKey);return;}if(o.getDataID()===i){n.setValue(null,m.fieldKey);n.setLinkedRecord(o,m.handleKey);return;}var p=l.get(i)||l.create(i,j);p.copyFieldsFrom(o);n.setValue(null,m.fieldKey);n.setLinkedRecord(p,m.handleKey);var q=l.getRoot();q.setLinkedRecord(p,m.handleKey);}f.exports={VIEWER_ID:i,update:k};}),null);
__d('RelayDefaultHandlerProvider',['invariant','RelayConnectionHandler','RelayViewerHandler'],(function a(b,c,d,e,f,g,h){'use strict';function i(j){switch(j){case 'connection':return c('RelayConnectionHandler');case 'viewer':return c('RelayViewerHandler');}h(0);}f.exports=i;}),null);
__d('RelayRecordSourceMutator',['invariant','RelayModernRecord','forEachObject','RelayRecordState','RelayStoreUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayRecordState').EXISTENT,j=c('RelayStoreUtils').UNPUBLISH_FIELD_SENTINEL,k=c('RelayStoreUtils').UNPUBLISH_RECORD_SENTINEL;function l(m,n,o){this.$RelayRecordSourceMutator1=o;this.$RelayRecordSourceMutator2=m;this.$RelayRecordSourceMutator3=n;this.__sources=[n,m];}l.prototype.$RelayRecordSourceMutator4=function(m){var n=this.$RelayRecordSourceMutator1;if(n&&!n.has(m)){var o=this.$RelayRecordSourceMutator2.get(m);if(o!=null){n.set(m,o);}else if(o===null)n['delete'](m);}};l.prototype.$RelayRecordSourceMutator5=function(m,n){var o,p=this.$RelayRecordSourceMutator1;if(p)(function(){var q,r=p.get(m);if(r&&r!==k)(function(){var s=null;c('forEachObject')(n,function(t,u){if(!(u in r)){s=s||babelHelpers['extends']({},r);s[u]=j;}});p.set(m,s||r);})();})();};l.prototype.$RelayRecordSourceMutator6=function(m,n){var o=this.$RelayRecordSourceMutator1;if(o){var p=o.get(m);if(p&&p!==k&&!(n in p)){var q=babelHelpers['extends']({},p);c('RelayModernRecord').setValue(q,n,j);o.set(m,q);}}};l.prototype.$RelayRecordSourceMutator7=function(m){var n=this.$RelayRecordSourceMutator3.get(m);if(!n){var o=this.$RelayRecordSourceMutator2.get(m);o||h(0);n=c('RelayModernRecord').create(m,c('RelayModernRecord').getType(o));this.$RelayRecordSourceMutator3.set(m,n);}return n;};l.prototype.copyFields=function(m,n){var o=this.$RelayRecordSourceMutator3.get(m),p=this.$RelayRecordSourceMutator2.get(m);o||p||h(0);this.$RelayRecordSourceMutator4(n);var q=this.$RelayRecordSourceMutator7(n);if(p)c('RelayModernRecord').copyFields(p,q);if(o)c('RelayModernRecord').copyFields(o,q);this.$RelayRecordSourceMutator5(n,q);};l.prototype.copyFieldsFromRecord=function(m,n){this.copyFields(c('RelayModernRecord').getDataID(m),n);var o=this.$RelayRecordSourceMutator7(n);c('RelayModernRecord').copyFields(m,o);this.$RelayRecordSourceMutator5(n,o);};l.prototype.create=function(m,n){this.$RelayRecordSourceMutator2.getStatus(m)!==i&&this.$RelayRecordSourceMutator3.getStatus(m)!==i||h(0);if(this.$RelayRecordSourceMutator1)this.$RelayRecordSourceMutator1.set(m,k);var o=c('RelayModernRecord').create(m,n);this.$RelayRecordSourceMutator3.set(m,o);};l.prototype['delete']=function(m){this.$RelayRecordSourceMutator4(m);this.$RelayRecordSourceMutator3['delete'](m);};l.prototype.getStatus=function(m){return this.$RelayRecordSourceMutator3.has(m)?this.$RelayRecordSourceMutator3.getStatus(m):this.$RelayRecordSourceMutator2.getStatus(m);};l.prototype.getType=function(m){for(var n=0;n<this.__sources.length;n++){var o=this.__sources[n].get(m);if(o){return c('RelayModernRecord').getType(o);}else if(o===null)return null;}};l.prototype.getValue=function(m,n){for(var o=0;o<this.__sources.length;o++){var p=this.__sources[o].get(m);if(p){var q=c('RelayModernRecord').getValue(p,n);if(q!==undefined)return q;}else if(p===null)return null;}};l.prototype.setValue=function(m,n,o){this.$RelayRecordSourceMutator4(m);var p=this.$RelayRecordSourceMutator7(m);c('RelayModernRecord').setValue(p,n,o);this.$RelayRecordSourceMutator6(m,n);};l.prototype.getLinkedRecordID=function(m,n){for(var o=0;o<this.__sources.length;o++){var p=this.__sources[o].get(m);if(p){var q=c('RelayModernRecord').getLinkedRecordID(p,n);if(q!==undefined)return q;}else if(p===null)return null;}};l.prototype.setLinkedRecordID=function(m,n,o){this.$RelayRecordSourceMutator4(m);var p=this.$RelayRecordSourceMutator7(m);c('RelayModernRecord').setLinkedRecordID(p,n,o);this.$RelayRecordSourceMutator6(m,n);};l.prototype.getLinkedRecordIDs=function(m,n){for(var o=0;o<this.__sources.length;o++){var p=this.__sources[o].get(m);if(p){var q=c('RelayModernRecord').getLinkedRecordIDs(p,n);if(q!==undefined)return q;}else if(p===null)return null;}};l.prototype.setLinkedRecordIDs=function(m,n,o){this.$RelayRecordSourceMutator4(m);var p=this.$RelayRecordSourceMutator7(m);c('RelayModernRecord').setLinkedRecordIDs(p,n,o);this.$RelayRecordSourceMutator6(m,n);};f.exports=l;}),null);
__d('RelayRecordProxy',['invariant','formatStorageKey','generateRelayClientID'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k,l){this.$RelayRecordProxy1=l;this.$RelayRecordProxy2=k;this.$RelayRecordProxy3=j;}i.prototype.copyFieldsFrom=function(j){this.$RelayRecordProxy2.copyFields(j.getDataID(),this.$RelayRecordProxy1);};i.prototype.getDataID=function(){return this.$RelayRecordProxy1;};i.prototype.getType=function(){var j=this.$RelayRecordProxy2.getType(this.$RelayRecordProxy1);j!=null||h(0);return j;};i.prototype.getValue=function(j,k){var l=k?c('formatStorageKey')(j,k):j;return this.$RelayRecordProxy2.getValue(this.$RelayRecordProxy1,l);};i.prototype.setValue=function(j,k,l){j==null||typeof j!=='object'||h(0);var m=l?c('formatStorageKey')(k,l):k;this.$RelayRecordProxy2.setValue(this.$RelayRecordProxy1,m,j);return this;};i.prototype.getLinkedRecord=function(j,k){var l=k?c('formatStorageKey')(j,k):j,m=this.$RelayRecordProxy2.getLinkedRecordID(this.$RelayRecordProxy1,l);return m!=null?this.$RelayRecordProxy3.get(m):m;};i.prototype.setLinkedRecord=function(j,k,l){j instanceof i||h(0);var m=l?c('formatStorageKey')(k,l):k,n=j.getDataID();this.$RelayRecordProxy2.setLinkedRecordID(this.$RelayRecordProxy1,m,n);return this;};i.prototype.getOrCreateLinkedRecord=function(j,k,l){var m=this.getLinkedRecord(j,l);if(!m){var n=l?c('formatStorageKey')(j,l):j,o=c('generateRelayClientID')(this.getDataID(),n);m=this.$RelayRecordProxy3.create(o,k);this.setLinkedRecord(m,j,l);}return m;};i.prototype.getLinkedRecords=function(j,k){var l=k?c('formatStorageKey')(j,k):j,m=this.$RelayRecordProxy2.getLinkedRecordIDs(this.$RelayRecordProxy1,l);if(m==null)return m;return m.map(function(n){return n!=null?this.$RelayRecordProxy3.get(n):n;}.bind(this));};i.prototype.setLinkedRecords=function(j,k,l){Array.isArray(j)||h(0);var m=l?c('formatStorageKey')(k,l):k,n=j.map(function(o){return o&&o.getDataID();});this.$RelayRecordProxy2.setLinkedRecordIDs(this.$RelayRecordProxy1,m,n);return this;};f.exports=i;}),null);
__d('RelayRecordSourceSelectorProxy',['invariant','RelayStoreUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayStoreUtils').getStorageKey;function j(k,l){this.__recordSource=k;this.$RelayRecordSourceSelectorProxy1=l;}j.prototype.create=function(k,l){return this.__recordSource.create(k,l);};j.prototype['delete']=function(k){this.__recordSource['delete'](k);};j.prototype.get=function(k){return this.__recordSource.get(k);};j.prototype.getRoot=function(){return this.__recordSource.getRoot();};j.prototype.$RelayRecordSourceSelectorProxy2=function(k,l,m){var n=k.node.selections.find(function(o){return o.kind==='LinkedField'&&o.name===l;});n&&n.kind==='LinkedField'||h(0);n.plural===m||h(0);return n;};j.prototype.getRootField=function(k){var l=this.$RelayRecordSourceSelectorProxy2(this.$RelayRecordSourceSelectorProxy1,k,false),m=i(l,this.$RelayRecordSourceSelectorProxy1.variables);return this.getRoot().getLinkedRecord(m);};j.prototype.getPluralRootField=function(k){var l=this.$RelayRecordSourceSelectorProxy2(this.$RelayRecordSourceSelectorProxy1,k,true),m=i(l,this.$RelayRecordSourceSelectorProxy1.variables);return this.getRoot().getLinkedRecords(m);};f.exports=j;}),null);
__d('RelayResponseNormalizer',['invariant','RelayConcreteNode','RelayModernRecord','RelayProfiler','formatStorageKey','generateRelayClientID','getRelayHandleKey','warning','RelayStoreUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayStoreUtils').getHandleFilterValues,j=c('RelayStoreUtils').getArgumentValues,k=c('RelayStoreUtils').getStorageKey,l=c('RelayStoreUtils').TYPENAME_KEY,m=c('RelayConcreteNode').CONDITION,n=c('RelayConcreteNode').INLINE_FRAGMENT,o=c('RelayConcreteNode').LINKED_FIELD,p=c('RelayConcreteNode').LINKED_HANDLE,q=c('RelayConcreteNode').SCALAR_FIELD,r=c('RelayConcreteNode').SCALAR_HANDLE;function s(u,v,w){var x=arguments.length<=3||arguments[3]===undefined?{handleStrippedNulls:false}:arguments[3],y=v.dataID,z=v.node,aa=v.variables,ba=new t(u,aa,x);return ba.normalizeResponse(z,y,w);}function t(u,v,w){this.$RelayResponseNormalizer1=[];this.$RelayResponseNormalizer2=u;this.$RelayResponseNormalizer3=v;this.$RelayResponseNormalizer4=w.handleStrippedNulls;}t.prototype.normalizeResponse=function(u,v,w){var x=this.$RelayResponseNormalizer2.get(v);x||h(0);this.$RelayResponseNormalizer5(u.selections,x,w);return this.$RelayResponseNormalizer1;};t.prototype.$RelayResponseNormalizer6=function(u){Object.prototype.hasOwnProperty.call(this.$RelayResponseNormalizer3,u)||h(0);return this.$RelayResponseNormalizer3[u];};t.prototype.$RelayResponseNormalizer7=function(u){var v=u[l];v!=null||h(0);return v;};t.prototype.$RelayResponseNormalizer5=function(u,v,w){u.forEach(function(x){if(x.kind===q||x.kind===o){this.$RelayResponseNormalizer8(x,v,w);}else if(x.kind===m){var y=this.$RelayResponseNormalizer6(x.condition);if(y===x.passingValue)this.$RelayResponseNormalizer5(x.selections,v,w);}else if(x.kind===n){var z=c('RelayModernRecord').getType(v);if(z===x.type)this.$RelayResponseNormalizer5(x.selections,v,w);}else if(x.kind===p||x.kind===r){var aa=x.args?j(x.args,this.$RelayResponseNormalizer3):{},ba=c('formatStorageKey')(x.name,aa),ca=c('getRelayHandleKey')(x.handle,x.key,x.name);if(x.filters){var da=i(x.args||[],x.filters,this.$RelayResponseNormalizer3);ca=c('formatStorageKey')(ca,da);}this.$RelayResponseNormalizer1.push({args:aa,dataID:c('RelayModernRecord').getDataID(v),fieldKey:ba,handle:x.handle,handleKey:ca});}else h(0);}.bind(this));};t.prototype.$RelayResponseNormalizer8=function(u,v,w){typeof w==='object'&&w||h(0);var x=u.alias||u.name,y=k(u,this.$RelayResponseNormalizer3),z=w[x];if(z==null){if(z===undefined&&!this.$RelayResponseNormalizer4)return;c('RelayModernRecord').setValue(v,y,null);return;}if(u.kind===q){c('RelayModernRecord').setValue(v,y,z);}else if(u.plural){this.$RelayResponseNormalizer9(u,v,y,z);}else this.$RelayResponseNormalizer10(u,v,y,z);};t.prototype.$RelayResponseNormalizer10=function(u,v,w,x){typeof x==='object'&&x||h(0);var y=x.id||c('RelayModernRecord').getLinkedRecordID(v,w)||c('generateRelayClientID')(c('RelayModernRecord').getDataID(v),w);typeof y==='string'||h(0);c('RelayModernRecord').setLinkedRecordID(v,w,y);var z=this.$RelayResponseNormalizer2.get(y);if(!z){var aa=u.concreteType||this.$RelayResponseNormalizer7(x);z=c('RelayModernRecord').create(y,aa);this.$RelayResponseNormalizer2.set(y,z);}this.$RelayResponseNormalizer5(u.selections,z,x);};t.prototype.$RelayResponseNormalizer9=function(u,v,w,x){Array.isArray(x)||h(0);var y=c('RelayModernRecord').getLinkedRecordIDs(v,w),z=[];x.forEach(function(aa,ba){if(aa==null){z.push(aa);return;}typeof aa==='object'||h(0);var ca=aa.id||y&&y[ba]||c('generateRelayClientID')(c('RelayModernRecord').getDataID(v),w,ba);typeof ca==='string'||h(0);z.push(ca);var da=this.$RelayResponseNormalizer2.get(ca);if(!da){var ea=u.concreteType||this.$RelayResponseNormalizer7(aa);da=c('RelayModernRecord').create(ca,ea);this.$RelayResponseNormalizer2.set(ca,da);}this.$RelayResponseNormalizer5(u.selections,da,aa);}.bind(this));c('RelayModernRecord').setLinkedRecordIDs(v,w,z);};t.prototype.$RelayResponseNormalizer11=function(u,v,w){var x=v.concreteType||this.$RelayResponseNormalizer7(w);c('warning')(c('RelayModernRecord').getType(u)===x,'RelayResponseNormalizer: Invalid record `%s`. Expected %s to be '+'be consistent, but the record was assigned conflicting types `%s` '+'and `%s`. The GraphQL server likely violated the globally unique '+'id requirement by returning the same id for different objects.',c('RelayModernRecord').getDataID(u),l,c('RelayModernRecord').getType(u),x);};s=c('RelayProfiler').instrument('RelayResponseNormalizer.normalize',s);f.exports={normalize:s};}),null);
__d('normalizeRelayPayload',['RelayInMemoryRecordSource','RelayModernRecord','RelayResponseNormalizer','RelayStoreUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('RelayStoreUtils').ROOT_ID,i=c('RelayStoreUtils').ROOT_TYPE;function j(k,l,m){var n=arguments.length<=3||arguments[3]===undefined?{handleStrippedNulls:false}:arguments[3],o=new (c('RelayInMemoryRecordSource'))();o.set(h,c('RelayModernRecord').create(h,i));var p=c('RelayResponseNormalizer').normalize(o,k,l,n);return {errors:m,fieldPayloads:p,source:o};}f.exports=j;}),null);
__d('RelayRecordSourceProxy',['invariant','RelayModernRecord','RelayRecordProxy','RelayRecordSourceSelectorProxy','normalizeRelayPayload','RelayRecordState','RelayStoreUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayRecordState').EXISTENT,j=c('RelayRecordState').NONEXISTENT,k=c('RelayStoreUtils').ROOT_ID,l=c('RelayStoreUtils').ROOT_TYPE;function m(n,o){this.__mutator=n;this.$RelayRecordSourceProxy1=o||null;this.$RelayRecordSourceProxy2={};}m.prototype.commitPayload=function(n,o){if(!o)return new (c('RelayRecordSourceSelectorProxy'))(this,n.fragment);var p=c('normalizeRelayPayload')(n.root,o),q=p.source,r=p.fieldPayloads,s=q.getRecordIDs();s.forEach(function(t){var u=q.getStatus(t);if(u===i){var v=q.get(t);if(v){if(this.__mutator.getStatus(t)!==i)this.create(t,c('RelayModernRecord').getType(v));this.__mutator.copyFieldsFromRecord(v,t);delete this.$RelayRecordSourceProxy2[t];}}else if(u===j)this['delete'](t);}.bind(this));if(r&&r.length)r.forEach(function(t){var u=this.$RelayRecordSourceProxy1&&this.$RelayRecordSourceProxy1(t.handle);u||h(0);u.update(this,t);}.bind(this));return new (c('RelayRecordSourceSelectorProxy'))(this,n.fragment);};m.prototype.create=function(n,o){this.__mutator.create(n,o);delete this.$RelayRecordSourceProxy2[n];var p=this.get(n);p||h(0);return p;};m.prototype['delete']=function(n){n!==k||h(0);delete this.$RelayRecordSourceProxy2[n];this.__mutator['delete'](n);};m.prototype.get=function(n){if(!Object.prototype.hasOwnProperty.call(this.$RelayRecordSourceProxy2,n)){var o=this.__mutator.getStatus(n);if(o===i){this.$RelayRecordSourceProxy2[n]=new (c('RelayRecordProxy'))(this,this.__mutator,n);}else this.$RelayRecordSourceProxy2[n]=o===j?null:undefined;}return this.$RelayRecordSourceProxy2[n];};m.prototype.getRoot=function(){var n=this.get(k);if(!n)n=this.create(k,l);n&&n.getType()===l||h(0);return n;};f.exports=m;}),null);
__d('RelayPublishQueue',['invariant','RelayInMemoryRecordSource','RelayReader','RelayRecordSourceMutator','RelayRecordSourceProxy','RelayRecordSourceSelectorProxy','normalizeRelayPayload','deepFreeze'],(function a(b,c,d,e,f,g,h){'use strict';function i(k,l){this.$RelayPublishQueue3=new (c('RelayInMemoryRecordSource'))();this.$RelayPublishQueue2=l||null;this.$RelayPublishQueue4=false;this.$RelayPublishQueue5=new Set();this.$RelayPublishQueue6=new Set();this.$RelayPublishQueue7=new Set();this.$RelayPublishQueue1=k;this.$RelayPublishQueue8=new Set();}i.prototype.applyUpdate=function(k){!this.$RelayPublishQueue8.has(k)&&!this.$RelayPublishQueue7.has(k)||h(0);this.$RelayPublishQueue7.add(k);};i.prototype.revertUpdate=function(k){if(this.$RelayPublishQueue7.has(k)){this.$RelayPublishQueue7['delete'](k);}else if(this.$RelayPublishQueue8.has(k)){this.$RelayPublishQueue4=true;this.$RelayPublishQueue8['delete'](k);}};i.prototype.revertAll=function(){this.$RelayPublishQueue4=true;this.$RelayPublishQueue7.clear();this.$RelayPublishQueue8.clear();};i.prototype.commitPayload=function(k,l,m){var n=l.fieldPayloads,o=l.source;this.$RelayPublishQueue4=true;this.$RelayPublishQueue5.add({fieldPayloads:n,operation:k,source:o,updater:m});};i.prototype.commitUpdate=function(k){this.$RelayPublishQueue4=true;this.$RelayPublishQueue6.add(k);};i.prototype.run=function(){if(this.$RelayPublishQueue4&&this.$RelayPublishQueue3.size()){this.$RelayPublishQueue1.publish(this.$RelayPublishQueue3);this.$RelayPublishQueue3=new (c('RelayInMemoryRecordSource'))();}this.$RelayPublishQueue9();this.$RelayPublishQueue10();this.$RelayPublishQueue11();this.$RelayPublishQueue4=false;this.$RelayPublishQueue1.notify();};i.prototype.$RelayPublishQueue9=function(){if(!this.$RelayPublishQueue5.size)return;this.$RelayPublishQueue5.forEach(function(k){var l=k.fieldPayloads,m=k.operation,n=k.source,o=k.updater,p=new (c('RelayRecordSourceMutator'))(this.$RelayPublishQueue1.getSource(),n),q=new (c('RelayRecordSourceProxy'))(p),r=new (c('RelayRecordSourceSelectorProxy'))(q,m.fragment);if(l&&l.length)l.forEach(function(t){var u=this.$RelayPublishQueue2&&this.$RelayPublishQueue2(t.handle);u||h(0);u.update(q,t);}.bind(this));if(o){var s=j(n,m.fragment);o(r,s);}this.$RelayPublishQueue1.publish(n);}.bind(this));this.$RelayPublishQueue5.clear();};i.prototype.$RelayPublishQueue10=function(){if(!this.$RelayPublishQueue6.size)return;var k=new (c('RelayInMemoryRecordSource'))();this.$RelayPublishQueue6.forEach(function(l){var m=new (c('RelayRecordSourceMutator'))(this.$RelayPublishQueue1.getSource(),k),n=new (c('RelayRecordSourceProxy'))(m);l(n);}.bind(this));this.$RelayPublishQueue1.publish(k);this.$RelayPublishQueue6.clear();};i.prototype.$RelayPublishQueue11=function(){var k,l=this;if(this.$RelayPublishQueue7.size||this.$RelayPublishQueue4&&this.$RelayPublishQueue8.size)(function(){var m=new (c('RelayInMemoryRecordSource'))(),n=new (c('RelayRecordSourceMutator'))(l.$RelayPublishQueue1.getSource(),m,l.$RelayPublishQueue3),o=new (c('RelayRecordSourceProxy'))(n,l.$RelayPublishQueue2);if(l.$RelayPublishQueue4&&l.$RelayPublishQueue8.size)l.$RelayPublishQueue8.forEach(function(p){if(p.operation){var q=p.selectorStoreUpdater,r=p.operation,s=p.response,t=o.commitPayload(r,s),u=void 0,v=void 0;if(s){var w=c('normalizeRelayPayload')(r.root,s);v=w.source;u=j(v,r.fragment);}q&&q(t,u);}else{var x=p.storeUpdater;x(o);}});if(l.$RelayPublishQueue7.size){l.$RelayPublishQueue7.forEach(function(p){if(p.operation){var q=p.selectorStoreUpdater,r=p.operation,s=p.response,t=o.commitPayload(r,s),u=void 0,v=void 0;if(s){var w=c('normalizeRelayPayload')(r.root,s);v=w.source;u=j(v,r.fragment);}q&&q(t,u);}else{var x=p.storeUpdater;x(o);}this.$RelayPublishQueue8.add(p);}.bind(l));l.$RelayPublishQueue7.clear();}l.$RelayPublishQueue1.publish(m);})();};function j(k,l){var m=c('RelayReader').read(k,l).data;return m;}f.exports=i;}),null);
__d('isPromise',[],(function a(b,c,d,e,f,g){'use strict';function h(i){return !!i&&typeof i.then==='function';}f.exports=h;}),null);
__d('RelayModernEnvironment',['RelayCore','RelayDefaultHandlerProvider','RelayPublishQueue','isPromise','normalizeRelayPayload','warning'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=i.handlerProvider?i.handlerProvider:c('RelayDefaultHandlerProvider');this.$RelayModernEnvironment1=i.network;this.$RelayModernEnvironment2=new (c('RelayPublishQueue'))(i.store,j);this.$RelayModernEnvironment3=i.store;this.unstable_internal=c('RelayCore');this.__setNet=function(k){return this.$RelayModernEnvironment1=k;}.bind(this);}h.prototype.getStore=function(){return this.$RelayModernEnvironment3;};h.prototype.applyUpdate=function(i){var j=function(){this.$RelayModernEnvironment2.revertUpdate(i);this.$RelayModernEnvironment2.run();}.bind(this);this.$RelayModernEnvironment2.applyUpdate(i);this.$RelayModernEnvironment2.run();return {dispose:j};};h.prototype.applyMutation=function(i){var j=i.operation,k=i.optimisticResponse,l=i.optimisticUpdater,m={operation:j,selectorStoreUpdater:l,response:k||null},n=function(){this.$RelayModernEnvironment2.revertUpdate(m);this.$RelayModernEnvironment2.run();}.bind(this);this.$RelayModernEnvironment2.applyUpdate(m);this.$RelayModernEnvironment2.run();return {dispose:n};};h.prototype.check=function(i){return this.$RelayModernEnvironment3.check(i);};h.prototype.commitPayload=function(i,j){var k=c('normalizeRelayPayload')(i.root,j);this.$RelayModernEnvironment2.commitPayload(i,k);this.$RelayModernEnvironment2.run();};h.prototype.commitUpdate=function(i){this.$RelayModernEnvironment2.commitUpdate(i);this.$RelayModernEnvironment2.run();};h.prototype.lookup=function(i){return this.$RelayModernEnvironment3.lookup(i);};h.prototype.subscribe=function(i,j){return this.$RelayModernEnvironment3.subscribe(i,j);};h.prototype.retain=function(i){return this.$RelayModernEnvironment3.retain(i);};h.prototype.sendQuery=function(i){var j=i.cacheConfig,k=i.onCompleted,l=i.onError,m=i.onNext,n=i.operation,o=false,p=function t(){o=true;},q=function(t){if(o)return;this.$RelayModernEnvironment2.commitPayload(n,t);this.$RelayModernEnvironment2.run();m&&m(t);k&&k();}.bind(this),r=function t(u){if(o)return;l&&l(u);},s=this.$RelayModernEnvironment1.request(n.node,n.variables,j);if(c('isPromise')(s)){s.then(q)['catch'](r);}else if(s instanceof Error){r(s);}else q(s);return {dispose:p};};h.prototype.streamQuery=function(i){var j=i.cacheConfig,k=i.onCompleted,l=i.onError,m=i.onNext,n=i.operation;return this.$RelayModernEnvironment1.requestStream(n.node,n.variables,j,{onCompleted:k,onError:l,onNext:function(o){this.$RelayModernEnvironment2.commitPayload(n,o);this.$RelayModernEnvironment2.run();m&&m(o);}.bind(this)});};h.prototype.sendMutation=function(i){var j=i.onCompleted,k=i.onError,l=i.operation,m=i.optimisticResponse,n=i.optimisticUpdater,o=i.updater,p=i.uploadables,q=!!m||n,r={operation:l,selectorStoreUpdater:n,response:m||null};if(q){this.$RelayModernEnvironment2.applyUpdate(r);this.$RelayModernEnvironment2.run();}var s=false,t=function(){if(q){this.$RelayModernEnvironment2.revertUpdate(r);this.$RelayModernEnvironment2.run();q=false;}s=true;}.bind(this),u=function(x){if(s)return;if(q)this.$RelayModernEnvironment2.revertUpdate(r);this.$RelayModernEnvironment2.commitPayload(l,x,o);this.$RelayModernEnvironment2.run();j&&j(x.errors);}.bind(this),v=function(x){if(s)return;if(q)this.$RelayModernEnvironment2.revertUpdate(r);this.$RelayModernEnvironment2.run();k&&k(x);}.bind(this),w=this.$RelayModernEnvironment1.request(l.node,l.variables,{force:true},p);if(c('isPromise')(w)){w.then(u)['catch'](v);}else c('warning')(false,'RelayModernEnvironment: mutation request cannot be synchronous.');return {dispose:t};};h.prototype.sendSubscription=function(i){var j=i.onCompleted,k=i.onNext,l=i.onError,m=i.operation,n=i.updater;return this.$RelayModernEnvironment1.requestStream(m.node,m.variables,{force:true},{onCompleted:j,onError:l,onNext:function(o){this.$RelayModernEnvironment2.commitPayload(m,o,n);this.$RelayModernEnvironment2.run();k&&k(o);}.bind(this)});};h.prototype['@@RelayModernEnvironment']=true;f.exports=h;}),null);
__d('RelayNetwork',['invariant','Promise','RelayError','isPromise','normalizeRelayPayload','RelayStoreUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayStoreUtils').ROOT_ID;function j(n,o){function p(r,s,t,u){var v=function x(y){return l(r,s,y);},w=n(r,s,t,u);if(c('isPromise')(w)){return w.then(v);}else if(w instanceof Error){return w;}else return v(w);}function q(r,s,t,u){var v=u.onCompleted,w=u.onError,x=u.onNext;if(r.query.operation==='subscription'){o||h(0);return o(r,s,null,{onCompleted:v,onError:w,onNext:function da(ea){var fa=void 0;try{fa=l(r,s,ea);}catch(ga){w&&w(ga);return;}x&&x(fa);}});}var y=t&&t.poll;if(y!=null)return k(p,r,s,{onCompleted:v,onError:w,onNext:x},y);var z=false,aa=function da(ea){if(z)return;var fa=void 0;try{fa=l(r,s,ea);}catch(ga){w&&w(ga);return;}x&&x(fa);v&&v();},ba=function da(ea){if(z)return;w&&w(ea);},ca=n(r,s,t);if(c('isPromise')(ca)){ca.then(aa)['catch'](ba);}else if(ca instanceof Error){ba(ca);}else aa(ca);return {dispose:function da(){z=true;}};}return {fetch:n,request:p,requestStream:q};}function k(n,o,p,q,r){var s=q.onCompleted,t=q.onError,u=q.onNext;r>0||h(0);var v=false,w=null,x=function z(){if(!v){v=true;w&&clearTimeout(w);}};function y(){var z=n(o,p,{force:true});if(!c('isPromise')(z))z=z instanceof Error?c('Promise').reject(z):c('Promise').resolve(z);var aa=function ca(da){u&&u(da);w=setTimeout(y,r);},ba=function ca(da){x();t&&t(da);};z.then(function(ca){aa(ca);},ba)['catch'](m);}y();return {dispose:x};}function l(n,o,p){var q=p.data,r=p.errors;if(q!=null)return c('normalizeRelayPayload')({dataID:i,node:n.query,variables:o},q,r,{handleStrippedNulls:true});var s=c('RelayError').create('RelayNetwork','No data returned for operation `%s`, got error(s):\n%s\n\nSee the error '+'`source` property for more information.',n.name,r?r.map(function(t){var u=t.message;return u;}).join('\n'):'(No errors)');s.source={errors:r,operation:n,variables:o};throw s;}function m(n){setTimeout(function(){throw n;},0);}f.exports={create:j};}),null);
__d('RelayQueryResponseCache',['invariant','stableJSONStringify'],(function a(b,c,d,e,f,g,h){'use strict';function i(l){var m=l.size,n=l.ttl;m>0||h(0);n>0||h(0);this.$RelayQueryResponseCache1=new Map();this.$RelayQueryResponseCache2=m;this.$RelayQueryResponseCache3=n;}i.prototype.clear=function(){this.$RelayQueryResponseCache1.clear();};i.prototype.get=function(l,m){var n=j(l,m);this.$RelayQueryResponseCache1.forEach(function(p,q){if(!k(p.fetchTime,this.$RelayQueryResponseCache3))this.$RelayQueryResponseCache1['delete'](q);}.bind(this));var o=this.$RelayQueryResponseCache1.get(n);return o!=null?o.payload:null;};i.prototype.set=function(l,m,n){var o=Date.now(),p=j(l,m);this.$RelayQueryResponseCache1['delete'](p);this.$RelayQueryResponseCache1.set(p,{fetchTime:o,payload:n});if(this.$RelayQueryResponseCache1.size>this.$RelayQueryResponseCache2){var q=this.$RelayQueryResponseCache1.keys().next();if(!q.done)this.$RelayQueryResponseCache1['delete'](q.value);}};function j(l,m){return c('stableJSONStringify')({queryID:l,variables:m});}function k(l,m){return l+m>=Date.now();}f.exports=i;}),null);
__d('isRelayModernEnvironment',[],(function a(b,c,d,e,f,g){'use strict';function h(i){return Boolean(i&&i['@@RelayModernEnvironment']);}f.exports=h;}),null);
__d('setRelayModernMutationConfigs',['RelayConnectionHandler','warning'],(function a(b,c,d,e,f,g){'use strict';function h(n,o,p,q){var r=p?[p]:[],s=q?[q]:[];n.forEach(function(t){switch(t.type){case 'NODE_DELETE':var u=i(t,o);if(u){r.push(u);s.push(u);}break;case 'RANGE_ADD':var v=j(t,o);if(v){r.push(v);s.push(v);}break;case 'RANGE_DELETE':var w=k(t,o);if(w){r.push(w);s.push(w);}break;}});p=function t(u,v){r.forEach(function(w){w(u,v);});};q=function t(u,v){s.forEach(function(w){w(u,v);});};return {optimisticUpdater:p,updater:q};}function i(n,o){var p=void 0;if(n.type!=='NODE_DELETE')return;var q=n.deletedIDFieldName,r=m(o);if(r)p=function s(t,u){var v=t.getRootField(r);if(!v)return;var w=v.getValue(q),x=Array.isArray(w)?w:[w];x.forEach(function(y){if(y&&typeof y==='string')t['delete'](y);});};return p;}function j(n,o){var p=void 0;if(n.type!=='RANGE_ADD')return;var q=n.parentID,r=n.connectionInfo,s=n.edgeName;if(!q){c('warning')(false,'setRelayModernMutationConfigs: For mutation config RANGE_ADD '+'to work you must include a parentID');return;}var t=m(o);if(r&&t)p=function u(v,w){var x=v.get(q);if(x){var y=v.getRootField(t);if(!y)return;var z=y.getLinkedRecord(s);for(var aa=r,ba=Array.isArray(aa),ca=0,aa=ba?aa:aa[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var da;if(ba){if(ca>=aa.length)break;da=aa[ca++];}else{ca=aa.next();if(ca.done)break;da=ca.value;}var ea=da;if(z){var fa=c('RelayConnectionHandler').getConnection(x,ea.key,ea.filters);if(!fa)return;switch(ea.rangeBehavior){case 'append':c('RelayConnectionHandler').insertEdgeAfter(fa,z);break;case 'ignore':break;case 'prepend':c('RelayConnectionHandler').insertEdgeBefore(fa,z);break;default:c('warning')(false,'setRelayModernMutationConfigs: RANGE_ADD range behavior '+('\''+ea.rangeBehavior+'\' will not work as expected in RelayModern, ')+"supported range behaviors are 'append', 'prepend', and "+"'ignore'");break;}}}}};return p;}function k(n,o){var p=void 0;if(n.type!=='RANGE_DELETE')return;var q=n.parentID,r=n.connectionKeys,s=n.pathToConnection,t=n.deletedIDFieldName;if(!q){c('warning')(false,'setRelayModernMutationConfigs: For mutation config RANGE_DELETE '+'to work you must include a parentID');return;}var u=m(o);if(u)p=function v(w,x){var y;if(x)(function(){var z=[],aa=x[u];if(aa&&Array.isArray(t)){for(var ba=t,ca=Array.isArray(ba),da=0,ba=ca?ba:ba[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ea;if(ca){if(da>=ba.length)break;ea=ba[da++];}else{da=ba.next();if(da.done)break;ea=da.value;}var fa=ea;if(aa&&typeof aa==='object')aa=aa[fa];}if(Array.isArray(aa)){aa.forEach(function(ga){if(ga&&ga.id&&typeof ga==='object'&&typeof ga.id==='string')z.push(ga.id);});}else if(aa&&aa.id&&typeof aa.id==='string')z.push(aa.id);}else if(aa&&typeof t==='string'&&typeof aa==='object'){aa=aa[t];if(typeof aa==='string'){z.push(aa);}else if(Array.isArray(aa))aa.forEach(function(ga){if(typeof ga==='string')z.push(ga);});}l(q,r,s,w,z);})();};return p;}function l(n,o,p,q,r){var s;c('warning')(o,'setRelayModernMutationConfigs: RANGE_DELETE must provide a '+'connectionKeys');var t=q.get(n);if(!t)return;if(p.length>=2){var u=t;for(var v=1;v<p.length-1;v++)if(u)u=u.getLinkedRecord(p[v]);if(o&&u){var w=function ca(da){var ea=c('RelayConnectionHandler').getConnection(u,da.key,da.filters);if(ea){r.forEach(function(fa){c('RelayConnectionHandler').deleteNode(ea,fa);});return 'break';}};for(var x=o,y=Array.isArray(x),z=0,x=y?x:x[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var aa;if(y){if(z>=x.length)break;aa=x[z++];}else{z=x.next();if(z.done)break;aa=z.value;}var ba=aa,s=w(ba);if(s==='break')break;}}else c('warning')(false,'setRelayModernMutationConfigs: RANGE_DELETE '+'pathToConnection is incorrect. Unable to find connection with '+'parentID: %s and path: %s',n,p.toString());}else c('warning')(false,'setRelayModernMutationConfigs: RANGE_DELETE '+'pathToConnection must include at least parent and connection');}function m(n){var o=void 0;if(n.fragment&&n.fragment.selections&&n.fragment.selections.length>0&&n.fragment.selections[0].kind==='LinkedField')o=n.fragment.selections[0].name;return o;}f.exports=h;}),null);
__d('applyRelayModernOptimisticMutation',['invariant','isRelayModernEnvironment','setRelayModernMutationConfigs'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k){c('isRelayModernEnvironment')(j)||h(0);var l=j.unstable_internal,m=l.createOperationSelector,n=l.getOperation,o=n(k.mutation),p=k.optimisticUpdater,q=k.configs,r=k.optimisticResponse,s=k.variables,t=m(o,s);if(q){var u=c('setRelayModernMutationConfigs')(q,o,p);p=u.optimisticUpdater;}return j.applyUpdate({operation:t,selectorStoreUpdater:p,response:r});}f.exports=i;}),null);
__d('commitLocalUpdate',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j){i.commitUpdate(j);}f.exports=h;}),null);
__d('commitRelayModernMutation',['invariant','isRelayModernEnvironment','setRelayModernMutationConfigs','warning'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k){c('isRelayModernEnvironment')(j)||h(0);var l=j.unstable_internal,m=l.createOperationSelector,n=l.getOperation,o=n(k.mutation),p=k.optimisticResponse,q=k.optimisticUpdater,r=k.updater,s=k.configs,t=k.onError,u=k.variables,v=k.uploadables,w=m(o,u);if(typeof p==='function'){p=p();c('warning')(false,'commitRelayModernMutation: Expected `optimisticResponse` to be an object, '+'received a function.');}if(p&&o.query.selections&&o.query.selections.length===1&&o.query.selections[0].kind==='LinkedField'){var x=o.query.selections[0].name;c('warning')(p[x],'commitRelayModernMutation: Expected `optimisticResponse` to be wrapped '+'in mutation name `%s`',x);}if(s){var y=c('setRelayModernMutationConfigs')(s,o,q,r);q=y.optimisticUpdater;r=y.updater;}return j.sendMutation({onError:t,operation:w,uploadables:v,updater:r,optimisticUpdater:q,optimisticResponse:p,onCompleted:function z(aa){var ba=k.onCompleted;if(ba){var ca=j.lookup(w.fragment);ba(ca.data,aa);}}});}f.exports=i;}),null);
__d('fetchRelayModernQuery',['invariant','Promise'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k,l,m){j.unstable_internal||h(0);var n=j.unstable_internal,o=n.createOperationSelector,p=n.getOperation,q=p(k),r=o(q,l);return new (c('Promise'))(function(s,t){j.sendQuery({cacheConfig:m,onError:t,onCompleted:function u(){try{var v=j.lookup(r.fragment);s(v.data);}catch(w){t(w);}},operation:r});});}f.exports=i;}),null);
__d('requestRelaySubscription',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=i.unstable_internal,l=k.createOperationSelector,m=k.getOperation,n=m(j.subscription),o=j.onCompleted,p=j.onError,q=j.onNext,r=j.updater,s=j.variables,t=l(n,s);return i.sendSubscription({onCompleted:o,onError:p,onNext:function(u){function v(w){return u.apply(this,arguments);}v.toString=function(){return u.toString();};return v;}(function(u){if(q){var v=i.lookup(t.fragment);q(v.data);}}),updater:r,operation:t});}f.exports=h;}),null);
__d('RelayRuntime',['RelayConnectionHandler','RelayCore','RelayInMemoryRecordSource','RelayMarkSweepStore','RelayModernEnvironment','RelayModernGraphQLTag','RelayNetwork','RelayQueryResponseCache','RelayViewerHandler','applyRelayModernOptimisticMutation','commitLocalUpdate','commitRelayModernMutation','fetchRelayModernQuery','isRelayModernEnvironment','requestRelaySubscription','RelayRecordSourceInspector','RelayDebugger'],(function a(b,c,d,e,f,g){'use strict';f.exports={Environment:c('RelayModernEnvironment'),Network:c('RelayNetwork'),QueryResponseCache:c('RelayQueryResponseCache'),RecordSource:c('RelayInMemoryRecordSource'),Store:c('RelayMarkSweepStore'),areEqualSelectors:c('RelayCore').areEqualSelectors,createFragmentSpecResolver:c('RelayCore').createFragmentSpecResolver,createOperationSelector:c('RelayCore').createOperationSelector,getDataIDsFromObject:c('RelayCore').getDataIDsFromObject,getFragment:c('RelayModernGraphQLTag').getFragment,getOperation:c('RelayModernGraphQLTag').getOperation,getSelector:c('RelayCore').getSelector,getSelectorList:c('RelayCore').getSelectorList,getSelectorsFromObject:c('RelayCore').getSelectorsFromObject,getVariablesFromObject:c('RelayCore').getVariablesFromObject,graphql:c('RelayModernGraphQLTag').graphql,ConnectionHandler:c('RelayConnectionHandler'),ViewerHandler:c('RelayViewerHandler'),applyOptimisticMutation:c('applyRelayModernOptimisticMutation'),commitLocalUpdate:c('commitLocalUpdate'),commitMutation:c('commitRelayModernMutation'),fetchQuery:c('fetchRelayModernQuery'),isRelayModernEnvironment:c('isRelayModernEnvironment'),requestSubscription:c('requestRelaySubscription')};}),null);
__d('assertFragmentMap',['invariant','forEachObject'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k){k&&typeof k==='object'||h(0);c('forEachObject')(k,function(l,m){l&&(typeof l==='object'||typeof l==='function')||h(0);});}f.exports=i;}),null);
__d('buildReactRelayContainer',['RelayPropTypes','assertFragmentMap','mapObject','RelayContainerUtils','RelayRuntime'],(function a(b,c,d,e,f,g){'use strict';var h=c('RelayContainerUtils').getComponentName,i=c('RelayContainerUtils').getContainerName,j={relay:c('RelayPropTypes').Relay};function k(l,m,n){var o=i(l);c('assertFragmentMap')(h(l),m);var p=void 0,q=void 0;function r(s,t){if(q==null||t.relay.environment!==p){p=t.relay.environment;var u=p.unstable_internal.getFragment,v=c('mapObject')(m,u);q=n(l,v);}return new q(s,t);}r.contextTypes=j;r.displayName=o;return r;}f.exports=k;}),null);
__d('ReactRelayFragmentContainer',['invariant','React','RelayProfiler','RelayPropTypes','areEqual','buildReactRelayContainer','isRelayContext','isScalarAndEqual','nullthrows','ReactRelayContainerProfiler','RelayContainerUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('ReactRelayContainerProfiler').profileContainer,j=c('RelayContainerUtils').getComponentName,k=c('RelayContainerUtils').getReactComponent,l={relay:c('RelayPropTypes').Relay};function m(p,q){var r,s,t=k(p),u=j(p),v='Relay('+u+')';r=babelHelpers.inherits(w,c('React').Component);s=r&&r.prototype;function w(x,y){'use strict';s.constructor.call(this,x,y);this.$Container2=function(){var ba=this.$Container1.resolve(),ca=c('RelayProfiler').profile('ReactRelayFragmentContainer.handleFragmentDataUpdate');this.setState({data:ba},ca.stop);}.bind(this);var z=n(y.relay),aa=z.environment.unstable_internal.createFragmentSpecResolver;this.$Container1=aa(z,v,q,x,this.$Container2);this.state={data:this.$Container1.resolve(),relayProp:{environment:z.environment}};}w.prototype.componentWillReceiveProps=function(x,y){'use strict';var z=c('nullthrows')(y),aa=n(z.relay),ba=aa.environment.unstable_internal,ca=ba.createFragmentSpecResolver,da=ba.getDataIDsFromObject,ea=da(q,this.props),fa=da(q,x);if(this.context.relay.environment!==aa.environment||this.context.relay.variables!==aa.variables||!c('areEqual')(ea,fa)){this.$Container1.dispose();this.$Container1=ca(aa,v,q,x,this.$Container2);var ga={environment:aa.environment};this.setState({relayProp:ga});}else this.$Container1.setProps(x);var ha=this.$Container1.resolve();if(ha!==this.state.data)this.setState({data:ha});};w.prototype.componentWillUnmount=function(){'use strict';this.$Container1.dispose();};w.prototype.shouldComponentUpdate=function(x,y,z){'use strict';if(z.relay!==this.context.relay||y.data!==this.state.data)return true;var aa=Object.keys(x);for(var ba=0;ba<aa.length;ba++){var ca=aa[ba];if(!Object.prototype.hasOwnProperty.call(q,ca)&&!c('isScalarAndEqual')(x[ca],this.props[ca]))return true;}return false;};w.prototype.render=function(){'use strict';if(t){return c('React').createElement(t,babelHelpers['extends']({},this.props,this.state.data,{ref:this.props.componentRef||'component',relay:this.state.relayProp}));}else return c('React').createElement(p,babelHelpers['extends']({},this.props,this.state.data,{relay:this.state.relayProp}));};i(w,'ReactRelayFragmentContainer');w.contextTypes=l;w.displayName=v;return w;}function n(p){c('isRelayContext')(p)||h(0);return p;}function o(p,q){return c('buildReactRelayContainer')(p,q,m);}f.exports={createContainer:o,createContainerWithFragments:m};}),null);
__d('ReactRelayPaginationContainer',['invariant','React','RelayProfiler','RelayPropTypes','areEqual','buildReactRelayContainer','isRelayContext','isScalarAndEqual','nullthrows','warning','ReactRelayContainerProfiler','RelayConnectionInterface','RelayContainerUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('ReactRelayContainerProfiler').profileContainer,j=c('RelayConnectionInterface').EDGES,k=c('RelayConnectionInterface').PAGE_INFO,l=c('RelayConnectionInterface').HAS_NEXT_PAGE,m=c('RelayConnectionInterface').HAS_PREV_PAGE,n=c('RelayConnectionInterface').END_CURSOR,o=c('RelayConnectionInterface').START_CURSOR,p=c('RelayContainerUtils').getComponentName,q=c('RelayContainerUtils').getReactComponent,r={relay:c('RelayPropTypes').Relay},s='forward';function t(z){var aa=z.path;aa||h(0);return function(ba){var ca=ba[z.fragmentName];for(var da=0;da<aa.length;da++){if(!ca||typeof ca!=='object')return null;ca=ca[aa[da]];}return ca;};}function u(z){var aa=z.count;aa||h(0);return function(ba,ca){var da;return babelHelpers['extends']({},ba,(da={},da[aa]=ca,da));};}function v(z){var aa=null;for(var ba in z){var ca=z[ba],da=ca.metadata&&ca.metadata.connection;if(da){da.length===1||h(0);!aa||h(0);aa=babelHelpers['extends']({},da[0],{fragmentName:ba});}}return aa||{};}function w(z,aa,ba){var ca,da,ea=q(z),fa=p(z),ga='Relay('+fa+')',ha=v(aa),ia=ba.getConnectionFromProps||t(ha),ja=ba.direction||ha.direction;ja||h(0);var ka=ba.getFragmentVariables||u(ha);ca=babelHelpers.inherits(la,c('React').Component);da=ca&&ca.prototype;function la(ma,na){'use strict';da.constructor.call(this,ma,na);this.$Container6=function(){var qa=c('RelayProfiler').profile('ReactRelayPaginationContainer.handleFragmentDataUpdate');this.setState({data:this.$Container5.resolve()},qa.stop);}.bind(this);this.$Container9=function(){var qa=this.$Container13();return !!qa&&qa.hasMore;}.bind(this);this.$Container10=function(){return !!this.$Container2;}.bind(this);this.$Container12=function(qa,ra,sa){var ta={count:qa,cursor:null,totalCount:qa};return this.$Container14(ta,ra,{force:true},sa);}.bind(this);this.$Container11=function(qa,ra,sa){var ta=this.$Container13();if(!ta)return null;var ua=ta.edgeCount+qa;if(sa&&sa.force)return this.$Container12(ua,ra);var va={count:qa,cursor:ta.cursor,totalCount:ua};return this.$Container14(va,ra,sa);}.bind(this);var oa=x(na.relay),pa=oa.environment.unstable_internal.createFragmentSpecResolver;this.$Container1=null;this.$Container2=null;this.$Container3=[];this.$Container5=pa(oa,ga,aa,ma,this.$Container6);this.$Container4={environment:this.context.relay.environment,variables:this.context.relay.variables};this.state={data:this.$Container5.resolve(),relayProp:this.$Container7(oa)};}la.prototype.componentWillReceiveProps=function(ma,na){'use strict';var oa=c('nullthrows')(na),pa=x(oa.relay),qa=pa.environment.unstable_internal,ra=qa.createFragmentSpecResolver,sa=qa.getDataIDsFromObject,ta=sa(aa,this.props),ua=sa(aa,ma);if(this.context.relay.environment!==pa.environment||this.context.relay.variables!==pa.variables||!c('areEqual')(ta,ua)){this.$Container8();this.$Container1=null;this.$Container4={environment:pa.environment,variables:pa.variables};this.$Container5=ra(pa,ga,aa,ma,this.$Container6);this.setState({relayProp:this.$Container7(pa)});}else if(!this.$Container1)this.$Container5.setProps(ma);var va=this.$Container5.resolve();if(va!==this.state.data)this.setState({data:va});};la.prototype.componentWillUnmount=function(){'use strict';this.$Container8();};la.prototype.shouldComponentUpdate=function(ma,na,oa){'use strict';if(oa.relay!==this.context.relay||na.data!==this.state.data||na.relayProp!==this.state.relayProp)return true;var pa=Object.keys(ma);for(var qa=0;qa<pa.length;qa++){var ra=pa[qa];if(!Object.prototype.hasOwnProperty.call(aa,ra)&&!c('isScalarAndEqual')(ma[ra],this.props[ra]))return true;}return false;};la.prototype.$Container7=function(ma){'use strict';return {hasMore:this.$Container9,isLoading:this.$Container10,loadMore:this.$Container11,refetchConnection:this.$Container12,environment:ma.environment};};la.prototype.$Container13=function(){'use strict';var ma=babelHelpers['extends']({},this.props,this.state.data),na=ia(ma);if(na==null)return null;typeof na==='object'||h(0);var oa=na[j],pa=na[k];if(oa==null||pa==null)return null;Array.isArray(oa)||h(0);typeof pa==='object'||h(0);var qa=ja===s?pa[l]:pa[m],ra=ja===s?pa[n]:pa[o];if(typeof qa!=='boolean'||typeof ra!=='string'){c('warning')(false,'ReactRelayPaginationContainer: Cannot paginate without %s fields in `%s`. '+'Be sure to fetch %s (got `%s`) and %s (got `%s`).',k,fa,ja===s?l:m,qa,ja===s?n:o,ra);return null;}return {cursor:ra,edgeCount:oa.length,hasMore:qa};};la.prototype.$Container14=function(ma,na,oa,pa){'use strict';var qa=x(this.context.relay),ra=qa.environment,sa=ra.unstable_internal,ta=sa.createOperationSelector,ua=sa.getOperation,va=sa.getVariablesFromObject,wa=babelHelpers['extends']({},this.props,this.state.data),xa=va(this.$Container4.variables,aa,this.props);xa=babelHelpers['extends']({},xa,pa);var ya=ba.getVariables(wa,{count:ma.count,cursor:ma.cursor},xa);typeof ya==='object'&&ya!==null||h(0);ya=babelHelpers['extends']({},ya,pa);this.$Container1=ya;var za=oa?{force:!!oa.force}:undefined,ab=ua(ba.query),bb=ta(ab,ya),cb=function(){this.$Container2=null;this.$Container4={environment:this.context.relay.environment,variables:babelHelpers['extends']({},this.context.relay.variables,xa)};var gb=this.$Container5.resolve();this.$Container5.setVariables(ka(xa,ma.totalCount));var hb=this.$Container5.resolve();if(!c('areEqual')(gb,hb)){this.setState({data:hb},function(){return na&&na();});}else na&&na();}.bind(this),db=function(gb){this.$Container2=null;na&&na(gb);}.bind(this),eb=ra.retain(bb.root);this.$Container3.push(eb);if(this.$Container2)this.$Container2.dispose();var fb=ra.streamQuery({cacheConfig:za,onCompleted:cb,onError:db,operation:bb});this.$Container2=fb;return {dispose:function(){fb.dispose();if(this.$Container2===fb)this.$Container2=null;}.bind(this)};};la.prototype.$Container8=function(){'use strict';this.$Container5.dispose();this.$Container3.forEach(function(ma){return ma.dispose();});this.$Container3.length=0;if(this.$Container2){this.$Container2.dispose();this.$Container2=null;}};la.prototype.getChildContext=function(){'use strict';return {relay:this.$Container4};};la.prototype.render=function(){'use strict';if(ea){return c('React').createElement(ea,babelHelpers['extends']({},this.props,this.state.data,{ref:this.props.componentRef||'component',relay:this.state.relayProp}));}else return c('React').createElement(z,babelHelpers['extends']({},this.props,this.state.data,{relay:this.state.relayProp}));};i(la,'ReactRelayPaginationContainer');la.contextTypes=r;la.displayName=ga;return la;}function x(z){c('isRelayContext')(z)||h(0);return z;}function y(z,aa,ba){var ca=c('buildReactRelayContainer')(z,aa,function(da,ea){return w(da,ea,ba);});ca.childContextTypes=r;return ca;}f.exports={createContainer:y,createContainerWithFragments:w};}),null);
__d('ReactRelayQueryRenderer',['React','RelayPropTypes','areEqual','deepFreeze'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(l,m){i.constructor.call(this,l,m);this.$ReactRelayQueryRenderer7=function(v){this.setState({readyState:babelHelpers['extends']({},this.state.readyState,{props:v.data})});}.bind(this);var n=l.query,o=l.variables,p=l.environment,q=null;if(n){var r=p.unstable_internal,s=r.createOperationSelector,t=r.getOperation;n=t(n);q=s(n,o);o=q.variables;}this.$ReactRelayQueryRenderer1=null;this.$ReactRelayQueryRenderer2={environment:p,variables:o};this.$ReactRelayQueryRenderer3=null;this.$ReactRelayQueryRenderer4=null;if(n){this.state={readyState:k()};}else this.state={readyState:{error:null,props:{},retry:null}};if(q){var u=this.$ReactRelayQueryRenderer5(q,l.cacheConfig);if(u)this.state={readyState:u};}}j.prototype.componentWillReceiveProps=function(l){if(l.query!==this.props.query||l.environment!==this.props.environment||!c('areEqual')(l.variables,this.props.variables)){var m=l.query,n=l.variables,o=l.environment;if(m){var p=o.unstable_internal,q=p.createOperationSelector,r=p.getOperation,s=q(r(m),n);this.$ReactRelayQueryRenderer2={environment:o,variables:s.variables};var t=this.$ReactRelayQueryRenderer5(s,l.cacheConfig);this.setState({readyState:t||k()});}else{this.$ReactRelayQueryRenderer2={environment:o,variables:n};this.$ReactRelayQueryRenderer6();this.setState({readyState:{error:null,props:{},retry:null}});}}};j.prototype.componentWillUnmount=function(){this.$ReactRelayQueryRenderer6();};j.prototype.shouldComponentUpdate=function(l,m){return l.render!==this.props.render||m.readyState!==this.state.readyState;};j.prototype.$ReactRelayQueryRenderer6=function(){if(this.$ReactRelayQueryRenderer1){this.$ReactRelayQueryRenderer1.dispose();this.$ReactRelayQueryRenderer1=null;}if(this.$ReactRelayQueryRenderer3){this.$ReactRelayQueryRenderer3.dispose();this.$ReactRelayQueryRenderer3=null;}if(this.$ReactRelayQueryRenderer4){this.$ReactRelayQueryRenderer4.dispose();this.$ReactRelayQueryRenderer4=null;}};j.prototype.$ReactRelayQueryRenderer5=function(l,m){var n=this.$ReactRelayQueryRenderer2.environment,o=n.retain(l.root),p=k(),q=void 0,r=false,s=false,t=function(){this.$ReactRelayQueryRenderer1=null;}.bind(this),u=function(x){p={error:x,props:null,retry:function(){this.$ReactRelayQueryRenderer5(l,m);}.bind(this)};if(this.$ReactRelayQueryRenderer4)this.$ReactRelayQueryRenderer4.dispose();this.$ReactRelayQueryRenderer1=null;this.$ReactRelayQueryRenderer4=o;this.setState({readyState:p});}.bind(this),v=function(){if(q)return;q=n.lookup(l.fragment);p={error:null,props:q.data,retry:function(){this.$ReactRelayQueryRenderer5(l,m);}.bind(this)};if(this.$ReactRelayQueryRenderer4)this.$ReactRelayQueryRenderer4.dispose();this.$ReactRelayQueryRenderer3=n.subscribe(q,this.$ReactRelayQueryRenderer7);this.$ReactRelayQueryRenderer4=o;r=true;if(s)this.setState({readyState:p});}.bind(this);if(this.$ReactRelayQueryRenderer1)this.$ReactRelayQueryRenderer1.dispose();if(this.$ReactRelayQueryRenderer3)this.$ReactRelayQueryRenderer3.dispose();var w=n.streamQuery({cacheConfig:m,onCompleted:t,onError:u,onNext:v,operation:l});this.$ReactRelayQueryRenderer1={dispose:function x(){w.dispose();o.dispose();}};s=true;return r?p:null;};j.prototype.getChildContext=function(){return {relay:this.$ReactRelayQueryRenderer2};};j.prototype.render=function(){return this.props.render(this.state.readyState);};j.childContextTypes={relay:c('RelayPropTypes').Relay};function k(){return {error:null,props:null,retry:null};}f.exports=j;}),null);
__d('ReactRelayRefetchContainer',['invariant','React','RelayProfiler','RelayPropTypes','areEqual','buildReactRelayContainer','isRelayContext','isScalarAndEqual','nullthrows','ReactRelayContainerProfiler','RelayContainerUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('ReactRelayContainerProfiler').profileContainer,j=c('RelayContainerUtils').getComponentName,k=c('RelayContainerUtils').getReactComponent,l={relay:c('RelayPropTypes').Relay};function m(p,q,r){var s,t,u=k(p),v=j(p),w='Relay('+v+')';s=babelHelpers.inherits(x,c('React').Component);t=s&&s.prototype;function x(y,z){'use strict';t.constructor.call(this,y,z);this.$Container6=function(){var ca=c('RelayProfiler').profile('ReactRelayRefetchContainer.handleFragmentDataUpdate');this.setState({data:this.$Container5.resolve()},ca.stop);}.bind(this);this.$Container9=function(ca,da,ea,fa){var ga=n(this.context.relay),ha=ga.environment,ia=ga.variables,ja=typeof ca==='function'?ca(this.$Container10()):ca;ja=babelHelpers['extends']({},ia,ja);var ka=da?babelHelpers['extends']({},ia,da):ja,la=function(va){if(!this.$Container2)return;this.$Container2=null;this.$Container4={environment:this.context.relay.environment,variables:ka};this.$Container5.setVariables(ka);this.setState({data:this.$Container5.resolve()},function(){return ea&&ea();});}.bind(this),ma=function(va){this.$Container2=null;ea&&ea(va);}.bind(this),na=fa?{force:!!fa.force}:undefined,oa=this.context.relay.environment.unstable_internal,pa=oa.createOperationSelector,qa=oa.getOperation,ra=qa(r),sa=pa(ra,ja),ta=ha.retain(sa.root);this.$Container3.push(ta);this.$Container1=ja;if(this.$Container2)this.$Container2.dispose();var ua=ha.streamQuery({cacheConfig:na,onError:ma,onNext:la,operation:sa});this.$Container2=ua;return {dispose:function(){ua.dispose();if(this.$Container2===ua)this.$Container2=null;}.bind(this)};}.bind(this);var aa=n(z.relay),ba=aa.environment.unstable_internal.createFragmentSpecResolver;this.$Container1=null;this.$Container2=null;this.$Container3=[];this.$Container5=ba(aa,w,q,y,this.$Container6);this.$Container4={environment:this.context.relay.environment,variables:this.context.relay.variables};this.state={data:this.$Container5.resolve(),relayProp:this.$Container7(aa)};}x.prototype.componentWillReceiveProps=function(y,z){'use strict';var aa=c('nullthrows')(z),ba=n(aa.relay),ca=ba.environment.unstable_internal,da=ca.createFragmentSpecResolver,ea=ca.getDataIDsFromObject,fa=ea(q,this.props),ga=ea(q,y);if(this.context.relay.environment!==ba.environment||this.context.relay.variables!==ba.variables||!c('areEqual')(fa,ga)){this.$Container8();this.$Container1=null;this.$Container4={environment:ba.environment,variables:ba.variables};this.$Container5=da(ba,w,q,y,this.$Container6);this.setState({relayProp:this.$Container7(ba)});}else if(!this.$Container1)this.$Container5.setProps(y);var ha=this.$Container5.resolve();if(ha!==this.state.data)this.setState({data:ha});};x.prototype.componentWillUnmount=function(){'use strict';this.$Container8();};x.prototype.shouldComponentUpdate=function(y,z,aa){'use strict';if(aa.relay!==this.context.relay||z.data!==this.state.data||z.relayProp!==this.state.relayProp)return true;var ba=Object.keys(y);for(var ca=0;ca<ba.length;ca++){var da=ba[ca];if(!Object.prototype.hasOwnProperty.call(q,da)&&!c('isScalarAndEqual')(y[da],this.props[da]))return true;}return false;};x.prototype.$Container8=function(){'use strict';this.$Container5.dispose();this.$Container3.forEach(function(y){return y.dispose();});this.$Container3.length=0;if(this.$Container2){this.$Container2.dispose();this.$Container2=null;}};x.prototype.$Container7=function(y){'use strict';return {environment:y.environment,refetch:this.$Container9};};x.prototype.$Container10=function(){'use strict';var y=this.context.relay.environment.unstable_internal.getVariablesFromObject;return y(this.context.relay.variables,q,this.props);};x.prototype.getChildContext=function(){'use strict';return {relay:this.$Container4};};x.prototype.render=function(){'use strict';if(u){return c('React').createElement(u,babelHelpers['extends']({},this.props,this.state.data,{ref:this.props.componentRef||'component',relay:this.state.relayProp}));}else return c('React').createElement(p,babelHelpers['extends']({},this.props,this.state.data,{relay:this.state.relayProp}));};i(x,'ReactRelayRefetchContainer');x.contextTypes=l;x.displayName=w;return x;}function n(p){c('isRelayContext')(p)||h(0);return p;}function o(p,q,r){var s=c('buildReactRelayContainer')(p,q,function(t,u){return m(t,u,r);});s.childContextTypes=l;return s;}f.exports={createContainer:o,createContainerWithFragments:m};}),null);
__d('RelayFBMutations',['RelayAPIConfig','warning'],(function a(b,c,d,e,f,g){'use strict';var h=1;function i(j){return function k(l,m){var n=m.variables.input||{};c('warning')(!('client_mutation_id' in n),'RelayFBMutations: Found `client_mutation_id` in mutation input`. '+'In the Facebook context, `client_mutation_id` and `actor_id` are '+'added automatically.');c('warning')(!('actor_id' in n&&n.actor_id===c('RelayAPIConfig').actorID),'RelayFBMutations: Found `actor_id` in mutation input`. '+'In the Facebook context, this is not needed if it is the default '+'from RelayAPIConfig.actorID.');var o=babelHelpers['extends']({},m.variables,{input:babelHelpers['extends']({client_mutation_id:''+h++,actor_id:c('RelayAPIConfig').actorID},n)});return j(l,{configs:m.configs,mutation:m.mutation,variables:o,onCompleted:m.onCompleted,onError:m.onError,optimisticUpdater:m.optimisticUpdater,optimisticResponse:m.optimisticResponse,updater:m.updater,uploadables:m.uploadables});};}f.exports={addFBisms:i};}),null);
__d('ClientIDs',['randomInt'],(function a(b,c,d,e,f,g){var h={},i={getNewClientID:function j(){var k=Date.now(),l=k+':'+(c('randomInt')(0,4294967295)+1);h[l]=true;return l;},isExistingClientID:function j(k){return !!h[k];}};f.exports=i;}),null);
__d('RelayFBSubscription',['ClientIDs','warning'],(function a(b,c,d,e,f,g){'use strict';function h(i){return function j(k,l){var m=l.variables.input,n='client_subscription_id' in m;c('warning')(!n,'RelayFBSubscription: found `client_subscription_id` in `input`. In '+'the Facebook context, `client_subscription_id` are added automatically.');var o=babelHelpers['extends']({},l.variables,{input:babelHelpers['extends']({},m,{client_subscription_id:c('ClientIDs').getNewClientID()})});return i(k,{subscription:l.subscription,variables:o,onCompleted:l.onCompleted,onError:l.onError,onNext:l.onNext,updater:l.updater});};}f.exports={addFBisms:h};}),null);
__d('RelayModern',['ReactRelayFragmentContainer','ReactRelayPaginationContainer','ReactRelayQueryRenderer','ReactRelayRefetchContainer','RelayFBMutations','RelayFBSubscription','RelayModernGraphQLTag','commitLocalUpdate','commitRelayModernMutation','fetchRelayModernQuery','requestRelaySubscription','RelayContainerProxy','RelayFBContainerProxy'],(function a(b,c,d,e,f,g){'use strict';if(!b.__RELAYOSS__){var h=c('RelayContainerProxy'),i=c('RelayFBContainerProxy');h.injectProxyMethods(i.proxyMethods);}f.exports={QueryRenderer:c('ReactRelayQueryRenderer'),commitLocalUpdate:c('commitLocalUpdate'),commitMutation:c('RelayFBMutations').addFBisms(c('commitRelayModernMutation')),requestSubscription:c('RelayFBSubscription').addFBisms(c('requestRelaySubscription')),createFragmentContainer:c('ReactRelayFragmentContainer').createContainer,createPaginationContainer:c('ReactRelayPaginationContainer').createContainer,createRefetchContainer:c('ReactRelayRefetchContainer').createContainer,fetchQuery:c('fetchRelayModernQuery'),graphql:c('RelayModernGraphQLTag').graphql};}),null);
__d('MessengerGamesCustomUpdateAdmin.react',['cx','fbt','Link.react','messengerButtonReact','messengerContactImageReact','Image.react','React','RelayModern','MessengerGamesCustomUpdateAdmin_gameInfo.graphql'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('messengerButtonReact').jsComponent,m=c('messengerContactImageReact').jsComponent,n=c('RelayModern').createFragmentContainer,o=c('RelayModern').graphql;j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;p.prototype.render=function(){var q=this.props.data.getImageURL(),r=this.props.data.getText(),s=this.props.data.getTitle()?this.props.data.getTitle():i._("Play");if(!this.props.gameInfo)return c('React').createElement('span',null,r);return c('React').createElement('div',null,c('React').createElement(c('Link.react'),{className:"_fy2 _2621",'aria-haspopup':'true','aria-label':i._("View Less"),href:'#',onClick:this.props.hideAdmin,role:'button'}),c('React').createElement('div',{className:"_261_"},c('React').createElement(m,{size:25,src:this.props.gameInfo.iconURI}),c('React').createElement('h2',{className:"_2620"},this.props.gameInfo.name)),c('React').createElement('div',{className:"_3rpv"},c('React').createElement(c('Image.react'),{className:"_3rp-",onClick:this.props.playGame,src:q}),c('React').createElement('div',{className:"_3rp_"},r),c('React').createElement('div',{className:"_3cnr"},c('React').createElement(l,{className:"_3rq0 _fy2",label:s,onClick:this.props.playGame,type:'primary',use:'default'}))));};function p(){j.apply(this,arguments);}f.exports=n(p,{gameInfo:function q(){return c('MessengerGamesCustomUpdateAdmin_gameInfo.graphql');}});}),null);
__d('RelayFBStoreInspector',['RelayFBEnvironment','RelayRecordSourceInspector'],(function a(b,c,d,e,f,g){'use strict';var h=void 0;function i(){if(!h)h=c('RelayRecordSourceInspector').getForEnvironment(c('RelayFBEnvironment'));return h;}f.exports={get:i};}),null);
__d('RelayFBResponseCache',['RelayQueryResponseCache'],(function a(b,c,d,e,f,g){'use strict';var h=10,i=5*60*1000;f.exports=new (c('RelayQueryResponseCache'))({size:h,ttl:i});}),null);
__d('RelayRTIGraphQLSubscriberUtils',['invariant','Promise','ActorURI','CSRFGuard','CurrentLocale','CurrentUser','RelayAPIConfig','URI','XHRRequest','getAsyncParams','getCrossOriginTransport'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k,l,m,n){if(l!=null&&n!=null){var o={locale:c('CurrentLocale').get(),queryID:l,serializedQueryParameters:JSON.stringify(m),viewerID:c('CurrentUser').getID()};return c('Promise').resolve({topic:n,transformContext:o});}k!=null||l!=null||h(0);return new (c('Promise'))(function(p,q){var r,s=babelHelpers['extends']((r={},r[c('ActorURI').PARAMETER_ACTOR]=c('RelayAPIConfig').actorID,r.query_params=JSON.stringify(m),r),c('getAsyncParams')('POST'));if(l!=null)s.doc_id=l;if(k!=null)s.query=k;var t=new (c('XHRRequest'))(j).setTransportBuilder(c('getCrossOriginTransport').withCredentials).setMethod('POST').setData(s).setResponseHandler(function(u){try{var v=JSON.parse(c('CSRFGuard').clean(u));p({topic:v.payload.topic,transformContext:JSON.parse(v.payload.transform_context)});}catch(w){q('getTopicAndTransformContext: encountered error '+w+' during'+('parsing, raw response is \n'+u));}});t.send();});}f.exports={getTopicAndTransformContext:i};}),null);
__d('RelayRTIGraphQLSubscriber',['invariant','ChannelManager','GraphQLSubscriptionsLoggerEvent','GraphQLSubscriptionsMechanism','GraphQLSubscriptionsTypedLogger','RelayRTIGraphQLSubscriberUtils','RTISubscriptionManager','Set','URI','idx','nullthrows'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayRTIGraphQLSubscriberUtils').getTopicAndTransformContext,j=new (c('Set'))(),k=155160167952447;function l(m){return function n(o,p,q,r){var s,t,u=r.onNext,v=r.onCompleted,w=r.onError;c('ChannelManager').startChannelManager&&c('ChannelManager').startChannelManager();var x=(s=p)!=null?(s=s.input)!=null?s.client_subscription_id:s:s;x!=null||h(0);var y=(t=o)!=null?(t=t.query)!=null?(t=t.selections)!=null?t[0]:t:t:t;y&&y.kind==='LinkedField'||h(0);j.add(x);var z=function ea(event){var fa={input:JSON.stringify(p.input)};new (c('GraphQLSubscriptionsTypedLogger'))().setSubscriptionCall(y.name).setQueryParams(fa).setMechanism(c('GraphQLSubscriptionsMechanism').SKYWALKER).setEvent(event).log();},aa=function ea(fa){fa.unsubscribe();z(c('GraphQLSubscriptionsLoggerEvent').CLIENT_UNSUBSCRIBE);},ba=void 0,ca=function ea(fa){var ga=fa.topic,ha=fa.transformContext;if(!j.has(x))aa(ba);ha.appID=k;ba=c('RTISubscriptionManager').subscribe(c('nullthrows')(ga),function(ia){if(!j.has(x))return;var ja=ia.payload;z(c('GraphQLSubscriptionsLoggerEvent').RECEIVEPAYLOAD);u&&u({data:JSON.parse(ja)});},{transformContext:JSON.stringify(ha)});z(c('GraphQLSubscriptionsLoggerEvent').CLIENT_SUBSCRIBE);},da=function ea(){j['delete'](x);if(ba)aa(ba);v&&v();};i(m,null,o.id,p,null).then(ca)['catch'](function(ea){w&&w(ea);}).done();return {dispose:da};};}f.exports=l;}),null);
__d('RelayFBSubscribeFunction',['RelayAPIConfig','RelayRTIGraphQLSubscriber'],(function a(b,c,d,e,f,g){'use strict';f.exports=c('RelayAPIConfig').subscriptionTopicURI!=null?c('RelayRTIGraphQLSubscriber')(c('RelayAPIConfig').subscriptionTopicURI):function(){throw new Error('RelayFBSubscribeFunction: `RelayAPIConfig.subscriptionTopicURI` '+'should not be null on www');};}),null);
__d('prettyStringify',[],(function a(b,c,d,e,f,g){'use strict';function h(i){return JSON.stringify(i,null,2);}f.exports=h;}),null);
__d('RelayNetworkLogger',['isPromise','prettyStringify'],(function a(b,c,d,e,f,g){'use strict';var h=1,i={wrapFetch:function j(k,l){return function(m,n,o,p){var q=h++,r=m.name,s='['+q+'] Relay Modern: '+r;console.time&&console.time(s);var t=function v(w,x){console.groupCollapsed('%c'+s,w?'color:red':'');console.timeEnd&&console.timeEnd(s);l;w;x;console.groupEnd();},u=k(m,n,o,p);if(c('isPromise')(u)){u.then(function(v){t(null,v);},function(v){t(v,null);});}else if(u instanceof Error){t(u,null);}else t(null,u);return u;};},wrapSubscribe:function j(k,l){return function(m,n,o,p){var q=p.onCompleted,r=p.onNext,s=p.onError,t=h++,u=m.name,v='['+t+'] Relay Modern: '+u,w=function y(z,aa,ba){console.groupCollapsed('%c'+v,z?'color:red':'');l;ba;z;aa;console.groupEnd();},x=k(m,n,o,{onCompleted:function y(){q&&q();w(null,null,'subscription is unsubscribed.');},onNext:function y(z){r&&r(z);w(null,z,'subscription receives update');},onError:function y(z){s&&s(z);w(z,null);}});w(null,null,'subscription is sent');return x;};}};f.exports=i;}),null);
__d('RelayPrefetchedResponseProvider',['invariant','Promise','clearImmediate','setImmediateAcrossTransitions','stableStringify'],(function a(b,c,d,e,f,g,h){'use strict';var i={},j={};function k(o){delete i[o];delete j[o];}function l(o){if(Object.prototype.hasOwnProperty.call(j,o)){c('clearImmediate')(j[o]);k(o);}}function m(o){if(!Object.prototype.hasOwnProperty.call(j,o))j[o]=c('setImmediateAcrossTransitions')(function(){k(o);});}var n={get:function o(p,q){var r,s=c('stableStringify')((r={},r[p]=q,r));m(s);return i[s];},registerPreloader:function o(p,q,r){var s,t=c('stableStringify')((s={},s[p]=q,s));l(t);i[t]==null||h(0);var u=new (c('Promise'))(function(v,w){r.onLoaded(function(x){var y=x.result;v(y);});r.onError(function(x){var y=x.error;w(y);});}).then(function(v){if(i[t]===u)i[t]=v;return v;});i[t]=u;}};f.exports=n;}),null);
__d('createRelayFBGraphiQLPrinter',['URI'],(function a(b,c,d,e,f,g){'use strict';function h(i){return function(j,k){var l=new (c('URI'))('http://our.intern.facebook.com');if(i){l.setPath('/intern/graphiql/'+i+'/');}else l.setPath('/intern/graphiql/');if(j.id){l.addQueryData('query_id',j.id);}else l.addQueryData('query',j.text);l.addQueryData('variables',JSON.stringify(k));return l.toString();};}f.exports=h;}),null);
__d('RelayFBNetwork',['invariant','Promise','RelayAPIConfig','RelayAPIRequest','RelayError','RelayFBResponseCache','RelayFBSubscribeFunction','RelayGraphQLRequestUtils','RelayNetwork','RelayPrefetchedResponseProvider','RelayProfiler','idx','isPromise','warning','RelayNetworkLogger','createRelayFBGraphiQLPrinter'],(function a(b,c,d,e,f,g,h){'use strict';function i(q){if(!b.FormData)throw new Error('Uploading files without `FormData` not supported.');var r=new FormData();for(var s in q)if(Object.prototype.hasOwnProperty.call(q,s))r.append(s,q[s]);return r;}function j(q,r){if(r!=null)for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s))q.append(s,r[s]);return q;}function k(q,r,s,t){var u=q.id,v=q.text,w=u||v;(u||v)&&w!=null||h(0);var x=JSON.stringify(r),y=u?{variables:x,doc_id:u}:{variables:x,doc:v},z=t?i(t):null,aa={queryName:q.name,usedPrefetcher:false},ba=c('RelayProfiler').profile('fetchRelayQuery',aa),ca=c('RelayPrefetchedResponseProvider').get(w,r),da=function ga(ha){ba.stop();if(n(q)){c('RelayFBResponseCache').clear();}else c('RelayFBResponseCache').set(w,r,ha);return ha;};if(c('isPromise')(ca)){return ca.then(function(ga){if(ga){aa.usedPrefetcher=true;return ga;}else return l(q,y,z);}).then(da);}else if(!(ca instanceof Error)&&ca!=null){aa.usedPrefetcher=true;return da(ca);}else{var ea;c('warning')(!(ca instanceof Error),'Unexpected error from RelayPrefetcher: %s',ca&&ca.stack);var fa=void 0;if(!n(q)&&!((ea=s)!=null?ea.force:ea))fa=c('RelayFBResponseCache').get(w,r);if(fa!=null){return fa;}else return l(q,y,z).then(da);}}function l(q,r,s){return new (c('Promise'))(function(t,u){var v=new (c('RelayAPIRequest'))(c('RelayAPIConfig').graphURI).setMethod('POST').setSkipRetry(n(q)).setTrackingName('RelayFBNetwork_'+q.name).setTransportBuilder(c('RelayGraphQLRequestUtils').getTransportBuilder()).setErrorHandler(function(x){u(c('RelayGraphQLRequestUtils').createErrorFromXHR(x,'Network request encountered error %s %s: %s',x.errorType,x.errorCode,x.errorMsg));}).setTimeoutHandler(function(){u(c('RelayError').createWarning('NetworkTimeoutError','Network request timed out.'));}).setResponseFilter(m).setResponseChunkHandler(function(x){var y=void 0;try{y=c('RelayGraphQLRequestUtils').parsePayload(x);}catch(z){u(z);return;}if(y.errors)y.errors.forEach(function(z){if(z.severity==='CRITICAL'){u(z);return;}});t(y);}),w=babelHelpers['extends']({},c('RelayGraphQLRequestUtils').getAuthenticationData(),{fb_api_caller_class:'RelayModern'},r);if(s!=null){v.setRawData(j(s,w));}else v.setData(w).setRequestHeaders(c('RelayGraphQLRequestUtils').getRequestHeaders());v.send();});}function m(q){return q.replace(/^ +/,'').replace(/ +$/,'');}function n(q){return q.query.operation==='mutation';}var o=c('RelayFBSubscribeFunction'),p=c('RelayNetwork').create(k,o);f.exports=babelHelpers['extends']({},p,{requestStream:function q(r,s,t,u){var v,w=(v=r.metadata)!=null?(v=v.live)!=null?v.pollingInterval:v:v;if(w!=null){var x=t&&t.poll;x==null||x===w||h(0);t=babelHelpers['extends']({},t,{poll:w});}return p.requestStream(r,s,t,u);}});}),null);
__d('RelayFBEnvironment',['RelayInMemoryRecordSource','RelayMarkSweepStore','RelayModernEnvironment','RelayFBNetwork','RelayFBStoreInspector'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('RelayInMemoryRecordSource'))(),i=new (c('RelayMarkSweepStore'))(h),j=new (c('RelayModernEnvironment'))({network:c('RelayFBNetwork'),store:i});f.exports=j;}),null);
__d('MessengerGamesCustomUpdateAdminContainer.react',['fbt','MessengerGamesCustomUpdateAdmin.react','React','RelayFBEnvironment','RelayModern','MessengerGamesCustomUpdateAdminContainerQuery.graphql'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l=c('RelayModern').QueryRenderer,m=c('RelayModern').graphql;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;n.prototype.render=function(){return c('React').createElement(l,{environment:c('RelayFBEnvironment'),query:k||(k=function o(){return c('MessengerGamesCustomUpdateAdminContainerQuery.graphql');}),variables:{gameID:this.props.gameID},render:function(o){var p=o.error,q=o.props;if(p){return c('React').createElement('div',null,h._("Failed to Load"));}else if(q){var r=q.node&&q.node.gameInfo;if(!r)return c('React').createElement('div',null,this.props.text);return c('React').createElement(c('MessengerGamesCustomUpdateAdmin.react'),babelHelpers['extends']({},this.props,{gameInfo:r}));}return this.props.renderLoading();}.bind(this)});};function n(){i.apply(this,arguments);}f.exports=n;}),null);
__d('GamesQuicksilverContextKey',['InstantGameContextType'],(function a(b,c,d,e,f,g){function h(i,j,k){'use strict';this.$GamesQuicksilverContextKey1=i;this.$GamesQuicksilverContextKey2=j;this.$GamesQuicksilverContextKey3=k;}h.prototype.getID=function(){'use strict';return this.$GamesQuicksilverContextKey1;};h.prototype.getSourceID=function(){'use strict';return this.$GamesQuicksilverContextKey2;};h.prototype.getType=function(){'use strict';return this.$GamesQuicksilverContextKey3;};h.prototype.getTypeAPIValue=function(){'use strict';switch(this.getType()){case c('InstantGameContextType').GROUP:return 'group';case c('InstantGameContextType').STORY:return 'post';case c('InstantGameContextType').THREAD:return 'thread';case c('InstantGameContextType').MATCH:return 'match';case c('InstantGameContextType').SOLO:default:return 'solo';}};h.prototype.isGroup=function(){'use strict';return this.$GamesQuicksilverContextKey3===c('InstantGameContextType').GROUP;};h.prototype.isStory=function(){'use strict';return this.$GamesQuicksilverContextKey3===c('InstantGameContextType').STORY;};h.prototype.isThread=function(){'use strict';return this.$GamesQuicksilverContextKey3===c('InstantGameContextType').THREAD;};h.prototype.isMatch=function(){'use strict';return this.$GamesQuicksilverContextKey3===c('InstantGameContextType').MATCH;};h.prototype.isSoloPlay=function(){'use strict';return this.$GamesQuicksilverContextKey3===c('InstantGameContextType').SOLO;};f.exports=h;}),null);
__d('MessengerGamesCustomUpdateData',['GamesQuicksilverContextKey','URI'],(function a(b,c,d,e,f,g){'use strict';function h(i){this.$MessengerGamesCustomUpdateData1=null;this.$MessengerGamesCustomUpdateData2=i.custom_image_url||null;this.$MessengerGamesCustomUpdateData4=i.text||i.collapsed_text||i.expanded_text||'';this.$MessengerGamesCustomUpdateData5=i.cta_title;var j=new (c('URI'))(i.cta_url).getQueryData();this.$MessengerGamesCustomUpdateData3=j.payload||null;var k=j.context_id||null,l=j.context_type;if(l)this.$MessengerGamesCustomUpdateData1=new (c('GamesQuicksilverContextKey'))(null,k,l);}h.prototype.getContextKey=function(){return this.$MessengerGamesCustomUpdateData1;};h.prototype.getImageURL=function(){return this.$MessengerGamesCustomUpdateData2;};h.prototype.getPayload=function(){return this.$MessengerGamesCustomUpdateData3;};h.prototype.getTitle=function(){return this.$MessengerGamesCustomUpdateData5;};h.prototype.getText=function(){return this.$MessengerGamesCustomUpdateData4;};f.exports=h;}),null);
__d('MessengerGameAdminMessageRoute',['RelayQL','RelayRoute'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments);}j.routeName='MessengerGameAdminMessageRoute';j.queries={adminMessageText:function k(l){return function(m){return {calls:[{kind:'Call',metadata:{type:'MessageData!'},name:'thread_and_message_id',value:{kind:'CallVariable',callVariableName:'messageData'}}],children:[].concat.apply([],[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(m)]),fieldName:'message',kind:'Query',metadata:{isAbstract:true,identifyingArgName:'thread_and_message_id',identifyingArgType:'MessageData!'},name:'MessengerGameAdminMessageRoute',type:'Message'};}(l.getFragment('adminMessageText'));}};j.paramDefinitions={messageData:{type:'MessageData!',required:true}};f.exports=j;}),null);
__d('MessengerResponsiveBlock.react',['React','createCancelableFunction','requestAnimationFrame','shallowEqual','throttle'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes,k={bottom:0,left:0,overflow:'hidden',position:'absolute',right:0,top:0,visibility:'hidden',zIndex:-1},l={left:0,position:'absolute',top:0,transition:'0s'},m={height:'200%',left:0,position:'absolute',top:0,transition:'0s',width:'200%'};h=babelHelpers.inherits(n,c('React').Component);i=h&&h.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=i.constructor).call.apply(o,[this].concat(r)),this.dirty=false,this.lastWidth=null,this.lastHeight=null,this.lastBreakpointsToggles=null,this.setupWeirdScrollTracking=function(){this.refs.expandChild.style.width='10000px';this.refs.expandChild.style.height='10000px';this.refs.expand.scrollLeft=100000;this.refs.expand.scrollTop=100000;this.refs.shrink.scrollLeft=100000;this.refs.shrink.scrollTop=100000;}.bind(this),this.$MessengerResponsiveBlock2=function(){var t=this.refs.outer.offsetWidth,u=this.refs.outer.offsetHeight;if(t!=this.lastWidth||u!=this.lastHeight)if(!this.dirty){if(Math.abs(t-(this.lastWidth||0))<10&&Math.abs(u-(this.lastHeight||0))<16)return;this.dirty=true;this.lastWidth=t;this.lastHeight=u;var v=this.props.breakpointsToggles(t,u);if(c('shallowEqual')(this.lastBreakpointsToggles,v)){this.dirty=false;}else this.forceUpdate(function(){c('requestAnimationFrame')(function(){this.dirty=false;}.bind(this));}.bind(this));this.lastBreakpointsToggles=v;}this.setupWeirdScrollTracking();}.bind(this),p;}n.prototype.componentDidMount=function(){this.$MessengerResponsiveBlock1=c('createCancelableFunction')(this.$MessengerResponsiveBlock2);this.onScroll=c('throttle')(this.$MessengerResponsiveBlock1,50);this.setupWeirdScrollTracking();};n.prototype.componentWillUnmount=function(){this.$MessengerResponsiveBlock1.cancel();};n.prototype.render=function(){return c('React').createElement('div',{ref:'outer'},this.props.children(this.props.breakpointsToggles(this.lastWidth,this.lastHeight)),c('React').createElement('div',{style:k,onScroll:this.onScroll,ref:'expand'},c('React').createElement('div',{style:l,ref:'expandChild'})),c('React').createElement('div',{style:k,onScroll:this.onScroll,ref:'shrink'},c('React').createElement('div',{style:m})));};n.propTypes={children:j.func.isRequired,breakpointsToggles:j.func.isRequired};f.exports=n;}),null);
__d('MessengerGamesHorizontalLeaderboard.react',['cx','messengerContactImageReact','MessengerHorizontalScroll.react','MessengerResponsiveBlock.react','React','Relay','RelayQL'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('messengerContactImageReact').jsComponent,l=10,m=150,n=function q(r){var s=r.name,t=r.score,u=r.position;return c('React').createElement('div',{className:"_4u4_"},c('React').createElement('h3',null,s),c('React').createElement('div',null,t));},o=function q(r,s){if(!r||!r.user)return null;return c('React').createElement('div',{className:"_4u50",key:s},c('React').createElement(k,{size:40,src:r.user.profile_picture.uri,customBadge:String(s+1)}),c('React').createElement(n,{name:r.user.short_name,position:s+1,score:r.score}));};i=babelHelpers.inherits(p,c('React').PureComponent);j=i&&i.prototype;p.prototype.componentDidMount=function(){this.props.onLoad&&this.props.onLoad();};p.prototype.render=function(){var q=this.props.leaderboard.leaderboard_entries;return c('React').createElement(c('MessengerResponsiveBlock.react'),{breakpointsToggles:function r(s){return [s];}},function(r){var s=r[0];return c('React').createElement(c('MessengerHorizontalScroll.react'),{batchScroll:true,childPadding:l,childWidth:m,numChildrenVisible:Math.floor(s/(m+l)),width:s||0},q.map(o).filter(Boolean));});};function p(){i.apply(this,arguments);}f.exports=c('Relay').createContainer(p,{fragments:{leaderboard:function q(){return function(){return {children:[{calls:[{kind:'Call',metadata:{},name:'scores_only',value:{kind:'CallValue',callValue:true}}],children:[{fieldName:'score',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'short_name',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'profile_picture',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'user',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'User'}],fieldName:'leaderboard_entries',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'InstantGameLeaderboardEntry'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerGamesHorizontalLeaderboard_react_LeaderboardRelayQL',type:'InstantGameLeaderboard'};}();}}});}),null);
__d('MessengerGamesExpandedAdmin.react',['cx','fbt','messengerButtonReact','messengerContactImageReact','MessengerGamesHorizontalLeaderboard.react','Link.react','React','Relay','RelayQL','idx'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('messengerButtonReact').jsComponent,m=c('messengerContactImageReact').jsComponent,n=function p(q){var r=q.name,s=q.uri;return c('React').createElement('div',{className:"_261_"},c('React').createElement(m,{size:25,src:s}),c('React').createElement('h2',{className:"_2620"},r));};j=babelHelpers.inherits(o,c('React').PureComponent);k=j&&j.prototype;o.prototype.componentDidMount=function(){this.props.onLoad&&this.props.onLoad();};o.prototype.render=function(){var p,q,r=this.$MessengerGamesExpandedAdmin1(),s=this.$MessengerGamesExpandedAdmin2();if(!s||!r)return null;var t=(p=s)!=null?(p=p.game)!=null?p.name:p:p,u=(q=s)!=null?(q=q.game)!=null?(q=q.instant_game_info)!=null?q.icon_uri:q:q:q;return c('React').createElement('div',null,c('React').createElement('div',{className:"_4ea2 _2kar"}),c('React').createElement(c('Link.react'),{className:"_fy2 _2621",'aria-haspopup':'true','aria-label':i._("View Less"),href:'#',onClick:this.props.hideAdmin,role:'button'}),c('React').createElement(n,{name:t,uri:u}),c('React').createElement('div',{className:"_2622"},s.expanded_text),c('React').createElement(c('MessengerGamesHorizontalLeaderboard.react'),{leaderboard:r,onLoad:this.props.onLoad}),c('React').createElement(l,{className:"_fy2 _2623",label:i._("Play Now"),onClick:this.props.playGame,type:'primary',use:'default'}),c('React').createElement('div',{className:"_4ea2 _2kar"}));};o.prototype.$MessengerGamesExpandedAdmin1=function(){var p;return (p=this.$MessengerGamesExpandedAdmin2())!=null?p.leaderboard:p;};o.prototype.$MessengerGamesExpandedAdmin2=function(){var p;return (p=this.props)!=null?(p=p.adminMessageText)!=null?p.extensible_message_admin_text:p:p;};function o(){j.apply(this,arguments);}f.exports=c('Relay').createContainer(o,{fragments:{adminMessageText:function p(){return function(q){return {children:[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{children:[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{children:[{fieldName:'name',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'icon_uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'instant_game_info',kind:'Field',metadata:{canHaveSubselections:true},type:'GamesInstantPlayStyleInfo'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'game',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'Application'},{fieldName:'expanded_text',kind:'Field',metadata:{},type:'String'},{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(q)]),fieldName:'leaderboard',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'InstantGameLeaderboard'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'InstantGameUpdateExtensibleMessageAdminText',type:'InstantGameUpdateExtensibleMessageAdminText'}],fieldName:'extensible_message_admin_text',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true},type:'ExtensibleMessageAdminText'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'GenericAdminTextMessage',type:'GenericAdminTextMessage'},{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'MessengerGamesExpandedAdmin_react_AdminMessageTextRelayQL',type:'Message'};}(c('MessengerGamesHorizontalLeaderboard.react').getFragment('leaderboard'));}}});}),null);
__d('MessengerGamesExpandedAdminContainer.react',['fbt','MessengerGameAdminMessageRoute','MessengerGamesExpandedAdmin.react','React','Relay'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('Relay').RootContainer;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.renderLoaded=function(r){var s=this.props,t=s.gameID,u=s.hideAdmin,v=s.playGame,w=s.threadFBID;return c('React').createElement(c('MessengerGamesExpandedAdmin.react'),babelHelpers['extends']({},r,{gameID:t,hideAdmin:u,onLoad:this.props.onLoad,playGame:v,threadFBID:w}));}.bind(this),n;}l.prototype.render=function(){var m=this.props,n=m.messageID,o=m.threadFBID,p=m.renderLoading;return c('React').createElement(k,{Component:c('MessengerGamesExpandedAdmin.react'),route:new (c('MessengerGameAdminMessageRoute'))({messageData:{message_id:n,thread_id:o}}),renderLoading:p,renderFetched:this.renderLoaded,renderFailure:this.renderFailure});};l.prototype.renderFailure=function(){return h._("Failed to Load");};f.exports=l;}),null);
__d('MessengerGameAdminMessage.react',['cx','fbt','Bootloader','BootloadOnRender.react','ImmutableObject','InstantGameContextType','JSResource','LazyComponent.react','Link.react','MercuryIDs','messengerDialogsRe','MessengerGamesCustomUpdateAdminContainer.react','MessengerGamesCustomUpdateData','MessengerGamesExpandedAdminContainer.react','QuicksilverSources','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=function o(){c('messengerDialogsRe').removeAllDialogs();};j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state=this.$MessengerGameAdminMessage1(),this.renderText=function(){return c('React').createElement('span',null,c('React').createElement('span',null,this.props.text,' '),c('React').createElement(c('Link.react'),{className:"_fy2",onClick:this.state.isExpanded?this.$MessengerGameAdminMessage2:this.$MessengerGameAdminMessage4},i._("View")));}.bind(this),this.$MessengerGameAdminMessage3=function(){c('Bootloader').loadModules(["MessengerGamesQuicksilverPlayerContainer.react"],function(t){c('messengerDialogsRe').showDialog(function(){var u=this.getXMATData(),v=u.update_data?JSON.parse(u.update_data):u,w=new (c('MessengerGamesCustomUpdateData'))(v),x=c('MercuryIDs').getThreadFBIDFromThreadID(this.props.message.thread_id),y=c('InstantGameContextType').SOLO,z=null,aa=w.getContextKey();if(aa){y=aa.getType();z=aa.getSourceID();}else if(x){y=c('InstantGameContextType').THREAD;z=x;}return c('React').createElement(t,{contextSourceID:z,contextType:y,entryPointData:w.getPayload()||undefined,gameID:u.game_id,onHide:m,source:c('QuicksilverSources').MESSENGER_ADMIN_MESSAGE,sourceID:x,invitationID:this.props.message.message_id});}.bind(this));}.bind(this),'MessengerGameAdminMessage.react');}.bind(this),this.$MessengerGameAdminMessage4=function(){this.setState({isExpanded:true});}.bind(this),this.$MessengerGameAdminMessage2=function(){this.setState({isExpanded:false});}.bind(this),p;}n.prototype.$MessengerGameAdminMessage1=function(){return {isExpanded:this.props.isLastOfType,playerOpen:false};};n.prototype.componentDidMount=function(){this.props.onLoad&&this.props.onLoad();};n.prototype.componentWillReceiveProps=function(o){if(this.props.isLastOfType!==o.isLastOfType)this.setState({isExpanded:o.isLastOfType});};n.prototype.getXMATData=function(){return this.props.message.log_message_data&&this.props.message.log_message_data.untypedData?new (c('ImmutableObject'))(this.props.message.log_message_data.untypedData):new (c('ImmutableObject'))();};n.prototype.render=function(){var o=this.getXMATData(),p=null;switch(o.update_type){case 'game_score':return this.state.isExpanded?c('React').createElement('span',null,c('React').createElement(c('MessengerGamesExpandedAdminContainer.react'),{hideAdmin:this.$MessengerGameAdminMessage2,gameID:o.game_id,messageID:this.props.message.message_id,playGame:this.$MessengerGameAdminMessage3,threadFBID:c('MercuryIDs').getThreadFBIDFromThreadID(this.props.message.thread_id),onLoad:this.props.onLoad,renderLoading:this.renderText})):c('React').createElement('span',null,this.renderText(),p);case 'custom_message':var q=o.update_data?JSON.parse(o.update_data):o,r=new (c('MessengerGamesCustomUpdateData'))(q);return this.state.isExpanded?c('React').createElement('span',null,c('React').createElement(c('MessengerGamesCustomUpdateAdminContainer.react'),{data:r,gameID:o.game_id,hideAdmin:this.$MessengerGameAdminMessage2,playGame:this.$MessengerGameAdminMessage3,renderLoading:this.renderText,text:this.props.text})):c('React').createElement('span',null,this.renderText(),p);default:return c('React').createElement('span',null,this.props.text);}};n.propTypes={message:l.instanceOf(c('ImmutableObject')).isRequired,text:l.string.isRequired,isLastOfType:l.bool.isRequired};f.exports=n;}),null);
__d("MessengerGroupPollingAllOptionsWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1517373188293417";};j.getQueryID=function(){"use strict";return "205216646649962";};function j(){"use strict";h.apply(this,arguments);}return j;}();}),null);
__d('MessengerGroupPollingUtils',['ix','CurrentUser','FacepileRounded.react','MercuryIDs','MercuryParticipants','MessengerTextWithEntities.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=2,j={renderEmojiText:function k(l){return c('React').createElement(c('MessengerTextWithEntities.react'),{renderEmoji:true,renderEmoticons:true,text:l});},renderVoterFacepiles:function k(l,m,n,o,p){var q=i,r=n-i;if(n===i+1){q=n;r=0;}return c('React').createElement(c('FacepileRounded.react'),{className:l,imageSize:m,direction:'descending',numProfilesToDisplay:q,remainingProfilesCount:r,profiles:this._getProfilePictures(q,o,p),showNames:true});},_getProfilePictures:function k(l,m,n){if(n===true){var o=c('CurrentUser').getID(),p=m.indexOf(o);if(p!==-1){var q=m[p];m[p]=m[0];m[0]=q;}}var r=m.slice(0,l).map(function(t){var u=c('MercuryIDs').getParticipantIDFromUserID(t),v=c('MercuryParticipants').getOrFetch(u);return {image_src:v&&v.image_src||h("98939"),name:v&&v.name||'Facebook User'};}),s=m.slice(l,m.length).map(function(t){var u=c('MercuryIDs').getParticipantIDFromUserID(t),v=c('MercuryParticipants').getOrFetch(u);return {image_src:t,name:v&&v.name||'Facebook User'};});return r.concat(s);}};f.exports=j;}),null);
__d('MessengerGroupPollingAdminMessage.react',['cssVar','cx','fbt','ix','AsyncRequest','BootloadOnRender.react','Image.react','ImmutableObject','JSResource','LazyComponent.react','MessengerContextualDialog.react','MessengerEnvironment','MessengerGroupPollingAllOptionsWebGraphQLQuery','MessengerGroupPollingUtils','MessengerSpinner.react','React','idx'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m,n=c('React').PropTypes,o=16,p=24,q=k("86887"),r=k("86886"),s=3;l=babelHelpers.inherits(t,c('React').Component);m=l&&l.prototype;function t(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=m.constructor).call.apply(u,[this].concat(x)),this.state={flyoutOpen:false,options:null},this.$MessengerGroupPollingAdminMessage1=false,this.$MessengerGroupPollingAdminMessage4=function(z){this.setState({flyoutOpen:z});}.bind(this),this.$MessengerGroupPollingAdminMessage5=function(){this.setState({flyoutOpen:false});}.bind(this),this.$MessengerGroupPollingAdminMessage9=function(z){this.$MessengerGroupPollingAdminMessage1=this.state.flyoutOpen;}.bind(this),this.$MessengerGroupPollingAdminMessage8=function(z){z.stopPropagation();if(this.state.flyoutOpen||this.$MessengerGroupPollingAdminMessage1)return;if(!this.state.options&&!this.state.flyoutOpen)this.$MessengerGroupPollingAdminMessage2();this.setState({flyoutOpen:!this.state.flyoutOpen});}.bind(this),v;}t.prototype.componentDidMount=function(){this.$MessengerGroupPollingAdminMessage2();};t.prototype.render=function(){var u,v,w=this.props.customColor||"#0084ff",x=c('MessengerGroupPollingUtils').renderEmojiText(this.props.message.log_message_body),y=c('MessengerEnvironment').messengerui,z=this.props.isLastOfType||this.state.flyoutOpen&&y;if(!z)return x;var aa=(u=this.props.message)!=null?(u=u.log_message_data)!=null?(u=u.untypedData)!=null?u.question_json:u:u:u,ba=aa&&JSON.parse(aa);if(!ba)return this.$MessengerGroupPollingAdminMessage3();var ca=y?p:o,da=c('React').createElement('div',{className:"_8bt"+(!y?' '+"_5il4":'')},c('React').createElement(c('MessengerSpinner.react'),{color:'grey'})),ea=null;if(this.state.flyoutOpen)ea=c('React').createElement(c('MessengerContextualDialog.react'),{contextRef:function(){return this.refs.voteButton;}.bind(this),shown:this.state.flyoutOpen,onToggle:this.$MessengerGroupPollingAdminMessage4,onBlur:this.$MessengerGroupPollingAdminMessage5},c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),{customColor:w,questionID:ba.id,questionText:ba.text,options:this.state.options,onSubmitHandler:this.$MessengerGroupPollingAdminMessage5}),loader:c('JSResource')('MessengerGroupPollingFlyout.react').__setRef('MessengerGroupPollingAdminMessage.react'),placeholder:da}));if(!this.state.options)return x;var fa=this.state.options.slice(0,s).map(function(ja){var ka,la=(ka=ja)!=null?(ka=ka.voters)!=null?ka.edges:ka:ka,ma=[];if(la)ma=la.map(function(na){return na.node.id;});return babelHelpers['extends']({},ja,{total_count:ja.voters.count,voters:ma});}),ga=((v=fa)!=null?(v=v[0])!=null?v.total_count:v:v)||0,ha=fa.map(function(ja){return c('React').createElement('div',{className:"_3b4a"+(!y?' '+"_4ic5":''),key:ja.id},c('React').createElement('div',{className:"_3b4c"},c('React').createElement('div',{className:(y?"_3b4f":'')+(!y?' '+"_4ic6":'')},c('MessengerGroupPollingUtils').renderEmojiText(ja.text)),c('MessengerGroupPollingUtils').renderVoterFacepiles("_4ic7"+(!y?' '+"_8kg":''),ca,ja.total_count,ja.voters,ja.viewer_has_voted==='true')),c('React').createElement('div',{className:"_3b4h"+(!y?' '+"_4ic8":'')},c('React').createElement('span',{style:{width:this.$MessengerGroupPollingAdminMessage6(ja.total_count,ga),backgroundColor:w}})));}.bind(this)),ia=ba.viewer_has_voted==='true'?j._("Change Vote"):j._("Vote");return c('React').createElement('div',null,x,c('React').createElement('div',{onLoad:this.props.onLoad,className:"_3b4t"+(!y?' '+"_4ic9":'')},c('React').createElement('div',{className:"_3b4u"+(!y?' '+"_2wew":'')},c('React').createElement(c('Image.react'),{className:"_4ica"+(!y?' '+"_2ozk":''),src:y?q:r}),j._("Poll")),c('React').createElement('div',{className:(y?"_3b4v":'')+(!y?' '+"_2wex":'')},c('MessengerGroupPollingUtils').renderEmojiText(ba.text)),c('React').createElement('div',{className:"_3b4w"},ha),c('React').createElement('div',{className:"_8bu"},this.$MessengerGroupPollingAdminMessage7(ba.total_count)),c('React').createElement('div',{className:"_4icb"+(!y?' '+"_4icc":'')+(y?' '+"uiContextualLayerParent":'')+(y?' '+"_5f0v":''),onClick:this.$MessengerGroupPollingAdminMessage8,onMouseDown:this.$MessengerGroupPollingAdminMessage9,ref:'voteButton',role:'button',style:{color:w},tabIndex:'0'},ia,ea)));};t.prototype.$MessengerGroupPollingAdminMessage3=function(){return c('React').createElement('span',null,j._("{original-admin-message} Use the mobile app to vote.",[j.param('original-admin-message',this.props.message.log_message_body)]));};t.prototype.$MessengerGroupPollingAdminMessage7=function(u){var v=u-s;if(v<=0){return null;}else return j._({"*":"{number of remaining answer options} more options...","268435456":"{number of remaining answer options} more option..."},[j.param('number of remaining answer options',v),j.plural(v)]);};t.prototype.$MessengerGroupPollingAdminMessage2=function(){var u,v=(u=this.props.message)!=null?(u=u.log_message_data)!=null?(u=u.untypedData)!=null?u.question_id:u:u:u;if(!v){this.setState({options:[]});return;}var w=c('MessengerGroupPollingAllOptionsWebGraphQLQuery').getURI({node_id:v});new (c('AsyncRequest'))().setURI(w).setHandler(function(x){var y=x.payload.data.node,z=y.options.edges||[],aa=z.map(function(ba){return ba.node;});this.setState({options:aa});}.bind(this)).send();};t.prototype.$MessengerGroupPollingAdminMessage6=function(u,v){return v===0?'0%':u/v*100+'%';};t.propTypes={customColor:n.string,message:n.instanceOf(c('ImmutableObject')).isRequired,isLastOfType:n.bool.isRequired,onLoad:n.func};f.exports=t;}),null);
__d('MessengerPagesCommercePaymentEnabledAdminMessage.react',['cssVar','cx','fbt','ix','Image.react','Link.react','MessengerEnvironment','PagesCommerceBuyerNUXDialog.react','React'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m;l=babelHelpers.inherits(n,c('React').PureComponent);m=l&&l.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=m.constructor).call.apply(o,[this].concat(r)),this.state={showDialog:false},this.$MessengerPagesCommercePaymentEnabledAdminMessage1=function(){this.setState({showDialog:false});}.bind(this),this.$MessengerPagesCommercePaymentEnabledAdminMessage2=function(){this.setState({showDialog:true});}.bind(this),p;}n.prototype.render=function(){var o=c('MessengerEnvironment').messengerui;return c('React').createElement('div',{className:o?"_2piv":''},c('React').createElement(c('Image.react'),{className:"_3-96",src:k("275999")}),c('React').createElement('div',null,this.props.message.log_message_body),c('React').createElement('div',{className:"_3-8w"},c('React').createElement(c('Link.react'),{onClick:this.$MessengerPagesCommercePaymentEnabledAdminMessage2,style:{color:"#0084ff",textDecoration:'none'}},j._("Learn More"))),c('React').createElement(c('PagesCommerceBuyerNUXDialog.react'),{isShown:this.state.showDialog,onConfirm:this.$MessengerPagesCommercePaymentEnabledAdminMessage1}));};f.exports=n;}),null);
__d('isWebGLEnabled',[],(function a(b,c,d,e,f,g){'use strict';var h=null;function i(){try{var k=document.createElement('canvas');return Boolean(window.WebGLRenderingContext)&&Boolean(k.getContext('webgl')||k.getContext('experimental-webgl'));}catch(l){return false;}}function j(){if(h===null)h=i();return h;}f.exports=j;}),null);
__d('MercuryXMATRenderer',['cx','fbt','MercuryConfig','MercuryIDs','MercuryParticipants','MessagingGenericAdminTextType','MessengerGameAdminMessage.react','MessengerGroupPollingAdminMessage.react','MessengerPagesCommercePaymentEnabledAdminMessage.react','MessengerTextWithEntities.react','MNAdsMessageUtils','React','FacepileRounded.react','idx','isWebGLEnabled'],(function a(b,c,d,e,f,g,h,i){'use strict';var j={renderText:function k(l,m,n,o){var p,q=m.log_message_body?c('React').createElement(c('MessengerTextWithEntities.react'),{renderEmoji:true,renderEmoticons:true,text:m.log_message_body}):null,r=(p=m)!=null?(p=p.log_message_data)!=null?p.message_type:p:p;switch(r){case c('MessagingGenericAdminTextType').JOURNEY_PROMPT_COLOR:q=i._("You need to be on the latest version of Messenger on a mobile device to pick a color for this conversation.");break;case c('MessagingGenericAdminTextType').JOURNEY_PROMPT_NICKNAME:var s=null,t=c('MercuryIDs').getUserIDFromParticipantID(m.author);if(m.other_user_fbid&&t!==m.other_user_fbid){var u=c('MercuryIDs').getParticipantIDFromUserID(m.other_user_fbid);s=c('MercuryParticipants').getOrFetch(u);}if(s&&s.short_name){q=i._("You need to be on the latest version of Messenger on a mobile device to set a nickname for {admin-text-message} .",[i.param('admin-text-message',s.short_name)]);}else q=i._("You need to be on the latest version of Messenger on a mobile device to set a nickname for yourself.");break;case c('MessagingGenericAdminTextType').JOURNEY_PROMPT_LIKE:q=i._("You need to be on the latest version of Messenger on a mobile device to pick an emoji for this conversation.");break;case c('MessagingGenericAdminTextType').INSTANT_GAME_UPDATE:if(c('MercuryConfig').MessengerGamesGK&&c('isWebGLEnabled')())q=c('React').createElement(c('MessengerGameAdminMessage.react'),{message:m,text:m.log_message_body,isLastOfType:n,onLoad:o});break;case c('MessagingGenericAdminTextType').ADS_WELCOME_MSG:break;case c('MessagingGenericAdminTextType').AD_MANAGE_MESSAGE:if(c('MNAdsMessageUtils').isAdsAdminMessage(m))q=c('MNAdsMessageUtils').getAdsPageManage(m,false);break;case c('MessagingGenericAdminTextType').WORK_INVITE_CLAIMED:var v=m.log_message_data.untypedData.invite_recipient,w=m.log_message_data.untypedData.invite_sender,x=c('MercuryParticipants').getNow(c('MercuryIDs').getParticipantIDFromUserID(v)),y=c('MercuryParticipants').getNow(c('MercuryIDs').getParticipantIDFromUserID(w));if(y!=null&&x!=null){q=m.log_message_body?m.log_message_body:i._("You're now connected on Work Chat.");q=c('React').createElement(c('FacepileRounded.react'),{profiles:[x,y],message:q,numProfilesToDisplay:2,className:"_8lx"});}break;case c('MessagingGenericAdminTextType').CONFIRM_FRIEND_REQUEST:var z=m.log_message_data.untypedData;if(z){var aa=z.friend_request_recipient,ba=z.friend_request_sender,ca=c('MercuryParticipants').getNow(c('MercuryIDs').getParticipantIDFromUserID(aa)),da=c('MercuryParticipants').getNow(c('MercuryIDs').getParticipantIDFromUserID(ba));if(da!=null&&ca!=null)q=c('React').createElement(c('FacepileRounded.react'),{profiles:[ca,da],message:m.log_message_body,numProfilesToDisplay:2,className:"_8lx"});}break;case c('MessagingGenericAdminTextType').GROUP_POLL:q=c('React').createElement(c('MessengerGroupPollingAdminMessage.react'),{customColor:l,message:m,isLastOfType:n,onLoad:o});break;case c('MessagingGenericAdminTextType').PAGES_COMMERCE_PAYMENT_ENABLED:q=c('React').createElement(c('MessengerPagesCommercePaymentEnabledAdminMessage.react'),{message:m});break;case c('MessagingGenericAdminTextType').THREAD_CUSTOMIZATION_UPSELL:q=i._("You need to be on the latest version of Messenger on your phone to customize the color, emoji and nicknames from this conversation.");break;default:break;}return c('React').createElement('span',null,q);}};f.exports=j;}),null);
__d('P2PGroupSendReceiptDialog.react',['cx','fbt','FacepileRounded.react','Image.react','Link.react','MessengerEnvironment','P2PAmountUtils','P2PBigAmount.react','P2PButton.react','P2PDialog.react','P2PDialogBody.react','P2PDialogFooter.react','P2PDialogTitle.react','P2PLinkConstants','P2PLogger','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow','P2PPaymentRequestStatus','P2PText.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.handleClose=function(){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_3RD_PARTY_RECEIPT_DISMISSED);this.props.onClose();}.bind(this),n;}l.prototype.componentDidMount=function(){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_3RD_PARTY_RECEIPT_SHOWN,{raw_amount:this.props.amount});};l.prototype.getReceiverStatusMap=function(){var m;return this.props.individualRequests.reduce(function(n,o){switch(o.currentStatus){case c('P2PPaymentRequestStatus').EXPIRED:case c('P2PPaymentRequestStatus').DECLINED:case c('P2PPaymentRequestStatus').TRANSFER_COMPLETED:n[o.currentStatus].push(o);break;default:n[c('P2PPaymentRequestStatus').INITED].push(o);break;}return n;},(m={},m[c('P2PPaymentRequestStatus').DECLINED]=[],m[c('P2PPaymentRequestStatus').EXPIRED]=[],m[c('P2PPaymentRequestStatus').INITED]=[],m[c('P2PPaymentRequestStatus').TRANSFER_COMPLETED]=[],m));};l.prototype.getRequestProfile=function(m){var n=m.requestee||{};return {image_src:n.picture,name:n.full_name};};l.prototype.log=function(m,n){c('P2PLogger').log(m,babelHelpers['extends']({www_event_flow:this.props.eventFlow},n));};l.prototype.renderBody=function(){return c('React').createElement(c('P2PDialogBody.react'),null,c('React').createElement('ul',null,this.renderParticipantRow(this.props.sender,true),this.renderParticipantRow(this.props.receiver,false)),this.renderReceiverStatusList(),c('React').createElement('div',{className:"_bpy"},c('React').createElement(c('P2PBigAmount.react'),{amount:c('P2PAmountUtils').sanitizeAmount(this.props.amount),isPending:this.props.isGrayAmount,size:'large'})),c('React').createElement(c('P2PText.react'),{className:"_bpt",size:'small',type:'secondary'},this.props.bodyText,' ',c('React').createElement(c('Link.react'),{className:"_1ed3",href:c('P2PLinkConstants').helpCenterURI,target:'_blank'},i._("Learn More"))));};l.prototype.renderParticipantRow=function(m,n){if(!n&&this.props.individualRequests.length>1)return null;return c('React').createElement('li',{className:"_2chg",key:m.id},c('React').createElement('div',{className:"_2chh"},c('React').createElement(c('Link.react'),{href:m.profile_uri,onClick:this.props.onClose},c('React').createElement(c('Image.react'),{height:50,src:m.picture,width:50}))),c('React').createElement('div',{className:"_2chi"},c('React').createElement(c('P2PText.react'),{type:'primary'},c('React').createElement(c('P2PText.react'),{type:'secondary'},this.renderParticipantText(n)),m.full_name)));};l.prototype.renderParticipantText=function(m){if(m)return i._("From");return i._("To");};l.prototype.renderReceiverStatusList=function(){if(this.props.individualRequests.length<2)return null;var m=this.getReceiverStatusMap();return c('React').createElement('ul',null,this.renderStatus(m,c('P2PPaymentRequestStatus').TRANSFER_COMPLETED),this.renderStatus(m,c('P2PPaymentRequestStatus').DECLINED),this.renderStatus(m,c('P2PPaymentRequestStatus').INITED),this.renderStatus(m,c('P2PPaymentRequestStatus').EXPIRED));};l.prototype.renderStatus=function(m,n){var o=m[n].map(this.getRequestProfile);if(o.length===0)return null;return c('React').createElement('li',{className:"_5-av",key:n},c('React').createElement(c('P2PText.react'),{className:"_2chi _2pir",type:'secondary'},this.renderStatusText(n)),c('React').createElement(c('FacepileRounded.react'),{className:"_3-8w",imageSize:40,numProfilesToDisplay:9,profiles:o,showNames:true}));};l.prototype.renderStatusText=function(m){switch(m){case c('P2PPaymentRequestStatus').DECLINED:return i._("Declined");case c('P2PPaymentRequestStatus').EXPIRED:return i._("Expired");case c('P2PPaymentRequestStatus').TRANSFER_COMPLETED:return i._("Paid");case c('P2PPaymentRequestStatus').INITED:default:return i._("Pending");}};l.prototype.render=function(){var m=c('MessengerEnvironment').messengerui,n=m?380:360,o=this.props.title;return c('React').createElement(c('P2PDialog.react'),{className:m?"_bpv":'',layerHideOnBlur:false,onToggle:this.props.onClose,width:n},c('React').createElement(c('P2PDialogTitle.react'),null,o),this.renderBody(),c('React').createElement(c('P2PDialogFooter.react'),null,c('React').createElement(c('P2PButton.react'),{label:i._("OK"),onClick:this.handleClose,type:'primary'})));};l.defaultProps={bodyText:i._("You can send money to friends in groups."),eventFlow:c('P2PPaymentLoggerEventFlow').UI_FLOW_P2P_GROUP_SEND,individualRequests:[],isGrayAmount:false,title:i._("Payment Details")};f.exports=l;}),null);
__d('P2PGroupPaymentRequestReceiptDialog.react',['fbt','P2PActions','P2PGroupSendReceiptDialog.react','P2PPaymentLoggerEventFlow','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement(c('P2PGroupSendReceiptDialog.react'),{amount:this.props.amount,bodyText:h._("You can send payment requests to friends in groups"),eventFlow:c('P2PPaymentLoggerEventFlow').UI_FLOW_P2P_GROUP_REQUEST,individualRequests:this.props.individualRequests,isGrayAmount:true,receiver:this.props.requestee,sender:this.props.requester,title:h._("Payment Request Details"),onClose:this.props.onClose||c('P2PActions').hideDialog});};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d("XP2PPaymentRequestReceiptController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/p2p\/payment_request\/",{id:{type:"String",required:true}});}),null);
__d("XP2PTransactionDetailController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/p2p\/transaction\/",{id:{type:"String",required:true}});}),null);
__d('P2PMercuryLogMessage.react',['cx','fbt','MessengerEnvironment','CurrentUser','Link.react','MercuryIDs','P2PGroupPaymentRequestReceiptDialog.react','P2PGroupSendReceiptDialog.react','P2PPaymentLogMessageSubtype','React','ReactLayeredComponentMixin_DEPRECATED','XP2PPaymentRequestReceiptController','XP2PTransactionDetailController'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'P2PMercuryLogMessage',mixins:[c('ReactLayeredComponentMixin_DEPRECATED')],propTypes:{amount:j.string,receiver:j.object.isRequired,sender:j.object.isRequired,subtype:j.oneOf(Object.keys(c('P2PPaymentLogMessageSubtype')).map(function(l){return c('P2PPaymentLogMessageSubtype')[l];})),transferID:j.string.isRequired,threadFBID:j.string,threadID:j.string},getDefaultProps:function l(){return {amount:'',sender:null,receiver:null,subtype:null};},getInitialState:function l(){return {groupPaymentRequestReceiptDetailsShown:false,groupSendReceiptDetailsShown:false};},handleGroupDetailsLinkClicked:function l(){this.setState({groupSendReceiptDetailsShown:true});},handleGroupPaymentRequestDetailsLinkClicked:function l(){this.setState({groupPaymentRequestReceiptDetailsShown:true});},handleThirdPartyReceiptDialogClosed:function l(){this.setState({groupPaymentRequestReceiptDetailsShown:false,groupSendReceiptDetailsShown:false});},isViewerSender:function l(){var m=this.props.sender.id;return m&&c('MercuryIDs').getUserIDFromParticipantID(m)===c('CurrentUser').getID();},isViewerReceiver:function l(){var m=this.props.receiver.id;return m&&c('MercuryIDs').getUserIDFromParticipantID(m)===c('CurrentUser').getID();},renderPaymentRequestDetailsLink:function l(){var m=c('XP2PPaymentRequestReceiptController').getURIBuilder().setString('id',this.props.transferID).getURI();return c('React').createElement(c('Link.react'),{className:"_kiq",href:m,target:'_blank'},i._("See details"));},renderTransferDetailsLink:function l(){var m=c('XP2PTransactionDetailController').getURIBuilder().setString('id',this.props.transferID).getURI();return c('React').createElement(c('Link.react'),{className:"_kiq",href:m,target:'_blank'},i._("See details"));},renderGroupDetailsLink:function l(){return c('React').createElement(c('Link.react'),{className:"_kiq",href:'#',onClick:this.handleGroupDetailsLinkClicked},i._("See details"));},renderGroupPaymentRequestDetailsLink:function l(){return c('React').createElement(c('Link.react'),{className:"_kiq",href:'#',onClick:this.handleGroupPaymentRequestDetailsLinkClicked},i._("See details"));},renderLayers:function l(){var m={},n={full_name:this.props.receiver.name,id:this.props.receiver.id,picture:this.props.receiver.image_src,profile_uri:this.props.receiver.href},o={full_name:this.props.sender.name,id:this.props.sender.id,picture:this.props.sender.image_src,profile_uri:this.props.sender.href};if(this.state.groupSendReceiptDetailsShown){m.groupSendReceiptDetailsDialog=c('React').createElement(c('P2PGroupSendReceiptDialog.react'),{amount:this.props.amount,onClose:this.handleThirdPartyReceiptDialogClosed,receiver:n,sender:o});}else if(this.state.groupPaymentRequestReceiptDetailsShown)m.groupPaymentRequestReceiptDetailsDialog=c('React').createElement(c('P2PGroupPaymentRequestReceiptDialog.react'),{amount:this.props.amount,onClose:this.handleThirdPartyReceiptDialogClosed,requestee:n,requester:o});return m;},render:function l(){var m=null,n=this.props.amount,o=this.props.subtype,p=this.isViewerSender(),q=this.isViewerReceiver(),r=void 0;if(!p&&!q){r=this.renderGroupDetailsLink();}else r=this.renderTransferDetailsLink();switch(o){case c('P2PPaymentLogMessageSubtype').SENT_IN_GROUP:m=i._("{sendername} sent {amount} to {receivername}. {details}",[i.param('sendername',this.props.sender.name),i.param('amount',n),i.param('receivername',this.props.receiver.name),i.param('details',r)]);break;case c('P2PPaymentLogMessageSubtype').CANCELED_EXPIRED:case c('P2PPaymentLogMessageSubtype').CANCELED_SAME_CARD:case c('P2PPaymentLogMessageSubtype').CANCELED_SENDER_RISK:case c('P2PPaymentLogMessageSubtype').CANCELED_RECIPIENT_RISK:case c('P2PPaymentLogMessageSubtype').CANCELED_CUSTOMER_SERVICE:if(p){m=i._("Your {amount} payment was canceled. {details}",[i.param('amount',n),i.param('details',this.renderTransferDetailsLink())]);}else if(q){m=i._("{name}'s {amount} payment was canceled. {details}",[i.param('name',this.props.sender.name),i.param('amount',n),i.param('details',this.renderTransferDetailsLink())]);}else m=i._("{sender_name}'s {amount} payment to {receiver_name} was canceled. {details}",[i.param('sender_name',this.props.sender.name),i.param('amount',n),i.param('receiver_name',this.props.receiver.name),i.param('details',r)]);m=c('React').createElement('span',{className:"_5rdx"},m);break;case c('P2PPaymentLogMessageSubtype').CANCELED_DECLINED:if(p){m=i._("{name} didn't accept your {amount} payment. {details}",[i.param('name',this.props.receiver.name),i.param('amount',n),i.param('details',this.renderTransferDetailsLink())]);}else if(q){m=i._("You didn't accept {name}'s {amount} payment. {details}",[i.param('name',this.props.sender.name),i.param('amount',n),i.param('details',this.renderTransferDetailsLink())]);}else m=i._("{receiver_name} didn't accept {sender_name}'s {amount} payment. {details}",[i.param('receiver_name',this.props.receiver.name),i.param('sender_name',this.props.sender.name),i.param('amount',n),i.param('details',r)]);m=c('React').createElement('span',{className:"_5rdx"},m);break;case c('P2PPaymentLogMessageSubtype').REQUEST_CANCELED_BY_REQUESTER:if(p){m=i._("You canceled your request for {payment request amount}. {details}",[i.param('payment request amount',n),i.param('details',this.renderPaymentRequestDetailsLink())]);}else if(q){m=i._("{sender's name} canceled their request for {payment request amount}. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',n),i.param('details',this.renderPaymentRequestDetailsLink())]);}else m=i._("{sender's name} canceled their request for {payment request amount} from {receiver's name}. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',n),i.param('receiver\'s name',this.props.receiver.name),i.param('details',this.renderGroupPaymentRequestDetailsLink())]);m=c('React').createElement('span',{className:"_5rdx"},m);break;case c('P2PPaymentLogMessageSubtype').REQUEST_DECLINED_BY_REQUESTEE:if(p){m=i._("{receiver's name} declined your request for {payment request amount}. {details}",[i.param('receiver\'s name',this.props.receiver.name),i.param('payment request amount',n),i.param('details',this.renderPaymentRequestDetailsLink())]);}else if(q){m=i._("You declined {sender's name}'s request for {payment request amount}. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',n),i.param('details',this.renderPaymentRequestDetailsLink())]);}else m=i._("{receiver's name} declined {sender's name}'s request for {payment request amount}. {details}",[i.param('receiver\'s name',this.props.receiver.name),i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',n),i.param('details',this.renderGroupPaymentRequestDetailsLink())]);m=c('React').createElement('span',{className:"_5rdx"},m);break;case c('P2PPaymentLogMessageSubtype').REQUEST_EXPIRED:if(p){m=i._("Your request for {payment request amount} expired so it was canceled. {details}",[i.param('payment request amount',n),i.param('details',this.renderPaymentRequestDetailsLink())]);}else if(q){m=i._("{sender's name}'s request for {payment request amount} expired so it was canceled. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('payment request amount',n),i.param('details',this.renderPaymentRequestDetailsLink())]);}else m=i._("{sender's name}'s request to {receiver's name} for {payment request amount} expired so it was canceled. {details}",[i.param('sender\'s name',this.props.sender.name),i.param('receiver\'s name',this.props.receiver.name),i.param('payment request amount',n),i.param('details',this.renderGroupPaymentRequestDetailsLink())]);m=c('React').createElement('span',{className:"_5rdx"},m);break;}return c('React').createElement('div',{className:c('MessengerEnvironment').messengerui?"_5rdy":''},m);}});f.exports=k;}),null);
__d('MessengerLogMessageBody.react',['fbt','immutable','ImmutableObject','MercuryIDs','MercuryParticipants','MercuryLogMessageType','MessengerAdminGroupUtils','P2PMercuryLogMessage.react','ReactComponentWithPureRenderMixin','React','StoreAndPropBasedStateMixin','MessengerTextWithEmoticons.react'],(function a(b,c,d,e,f,g,h){var i='source:messenger_growth:event_upcoming_bump',j=c('React').PropTypes,k=c('React').createClass({displayName:'MessengerLogMessageBody',_viewer:'',mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('MercuryParticipants'))],propTypes:{thread:j.instanceOf(c('ImmutableObject')),message:j.instanceOf(c('ImmutableObject')).isRequired,viewer:j.string.isRequired},statics:{calculateState:function l(m){var n=[],o=m.message,p=o.log_message_data,q=o.log_message_type;switch(q){case c('MercuryLogMessageType').SUBSCRIBE:n=p.added_participants;break;case c('MercuryLogMessageType').UNSUBSCRIBE:n=p.removed_participants;break;case c('MercuryLogMessageType').ORION:n.push(p.senderId,p.receiverId);break;}if(!n||!n.length)return {};var r=c('immutable').Map().withMutations(function(s){n.forEach(function(t){s.set(t,c('MercuryParticipants').getOrFetch(t)||{});});});return {extraParticipants:r};}},render:function l(){var m=this.props.message.log_message_type;this._viewer=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer);if(this._viewer!==this.props.message.author&&m!==c('MercuryLogMessageType').ORION)return null;var n=c('MessengerAdminGroupUtils').isJoinableThread(this.props.thread),o=c('MessengerAdminGroupUtils').isGroupChat(this.props.thread);switch(m){case c('MercuryLogMessageType').SUBSCRIBE:return c('React').createElement('span',null,this._renderSubscribeMessage(this.props.message));case c('MercuryLogMessageType').UNSUBSCRIBE:if(n)return c('React').createElement('span',null,o?this._renderUnsubscribeMessageForGroupChat(this.props.message):this._renderUnsubscribeMessageForRoom(this.props.message));return c('React').createElement('span',null,this._renderUnsubscribeMessage(this.props.message));case c('MercuryLogMessageType').THREAD_NAME:if(n)return c('React').createElement('span',null,o?this._renderThreadNameMessageForGroupChat():this._renderThreadNameMessageForRoom());return c('React').createElement('span',null,this._renderThreadNameMessage());case c('MercuryLogMessageType').THREAD_IMAGE:if(n)return c('React').createElement('span',null,o?this._renderThreadImageMessageForGroupChat():this._renderThreadImageMessageForRoom());return c('React').createElement('span',null,this._renderThreadImageMessage());case c('MercuryLogMessageType').ORION:return this._renderP2PLogMessage(this.props.message);default:return null;}},_renderP2PLogMessage:function l(m){var n=m.log_message_data,o=n.senderId,p=n.receiverId,q=this.state.extraParticipants,r=q.get(o),s=q.get(p);return c('React').createElement(c('P2PMercuryLogMessage.react'),{amount:n.formattedAmount,receiver:s,sender:r,subtype:n.subtype,threadFBID:m.thread_fbid,threadID:m.thread_id,transferID:n.transfer_id});},_renderSubscribeMessage:function l(m){var n=this._moveCurrentUserToFront(m.log_message_data.added_participants),o=this.state.extraParticipants;switch(n.length){case 1:return h._("You added {subscriber1}.",[h.param('subscriber1',o.get(n[0]).name)]);case 2:return h._("You added {subscriber1} and {subscriber2}.",[h.param('subscriber1',o.get(n[0]).name),h.param('subscriber2',o.get(n[1]).name)]);case 3:return h._("You added {subscriber1}, {subscriber2} and {subscriber3}.",[h.param('subscriber1',o.get(n[0]).name),h.param('subscriber2',o.get(n[1]).name),h.param('subscriber3',o.get(n[2]).name)]);default:var p=n.map(function(q){return o.get(q);});return h._("You added {subscriber1}, {subscriber2} and {num} other people.",[h.param('subscriber1',p[0].name),h.param('subscriber2',p[1].name),h.param('num',p.slice(2).length)]);}},_renderUnsubscribeMessage:function l(m){var n=this.state.extraParticipants,o=m.log_message_data.removed_participants[0],p=n.get(o);if(!o||o===m.author){return h._("You left the conversation.");}else return h._("You removed {name} from the conversation.",[h.param('name',p.name)]);},_renderUnsubscribeMessageForRoom:function l(m){var n=this.state.extraParticipants,o=m.log_message_data.removed_participants[0],p=n.get(o);if(!o||o===m.author){return h._("You left the room.");}else return h._("You removed {name} from the room.",[h.param('name',p.name)]);},_renderUnsubscribeMessageForGroupChat:function l(m){var n=this.state.extraParticipants,o=m.log_message_data&&m.log_message_data.removed_participants&&m.log_message_data.removed_participants[0],p=o&&n.get(o);if(!o||o===m.author){return h._("You left the chat.");}else return h._("You removed {name} from the chat.",[h.param('name',p&&p.name)]);},_renderThreadNameMessage:function l(){var m=this.props.message.log_message_data;if(!m.name)return h._("You removed the group name.");return h._("You named the group {the new name of the group}.",[h.param('the new name of the group',m.name)]);},_renderThreadNameMessageForRoom:function l(){var m=this.props.message.log_message_data;if(!m.name)return h._("You removed the room name.");return h._("You named the room {the new name of the group}.",[h.param('the new name of the group',m.name)]);},_renderThreadNameMessageForGroupChat:function l(){var m=this.props.message.log_message_data;if(!m.name)return h._("You removed the chat name.");return h._("You named the chat {the new name of the group}.",[h.param('the new name of the group',m.name)]);},_renderThreadImageMessage:function l(){if(this.props.message.tags!==undefined&&this.props.message.tags.indexOf(i)!==-1)return h._("The group photo has been changed.");return h._("You changed the group photo.");},_renderThreadImageMessageForRoom:function l(){return h._("You changed the room photo.");},_renderThreadImageMessageForGroupChat:function l(){return h._("You changed the chat photo.");},_moveCurrentUserToFront:function l(m){var n=this._viewer,o=m.indexOf(n);if(o>0){var p=m.filter(function(q){return q!==n;});return [n].concat(p);}return m;}});f.exports=k;}),null);
__d('MessengerLogMessage.react',['cx','ix','Image.react','ImmutableObject','MercuryLogMessageType','MercuryLWARenderer','MercuryMessageInfo','MercuryXMATRenderer','MessagingGenericAdminTextType','MessengerLightweightActionUtils','MessengerLogMessageBody.react','MNCommerceLogMessageUtils','React','convertMIGColorToFIGColor','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=i("86913");j=babelHelpers.inherits(n,c('React').PureComponent);k=j&&j.prototype;n.prototype.render=function(){return c('React').createElement('div',{className:this.$MessengerLogMessage1()},this.$MessengerLogMessage2(),c('React').createElement('i',{className:"_uwa"}),c('React').createElement('span',{className:"_3oh-"},this.$MessengerLogMessage3()));};n.prototype.$MessengerLogMessage3=function(){var o=c('convertMIGColorToFIGColor')(this.props.thread&&this.props.thread.custom_color),p=void 0;if(c('MessengerLightweightActionUtils').isLWAMessage(this.props.message))return c('MercuryLWARenderer').renderCollapsedText(this.props.message);if(this.props.message.log_message_type!==c('MercuryLogMessageType').ORION)p=c('MercuryXMATRenderer').renderText(o,this.props.message,this.props.isLastOfType,this.props.onImageLoad);return this.$MessengerLogMessage4()||p||c('React').createElement(c('MessengerLogMessageBody.react'),{message:this.props.message,viewer:this.props.viewer,thread:this.props.thread});};n.prototype.$MessengerLogMessage4=function(){var o=this.props.message;if(c('MNCommerceLogMessageUtils').isCommercePageAdminMessage(o))return c('MNCommerceLogMessageUtils').getCommercePageManage(o,true);return null;};n.prototype.$MessengerLogMessage2=function(){if(!c('MercuryMessageInfo').hasError(this.props.message))return null;return c('React').createElement(c('Image.react'),{className:"_41-9",src:m});};n.prototype.$MessengerLogMessage1=function(){var o=void 0,p=this.props.message,q=p.log_message_type===c('MercuryLogMessageType').UNSUBSCRIBE&&p.log_message_data.removed_participants.indexOf(p.author)!==-1,r=this.props.viewer;switch(p.log_message_type){case c('MercuryLogMessageType').SUBSCRIBE:o="_uwb";break;case c('MercuryLogMessageType').UNSUBSCRIBE:o=q?"_uwc":"_uwe";break;case c('MercuryLogMessageType').PHONE_CALL:o=p.log_message_data.caller.indexOf(r)!==-1?"_uwf":"_uwg";break;case c('MercuryLogMessageType').VIDEO_CALL:o=p.log_message_data.caller.indexOf(r)!==-1?"_uwh":"_uwi";break;case c('MercuryLogMessageType').THREAD_NAME:o="_uwj";break;case c('MercuryLogMessageType').THREAD_IMAGE:o="_uwk";break;case c('MercuryLogMessageType').SERVER_ERROR:o="_uwl";break;case c('MercuryLogMessageType').LIVE_LISTEN:o="_uwm";break;case c('MercuryLogMessageType').WALLPAPER:o="_uwn";break;case c('MercuryLogMessageType').ORION:o="_uwo";break;case c('MercuryLogMessageType').SWITCH_TO_WORK:o="_uwp";break;case c('MercuryLogMessageType').PAGE_REPLY:o="_uwq";break;}return c('joinClasses')("_497p"+((p.log_message_type===c('MercuryLogMessageType').PHONE_CALL||p.log_message_type===c('MercuryLogMessageType').VIDEO_CALL)&&!p.log_message_data.answered?' '+"_3no3":'')+(p.log_message_data&&p.log_message_data.message_type===c('MessagingGenericAdminTextType').INSTANT_GAME_UPDATE?' '+"_11es":''),o);};function n(){j.apply(this,arguments);}n.propTypes={message:l.instanceOf(c('ImmutableObject')).isRequired,viewer:l.string.isRequired,isLastOfType:l.bool.isRequired,onImageLoad:l.func};f.exports=n;}),null);