if (self.CavalryLogger) { CavalryLogger.start_js(["60\/LT"]); }

__d("ConversationNubAddTabSource",[],(function a(b,c,d,e,f,g){f.exports={NOTIFICATION:"notification",PAGE_REFRESH:"page_refresh",USER_PIN:"user_pin",UNSEEN_NOTIFICATION:"unseen_notification",UNKNOWN:"unknown"};}),null);
__d("PinnedConversationNubsActionTaken",[],(function a(b,c,d,e,f,g){f.exports={TAB_CLOSED_BY_USER:0,COMMENT_ADDED:1};}),null);
__d("TrackingNodeTypes",[],(function a(b,c,d,e,f,g){f.exports={HEADLINE:1,USER_NAME:2,ACTOR_PHOTO:3,ACTION_LINKS:4,LIKE_LINK:5,UNLIKE_LINK:6,PARTICIPANT:7,PRONOUN:8,ROBOTEXT:9,TITLE:10,MEDIA_GENERIC:11,PHOTO:12,VIDEO:13,MUSIC:14,ATTACHMENT:15,NAME_LIST:16,SHARE_LINK:17,USER_MESSAGE:18,SUBTITLE:19,DESCRIPTION:20,SOURCE:21,BLINGBOX:22,OTHER:23,VIEW_ALL_COMMENTS:24,COMMENT:25,COMMENT_LINK:26,SMALL_ACTOR_PHOTO:27,SUBSTORY:28,XBUTTON:29,HIDE_LINK:30,REPORT_SPAM_LINK:31,HIDE_ALL_LINK:32,BAD_AGGREGATION_LINK:33,ADD_COMMENT_BOX:34,APP_CALL_TO_ACTION:35,UFI:36,OG_LEFT_SLIDE_PAGER:37,OG_RIGHT_SLIDE_PAGER:38,EXP_CALL_TO_ACTION:39,LARGE_MEDIA_ATTACHMENT:40,FAN_PAGE:42,UNFAN_PAGE:43,SEE_MORE:44,COLLECTION_ROBOTEXT_LINK:45,COLLECTION_ACTION_LINK:46,COLLECTION_TICKER_LINK:47,SPONSORED_LINK:49,PAGE_LINK:50,SOCIAL_CONTEXT:51,SOCIAL_ACTOR_PHOTO:52,OFFERS_CLAIM:53,OFFERS_CLICK:54,DROPDOWN_BUTTON:55,EVENT_VIEW:56,EVENT_RSVP:57,ADS_SHIMMED_LINK:58,COLLECTION_ADD_BUTTON:59,EVENT_INVITE_FRIENDS:60,RHC_AD:61,AD_CREATIVE_TITLE:62,AD_CREATIVE_BODY:63,AD_CREATIVE_IMAGE:64,AD_SOCIAL_SENTENCE:65,APP_NAME:66,GROUP_JOIN:67,PAGE_COVER_PHOTO:68,PAGE_PROFILE_PIC:69,AD_IDENTITY:70,UNHIDE_LINK:71,TRENDING_TOPIC_LINK:72,RELATED_SHARE_ARTICLE:73,OFFERS_USE_NOW:74,RELATED_SHARE_VIDEO:75,RHC_CARD:76,RHC_CARD_HIDE:77,RHC_SIMPLIFICATION:78,RHC_SIMPLIFICATION_HIDE:79,TOPIC_PIVOT_HEADER:80,ADD_FRIEND_BUTTON:81,SNOWLIFT:82,SNOWLIFT_MESSAGE:83,OFFERS_RESEND:84,RHC_LINK_OPEN:85,GENERIC_CALL_TO_ACTION_BUTTON:86,AD_LOGOUT:87,RHC_PHOTO_SLIDER:88,RHC_COMMENT_BUTTON:89,HASHTAG:90,NOTE:91,RELATED_SHARE_ARTICLE_HIDE:92,RELATED_SHARE_VIDEO_HIDE:93,NEKO_PREVIEW:94,OG_COMPOSER_OBJECT:95,INSTALL_ACTION:96,SPONSORED_CONTEXT:97,DIGITAL_GOOD:98,STORY_FOOTER:99,STORY_LOCATION:100,ADD_PHOTO_ACTION:101,ACTION_ICON:102,EGO_FEED_UNIT:103,PLACE_STAR_SURVEY:104,REVIEW_MENU:105,SAVE_ACTION:106,PHOTO_GALLERY:107,SUB_ATTACHMENT:108,FEEDBACK_SECTION:109,ALBUM:110,ALBUM_COLLAGE:111,AVATAR_LIST:112,STORY_LIST:113,MEDIA_CONTROLS:114,ZERO_UPSELL_BUY:115,ZERO_UPSELL_FEED_UNIT:116,RATING:117,PERMALINK_COMMENT:118,LIKE_COUNT:119,RETRY_BUTTON:120,TIMELINE_GIFTS:121,NEARBY_FRIENDS_LIST:122,PRESENCE_UNIT:123,EVENT_INVITE_SENT:124,ATTACHMENT_TITLE:125,HSCROLL_PAGER:126,STORY_MESSAGE:127,STATUS_LINK:128,ADD_MEDIA_LINK:129,ADD_QUESTION_LINK:130,START_Q_AND_A_LINK:131,UPLOAD_FILE_LINK:132,START_CONVERSATION_LINK:133,ATTACH_LIFE_EVENT_LINK:134,ATTACH_PLACE_LINK:135,COVER_PHOTO_EDIT_LINK:136,SHOW_LIKES:137,ROTATE_LEFT_BUTTON:138,ROTATE_RIGHT_BUTTON:139,TAG_LINK:140,CLOSE_BUTTON:141,PAGER_NEXT:142,PAGER_PREVIOUS:143,FULLSCREEN_BUTTON:144,ACTIONS:145,CURATION_MENU:146,PROFILE_PIC_EDIT_LINK:147,VIEW_ALL_SHARES:148,THUMBNAIL_LINK:149,EDIT_HISTORY:150,ADD_TO_THREAD:151,SIDEBAR:152,HOME_SIDENAV:153,BUDDYLIST_NUB:154,TITLEBAR:155,SEND_BUTTON:156,CONVERSATION:157,CHAT_FLYOUT:158,INPUT:159,EMOTICONS:160,VIDEOCHAT:161,TYPEAHEAD:162,OPTIONS_MENU:163,BOOST_POST_BUTTON:164,TOGGLE_BUTTON:165,CHAT_SIDEBAR_FOOTER:166,GRIPPER:167,BOOKMARK_ITEM:168,BOOKMARKS_SECTION:169,BOOKMARKS_NAV:170,RHC:171,RHC_HEADER:172,SIDE_ADS:173,BUDDY_LIST:174,SHOW_ADS_FEED:184,VIDEO_IN_PLAY_CALL_TO_ACTION_BUTTON:185,VIDEO_ENDSCREEN_CALL_TO_ACTION_BUTTON:186,INLINE_PHOTO_PIVOTS_HIDE:187,VIDEO_CALL_TO_ACTION_ENDSCREEN_REPLAY:188,APP_ATTACHMENT:189,ACTIVITY_LINK:190,SAVE_BUTTON:191,SEE_MORE_PHOTO_PAGE_POST_BUTTON:192,BUY_VIRTUAL_GOOD:193,SAVE_SECONDARY_MENU:194,MPP_INSIGHTS:195,WAP_FOOTER:196,GROUP_CANCEL:197,GROUP_LEAVE:198,MESSAGE_LINK:199,VIDEO_SPONSORSHIP_LABEL:200,MULTI_ATTACHMENT_PAGER_NEXT:201,MULTI_ATTACHMENT_PAGER_PREV:202,WEB_CLICK:203,COMPOSER_POST:204,MULTI_ATTACHMENT_VIDEO:205,VIDEO_CALL_TO_ACTION_PAUSESCREEN_RESUME:206,VOICECHAT:207,PAGE_INVITE_FRIEND:208,SEE_MORE_REDIRECT:209,VIDEO_CALL_TO_ACTION_ATTACHMENT:210,PAGE_POST_SEE_FIRST:211,PAGE_POST_DEFAULT:212,TOPIC_FEED_CUSTOMIZATION_UNIT_SUBMIT:213,TOPIC_FEED_CUSTOMIZATION_UNIT_OPTION:214,LEAD_GEN_OPEN_POPOVER:215,LEAD_GEN_SUBMIT_CLICK:216,LEAD_GEN_PRIVACY_CLICK:217,LEAD_GEN_OFFSITE_CLICK:218,EVENT_YOU_MAY_LIKE_HSCROLL:219,LEAD_GEN_CONTEXT_CARD_CLOSE:220,LEAD_GEN_CONTEXT_CARD_CTA_CLICK:221,FEED_STORY_PLACE_ATTACHMENT:222,PAGE_CALL_TO_ACTION_UNIT:224,TRANSLATION:225,FEED_STORY_ATTACHMENT_MISINFO_WARNING:226,RELATED_LOCAL_NEWS_ATTACHMENT_LINK:227,RELATED_LOCAL_NEWS_ATTACHMENT_SHARE:228,STORY_TIMESTAMP:229,STORY_HEADER:230,SPONSORED_STORY:231,EVENT_CTA_BUTTON:232,RELATED_PAGE_POSTS_ATTACHMENT_CLICK:233,RELATED_PAGE_POSTS_ATTACHMENT_SHARE:234,RELATED_PAGE_POSTS_ATTACHMENT_XOUT:235,RELATED_PAGE_POSTS_UNIT_XOUT:236,STORY:301,PERMALINK_STORY:302,UNUSED:-1};}),null);
__d("UFIAddCommentActionType",[],(function a(b,c,d,e,f,g){f.exports={CANCEL:"add_comment_cancel",CHANGE_CONTENT:"add_comment_change_content",RETRY_SUBMIT:"add_comment_retry_submit",SUBMIT_EDIT:"add_comment_submit_edit",SUBMIT_NEW:"add_comment_submit_new"};}),null);
__d("UFICommentActionType",[],(function a(b,c,d,e,f,g){f.exports={CHANGE_REACTION:"comment_change_reaction",CHANGE_REACTION_FAILURE:"comment_change_reaction_failure",CHANGE_REACTION_SUCCESS:"comment_change_reaction_success",CHANGE_VISIBILITY:"comment_change_visibility",EDIT:"comment_edit",EMBED:"embed",DELETE_COMMENT_AND_REMOVE_COMMENTER:"comment_delete_and_commenter_remove",MANAGE_CONSTITUENT_BADGE:"comment_manage_constituent_badge",MOUNTED:"comment_mounted",MUTE_MEMBER:"commenter_muted",REMOVE:"comment_remove",REMOVE_PREVIEW:"comment_remove_preview",TOGGLE_INLINE_BAN:"comment_toggle_inline_ban",TOGGLE_LIKE:"comment_toggle_like",TOGGLE_MARK_AS_SPAM:"comment_toggle_mark_as_spam",TOGGLE_KEEP_SPAM:"comment_toggle_keep_spam",TOGGLE_APPEAL_SPAM:"comment_toggle_appeal_spam",TOGGLE_SECURE_ACCOUNT:"comment_toggle_secure_account",TRANSLATE:"comment_translate",TRANSLATE_ARRAY:"comment_translate_array",UNMOUNTED:"comment_unmounted"};}),null);
__d('dangerouslyBypassDispatchError',[],(function a(b,c,d,e,f,g){'use strict';function h(i){for(var j=arguments.length,k=Array(j>1?j-1:0),l=1;l<j;l++)k[l-1]=arguments[l];setTimeout(function(){i.apply(null,k);},0);}f.exports=h;}),null);
__d("ScriptPathState",["Arbiter"],(function a(b,c,d,e,f,g){var h,i,j,k,l=100,m={setIsUIPageletRequest:function n(o){j=o;},setUserURISampleRate:function n(o){k=o;},reset:function n(){h=null;i=false;j=false;},_shouldUpdateScriptPath:function n(){return i&&!j;},_shouldSendURI:function n(){return Math.random()<k;},getParams:function n(){var o={};if(m._shouldUpdateScriptPath()){if(m._shouldSendURI()&&h!==null)o.user_uri=h.substring(0,l);}else o.no_script_path=1;return o;}};c("Arbiter").subscribe("pre_page_transition",function(n,o){i=true;h=o.to.getUnqualifiedURI().toString();});f.exports=b.ScriptPathState=m;}),null);
__d('AjaxPipeRequest',['Arbiter','AsyncRequest','AsyncRequestConfig','BigPipe','CSS','DOM','Env','PageEvents','PageletSet','PageNavigationStageLogger','ScriptPathState','URI','containsNode','ge','goOrReplace','performance','performanceAbsoluteNow','PageletGK'],(function a(b,c,d,e,f,g){var h=c('PageletGK').destroyDomAfterEventHandler,i,j=0;function k(n,o){var p=c('ge')(n);if(!p)return;if(!o)p.style.minHeight='100px';var q=c('PageletSet').getPageletIDs();for(var r=0;r<q.length;r++){var s=q[r];if(c('containsNode')(p,c('ge')(s)))c('PageletSet').removePagelet(s);}c('Arbiter').inform(c('PageEvents').AJAXPIPE_ONBEFORECLEARCANVAS,{canvasID:n});if(h){c('Arbiter').inform('pagelet/destroy',{id:null,root:p});c('DOM').empty(p);}else{c('DOM').empty(p);c('Arbiter').inform('pagelet/destroy',{id:null,root:p});}}function l(n,o){var p=c('ge')(n);if(p&&!o)p.style.minHeight='100px';}function m(n,o){'use strict';this._uri=n;this._query_data=o;this._request=new (c('AsyncRequest'))();this._request.disableArtilleryTracing();this._canvas_id=null;this._allow_cross_page_transition=true;this._arbiter=new (c('Arbiter'))();this._requestID=j++;}m.prototype.setCanvasId=function(n){'use strict';this._canvas_id=n;return this;};m.prototype.setURI=function(n){'use strict';this._uri=n;return this;};m.prototype.setData=function(n){'use strict';this._query_data=n;return this;};m.prototype.getData=function(n){'use strict';return this._query_data;};m.prototype.setAllowCrossPageTransition=function(n){'use strict';this._allow_cross_page_transition=n;return this;};m.prototype.setAppend=function(n){'use strict';this._append=n;return this;};m.prototype.getAsyncRequestType=function(){'use strict';if(c('AsyncRequestConfig').useFetchStreamAjaxPipeTransport)return 'useFetchWithIframeFallback';return 'useIframeTransport';};m.prototype.send=function(){'use strict';this._arbiter.inform(c('PageEvents').AJAXPIPE_SEND,{rid:this._requestID,quickling:!!this._isQuickling,ts:c('performanceAbsoluteNow')()},c('Arbiter').BEHAVIOR_PERSISTENT);var n={ajaxpipe:1,ajaxpipe_token:c('Env').ajaxpipe_token};Object.assign(n,c('ScriptPathState').getParams());c('ScriptPathState').reset();this._request.setOption(this.getAsyncRequestType(),true).setURI(this._uri).setData(Object.assign(n,this._query_data)).setPreBootloadHandler(this._preBootloadHandler.bind(this)).setInitialHandler(this._onInitialResponse.bind(this)).setHandler(this._onResponse.bind(this)).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(this._allow_cross_page_transition).setAllowIrrelevantRequests(this._allowIrrelevantRequests);if(this._automatic){this._relevantRequest=i;}else i=this._request;if(this._isQuickling){var o=c('performance').clearResourceTimings||c('performance').webkitClearResourceTimings;if(o)o.call(c('performance'));}this._request.send();return this;};m.prototype._preBootloadFirstResponse=function(n){'use strict';return false;};m.prototype._fireDomContentCallback=function(){'use strict';this._arbiter.inform(c('PageEvents').AJAXPIPE_DOMREADY,true,c('Arbiter').BEHAVIOR_STATE);};m.prototype._fireOnloadCallback=function(){'use strict';if(window.console&&console.timeStamp)console.timeStamp('perf_trace {"name": "e2e",'+' "parent": "PageEvents.AJAXPIPE_ONLOAD"}');this._arbiter.inform(c('PageEvents').AJAXPIPE_ONLOAD,{lid:this.pipe.lid,rid:this._requestID,ts:c('performanceAbsoluteNow')()},c('Arbiter').BEHAVIOR_STATE);};m.prototype._isRelevant=function(n){'use strict';return this._request==i||this._automatic&&this._relevantRequest==i||this._jsNonBlock||i&&i._allowIrrelevantRequests;};m.prototype._preBootloadHandler=function(n){'use strict';var o=n.getPayload();if(!o||o.redirect||!this._isRelevant(n))return false;var p=false;if(n.is_first){!this._append&&!this._displayCallback&&k(this._canvas_id,this._constHeight);p=this._preBootloadFirstResponse(n);this.pipe=new (c('BigPipe'))({__sf:n.__sf,arbiter:this._arbiter,rootNodeID:this._canvas_id,lid:this._request.lid,rid:this._requestID,isAjax:true,domContentCallback:this._fireDomContentCallback.bind(this),onloadCallback:this._fireOnloadCallback.bind(this),domContentEvt:c('PageEvents').AJAXPIPE_DOMREADY,onloadEvt:c('PageEvents').AJAXPIPE_ONLOAD,jsNonBlock:this._jsNonBlock,automatic:this._automatic,displayCallback:this._displayCallback,allowIrrelevantRequests:this._allowIrrelevantRequests});}return p;};m.prototype._redirect=function(n){'use strict';if(n.redirect){if(n.force||!this.isPageActive(n.redirect)){var o=['ajaxpipe','ajaxpipe_token'].concat(this.getSanitizedParameters());c('PageNavigationStageLogger').setCookieForNavigation(n.redirect);c('PageNavigationStageLogger').setNote('ajaxpipe_redirect');c('PageNavigationStageLogger').updateCookie();c('goOrReplace')(window.location,new (c('URI'))(n.redirect).removeQueryData(o),true);}else{var p=b.PageTransitions;p.go(n.redirect,true);}return true;}else return false;};m.prototype.isPageActive=function(n){'use strict';return true;};m.prototype.getSanitizedParameters=function(){'use strict';return [];};m.prototype._versionCheck=function(n){'use strict';return true;};m.prototype._onInitialResponse=function(n){'use strict';var o=n.getPayload();if(!this._isRelevant(n))return false;if(!o)return true;if(this._redirect(o)||!this._versionCheck(o))return false;return true;};m.prototype._processFirstResponse=function(n){'use strict';var o=n.getPayload();if(c('ge')(this._canvas_id)&&o.canvas_class!=null)c('CSS').setClass(this._canvas_id,o.canvas_class);};m.prototype.setFirstResponseCallback=function(n){'use strict';this._firstResponseCallback=n;return this;};m.prototype.setFirstResponseHandler=function(n){'use strict';this._processFirstResponse=n;return this;};m.prototype._onResponse=function(n){'use strict';var o=n.payload;if(!this._isRelevant(n))return c('AsyncRequest').suppressOnloadToken;if(n.is_first){this._processFirstResponse(n);this._firstResponseCallback&&this._firstResponseCallback();o.provides=o.provides||[];o.provides.push('uipage_onload');}if(o){if('content' in o.content&&this._canvas_id!==null){if(this._append)o.append=this._canvas_id;var p=o.content.content;delete o.content.content;o.content[this._canvas_id]=p;}if(o.secondFlushPayload){this.pipe.setSecondFlushPayload(o.secondFlushPayload);}else this.pipe.onPageletArrive(o);}if(n.is_last)l(this._canvas_id,this._constHeight);return c('AsyncRequest').suppressOnloadToken;};m.prototype.setNectarModuleDataSafe=function(n){'use strict';this._request.setNectarModuleDataSafe(n);return this;};m.prototype.setFinallyHandler=function(n){'use strict';this._request.setFinallyHandler(n);return this;};m.prototype.setErrorHandler=function(n){'use strict';this._request.setErrorHandler(n);return this;};m.prototype.setTransportErrorHandler=function(n){'use strict';this._request.setTransportErrorHandler(n);return this;};m.prototype.abort=function(){'use strict';this._request.abort();if(i==this._request)i=null;this._request=null;return this;};m.prototype.setJSNonBlock=function(n){'use strict';this._jsNonBlock=n;return this;};m.prototype.setAutomatic=function(n){'use strict';this._automatic=n;return this;};m.prototype.setDisplayCallback=function(n){'use strict';this._displayCallback=n;return this;};m.prototype.setConstHeight=function(n){'use strict';this._constHeight=n;return this;};m.prototype.setAllowIrrelevantRequests=function(n){'use strict';this._allowIrrelevantRequests=n;return this;};m.prototype.getAsyncRequest=function(){'use strict';return this._request;};m.getCurrentRequest=function(){'use strict';return i;};m.setCurrentRequest=function(n){'use strict';i=n;};f.exports=m;}),null);
__d("UIPageletContentCache",[],(function a(b,c,d,e,f,g){var h={cache:{},getContent:function i(j){if(j in this.cache)return this.cache[j];return null;},setContent:function i(j,k){this.cache[j]=k;}};f.exports=h;}),null);
__d('UIPagelet',['ActorURI','AjaxPipeRequest','AsyncRequest','DOM','HTML','ScriptPathState','UIPageletContentCache','URI','emptyFunction','ge','isElementNode'],(function a(b,c,d,e,f,g){function h(i,j,k){'use strict';var l=i&&c('isElementNode')(i)?i.id:i;this._id=l||null;this._element=c('ge')(i||c('DOM').create('div'));this._src=j||null;this._context_data=k||{};this._data={};this._handler=c('emptyFunction');this._request=null;this._use_ajaxpipe=false;this._use_post_request=false;this._is_bundle=true;this._allow_cross_page_transition=false;this._append=false;this._cache_content=false;this._content_cache_key='';}h.prototype.getElement=function(){'use strict';return this._element;};h.prototype.setHandler=function(i){'use strict';this._handler=i;return this;};h.prototype.go=function(i,j){'use strict';if(arguments.length>=2||typeof i=='string'){this._src=i;this._data=j||{};}else if(arguments.length==1)this._data=i;this.refresh();return this;};h.prototype.setAllowCrossPageTransition=function(i){'use strict';this._allow_cross_page_transition=i;return this;};h.prototype.setBundleOption=function(i){'use strict';this._is_bundle=i;return this;};h.prototype.setErrorHandler=function(i){'use strict';this._errorHandler=i;return this;};h.prototype.setTransportErrorHandler=function(i){'use strict';this.transportErrorHandler=i;return this;};h.prototype.refresh=function(){'use strict';if(this._use_ajaxpipe){c('ScriptPathState').setIsUIPageletRequest(true);this._request=new (c('AjaxPipeRequest'))();this._request.setCanvasId(this._id).setAppend(this._append).setConstHeight(this._constHeight).setJSNonBlock(this._jsNonblock).setAutomatic(this._automatic).setDisplayCallback(this._displayCallback).setFinallyHandler(this._finallyHandler).setAllowIrrelevantRequests(this._allowIrrelevantRequests);if(this._errorHandler)this._request.setErrorHandler(this._errorHandler);if(this.transportErrorHandler)this._request.setTransportErrorHandler(this.transportErrorHandler);}else{if(this._cache_content){var i=c('UIPageletContentCache').getContent(this._content_cache_key);if(i!==null){this.handleContent(i);return this;}}var j=function(n){this._request=null;var o=c('HTML')(n.getPayload());this.handleContent(o);if(this._cache_content)c('UIPageletContentCache').setContent(this._content_cache_key,o);}.bind(this),k=this._displayCallback,l=this._finallyHandler;this._request=new (c('AsyncRequest'))().setMethod('GET').setReadOnly(true).setOption('bundle',this._is_bundle).setHandler(function(n){if(k){k(j.bind(null,n));}else j(n);l&&l();});if(this._errorHandler)this._request.setErrorHandler(this._errorHandler);if(this.transportErrorHandler)this._request.setTransportErrorHandler(this.transportErrorHandler);if(this._use_post_request)this._request.setMethod('POST');}var m=babelHelpers['extends']({},this._context_data,this._data);if(this._actorID)m[c('ActorURI').PARAMETER_ACTOR]=this._actorID;this._request.setURI(this._src).setAllowCrossPageTransition(this._allow_cross_page_transition).setData({data:JSON.stringify(m)}).send();return this;};h.prototype.handleContent=function(i){'use strict';if(this._append){c('DOM').appendContent(this._element,i);}else c('DOM').setContent(this._element,i);this._handler();};h.prototype.cancel=function(){'use strict';if(this._request)this._request.abort();};h.prototype.setUseAjaxPipe=function(i){'use strict';this._use_ajaxpipe=!!i;return this;};h.prototype.setUsePostRequest=function(i){'use strict';this._use_post_request=!!i;return this;};h.prototype.setAppend=function(i){'use strict';this._append=!!i;return this;};h.prototype.setJSNonBlock=function(i){'use strict';this._jsNonblock=!!i;return this;};h.prototype.setAutomatic=function(i){'use strict';this._automatic=!!i;return this;};h.prototype.setDisplayCallback=function(i){'use strict';this._displayCallback=i;return this;};h.prototype.setConstHeight=function(i){'use strict';this._constHeight=!!i;return this;};h.prototype.setFinallyHandler=function(i){'use strict';this._finallyHandler=i;return this;};h.prototype.setAllowIrrelevantRequests=function(i){'use strict';this._allowIrrelevantRequests=i;return this;};h.prototype.setActorID=function(i){'use strict';this._actorID=i;return this;};h.prototype.setCacheContent=function(i){'use strict';this._cache_content=i;return this;};h.prototype.setContentCacheKey=function(i){'use strict';this._content_cache_key=i;return this;};h.appendToInline=function(i,j){'use strict';var k=c('ge')(i),l=c('ge')(j);if(k&&l){while(l.firstChild)c('DOM').appendContent(k,l.firstChild);c('DOM').remove(l);}};h.loadFromEndpoint=function(i,j,k,l){'use strict';l=l||{};var m='/ajax/pagelet/generic.php/'+i;if(l.intern)m='/intern'+m;var n=new (c('URI'))(m.replace(/\/+/g,'/'));if(l.subdomain)n.setSubdomain(l.subdomain);var o=false,p='';if(l.contentCacheKey){o=true;p=i+','+String(l.contentCacheKey);}var q=new h(j,n,k).setUseAjaxPipe(l.usePipe).setBundleOption(l.bundle!==false).setAppend(l.append).setJSNonBlock(l.jsNonblock).setAutomatic(l.automatic).setDisplayCallback(l.displayCallback).setConstHeight(l.constHeight).setAllowCrossPageTransition(l.crossPage).setFinallyHandler(l.finallyHandler||c('emptyFunction')).setErrorHandler(l.errorHandler).setTransportErrorHandler(l.transportErrorHandler).setAllowIrrelevantRequests(l.allowIrrelevantRequests).setActorID(l.actorID).setCacheContent(o).setContentCacheKey(p).setUsePostRequest(l.usePostRequest);l.handler&&q.setHandler(l.handler);q.go();return q;};h.loadFromEndpointBatched=function(i,j,k){'use strict';var l=i.slice(0,k),m=i.slice(k);if(m.length>0){var n=l[l.length-1],o=c('emptyFunction');if(n.options&&n.options.finallyHandler)o=n.options.finallyHandler;n.options=babelHelpers['extends']({},n.options,{finallyHandler:function p(){o();window.setTimeout(function(){h.loadFromEndpointBatched(m,j,k);},1);}});}l.forEach(function(p){h.loadFromEndpoint(p.controller,p.target_element,p.data,babelHelpers['extends']({},p.options,j,{bundle:true}));});};f.exports=h;}),null);
__d('AppsDivebarDisplayController',['cx','AppsDivebarConfigData','AsyncRequest','Arbiter','CSS','UIPagelet','$'],(function a(b,c,d,e,f,g,h){var i=171,j={isVisible:function k(){if(this._visible!==undefined)return this._visible;this._visible=!c('AppsDivebarConfigData').hidden;return this._visible;},showApps:function k(){this._visible=true;var l={fb_source_category:'sidebar'};c('UIPagelet').loadFromEndpoint('GamesDivebarPagelet','pagelet_canvas_nav_content',l);c('CSS').show(c('$')('apps_gripper'));c('CSS').show(c('$')('pagelet_canvas_nav_content'));c('CSS').addClass(c('$')('pagelet_canvas_nav_content'),"_4woj");c('Arbiter').inform('AppsDivebar/show-apps');new (c('AsyncRequest'))('/ajax/feed/apps/resize').setData({height:''+i,menu:true}).setMethod('POST').send();},hideApps:function k(){this._visible=false;c('CSS').hide(c('$')('pagelet_canvas_nav_content'));c('CSS').hide(c('$')('apps_gripper'));c('Arbiter').inform('AppsDivebar/hide-apps');new (c('AsyncRequest'))('/ajax/feed/apps/resize').setData({height:'1',menu:true}).setMethod('POST').send();}};f.exports=j;}),null);
__d('ChatQuietLinks',['DataStore','DOM','Event','Parent','UserAgent_DEPRECATED','getOrCreateDOMID'],(function a(b,c,d,e,f,g){var h={},i={silenceLinks:function m(n){j(n,this.removeEmptyHrefs.bind(this));},nukeLinks:function m(n){j(n,this.removeAllHrefs.bind(this));},removeEmptyHrefs:function m(n){k(n,function(o){return !o||o==='#';});},removeAllHrefs:function m(n){k(n);}};function j(m,n){var o=!!c('UserAgent_DEPRECATED').chrome(),p=!!c('UserAgent_DEPRECATED').chrome()||c('UserAgent_DEPRECATED').ie()>=9||c('UserAgent_DEPRECATED').firefox()>=4;if(h[c('getOrCreateDOMID')(m)])return;h[c('getOrCreateDOMID')(m)]=true;if(!p)return;if(!o){n&&n(m);return;}c('Event').listen(m,'mouseover',function q(r){var s=c('Parent').byTag(r.getTarget(),'a');if(s){var t=s.getAttribute('href');if(l(t)){c('DataStore').set(s,'stashedHref',s.getAttribute('href'));s.removeAttribute('href');}}});c('Event').listen(m,'mouseout',function q(r){var s=c('Parent').byTag(r.getTarget(),'a'),t=s&&c('DataStore').remove(s,'stashedHref');if(l(t))s.setAttribute('href',t);});c('Event').listen(m,'mousedown',function(q){if(!q.isDefaultRequested())return true;var r=c('Parent').byTag(q.getTarget(),'a'),s=r&&c('DataStore').get(r,'stashedHref');if(l(s))r.setAttribute('href',s);});}function k(m,n){var o=c('DOM').scry(m,'a');if(n)o=o.filter(function(p){return n(p.getAttribute('href'));});o.forEach(function(p){p.removeAttribute('href');if(!p.tabIndex)p.setAttribute('tabindex',0);});}function l(m){return m&&m!=='#';}f.exports=i;}),null);
__d("XNotificationsOptionsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/notifications\/feedback\/option\/",{notif_id:{type:"Int",required:true},undo:{type:"Bool",defaultValue:false},server_action:{type:"String",required:true},biz_user_id:{type:"Int"}});}),null);
__d('NotificationUserActions',['AsyncRequest','Bootloader','BusinessUserConf','NotificationConstants','NotificationTokens','NotificationUpdates','XNotificationsOptionsController','createObjectFrom','emptyFunction'],(function a(b,c,d,e,f,g){var h=c('NotificationConstants').PayloadSourceType.USER_ACTION,i=false;function j(n){n.biz_user_id=c('BusinessUserConf').biz_user_id;new (c('AsyncRequest'))('/ajax/notifications/mark_read.php').setData(n).setAllowCrossPageTransition(true).send();}function k(n){var o={};n.forEach(function(p,q){o['alert_ids['+q+']']=p;});return o;}function l(n,o,p,q,r){var s=c('XNotificationsOptionsController').getURIBuilder().setInt('notif_id',c('NotificationTokens').untokenizeIDs([n])[0]).setInt('biz_user_id',c('BusinessUserConf').biz_user_id).setBool('undo',q).setString('server_action',r).getURI(),t=function u(v){if(!v.payload)throw new Error('No response from notif option!');c('NotificationUpdates').handleUpdate(h,{hiddenState:c('createObjectFrom')([n],!v.payload.visible)});if(v.payload)o(v.payload);};new (c('AsyncRequest'))(s).setHandler(t||c('emptyFunction')).setErrorHandler(p||c('emptyFunction')).send();}var m={markNotificationsAsSeen:function n(o){var p=document.getElementById('notificationsCountValue'),q=null;if(p)q=p.textContent;c('NotificationUpdates').handleUpdate(h,{seenState:c('createObjectFrom')(o)});var r=c('NotificationTokens').untokenizeIDs(o),s=k(r);s.seen=true;if(q)s.badgeCount=q;j(s);},setNextIsFromReadButton:function n(o){i=o;},markNotificationsAsRead:function n(o,p){c('NotificationUpdates').handleUpdate(h,{readState:c('createObjectFrom')(o,true)});var q=c('NotificationTokens').untokenizeIDs(o),r=k(q);if(i){r.from_read_button=true;i=false;}if(p)r.source_view=p;j(r);},markNotificationsAsUnread:function n(o,p){c('NotificationUpdates').handleUpdate(h,{readState:c('createObjectFrom')(o,false)});var q=c('NotificationTokens').untokenizeIDs(o),r=k(q);if(i){r.from_read_button=true;i=false;}r.unread=true;if(p)r.source_view=p;j(r);},markAllNotificationsAsRead:function n(){c('Bootloader').loadModules(["NotificationSeenState"],function(o){var p=o.getUnreadIDs();if(p.length>0)c('NotificationUpdates').handleUpdate(h,{readState:c('createObjectFrom')(p)});var q={read:true};if(i){q.from_read_button=true;i=false;}j(q);},'NotificationUserActions');},sendNotifOption:function n(o,p,q,r){l(o,p,q,false,r);},undoNotifOption:function n(o,p,q,r){l(o,p,q,true,r);}};f.exports=m;}),null);
__d('ReactDispatcher_DEPRECATED',['Dispatcher_DEPRECATED','ReactDOM'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('Dispatcher_DEPRECATED'));i=h&&h.prototype;j.prototype.dispatch=function(k){c('ReactDOM').unstable_batchedUpdates(function(){i.dispatch.call(this,k);}.bind(this));};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('UFIDispatcherBase',['invariant','ReactDispatcher_DEPRECATED','UFICommentActionType','dangerouslyBypassDispatchError'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;function k(n,o){return Object.values(o).indexOf(n)>=0;}function l(n,o,p){n[o]||h(0);}i=babelHelpers.inherits(m,c('ReactDispatcher_DEPRECATED'));j=i&&i.prototype;m.prototype.dispatch=function(n){l(n,'instanceID','contextArgs.instanceid');l(n,'ftentidentifier','contextArgs.ftentidentifier');if(k(n.type,c('UFICommentActionType')))l(n,'fbid','comment.fbid');try{j.dispatch.call(this,n);}catch(o){c('dangerouslyBypassDispatchError')(function(){return j.dispatch.call(this,n);}.bind(this));}};function m(){i.apply(this,arguments);}f.exports=new m();}),null);
__d('UFIUIEvents',[],(function a(b,c,d,e,f,g){'use strict';var h='UFIUIEvents/ufiActionAddComment',i='UFIUIEvents/ufiActionLinkLike',j='ufi/blur',k='ufi/changed',l='ufi/comment',m='CommentUFI.Pager',n='ufi/focus',o='ufi/inputHeightChanged',p='ufi/page_cleared',q='ufi/photoPreviewHightChanged',r='ufi/translationRendered',s='ufi/reactionButtonClicked',t='ufi/autoplayLiveComments',u={ActionAddComment:h,ActionLinkLike:i,AutoplayLiveComments:t,Blur:j,Changed:k,Comment:l,CommentPager:m,Focus:n,InputHeightChanged:o,PageCleared:p,PhotoPreviewHeightChanged:q,TranslationRendered:r,ReactionButtonClicked:s};f.exports=u;}),null);
__d('UFIKeyValueStore',['FluxReduceStore','abstractMethod'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxReduceStore'));i=h&&h.prototype;j.prototype.getInitialState=function(){return {};};j.prototype.getValueFor=function(k){return this.getState()[k]||null;};j.prototype.getStateKey=function(k){return k.instanceID;};j.prototype.getStateValue=function(k){return c('abstractMethod')('UFIKeyValueStore','getStateValue');};j.prototype.reduce=function(k,l){var m=this.getStateKey(l),n=this.getStateValue(l);if(n!==null){var o;return babelHelpers['extends']({},k,(o={},o[m]=n,o));}return k;};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('UFIComposerIsTypingStore',['UFIAddCommentActionType','UFIDispatcherBase','UFIKeyValueStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('UFIKeyValueStore'));i=h&&h.prototype;j.prototype.getStateKey=function(k){return k.ftentidentifier;};j.prototype.getStateValue=function(k){switch(k.type){case c('UFIAddCommentActionType').SUBMIT_EDIT:return false;case c('UFIAddCommentActionType').SUBMIT_NEW:return false;case c('UFIAddCommentActionType').CHANGE_CONTENT:var l=k.text.trim().length;return l>0;}return null;};function j(){h.apply(this,arguments);}f.exports=new j(c('UFIDispatcherBase'));}),null);
__d('ConversationNub',['csx','cx','Arbiter','ConversationNubHeader','ConversationNubTabState','ConversationNubTabsUpdateEventController','ConversationNubUtils','CSS','DOM','EventListener','NotificationUserActions','PinnedConversationNubsConfig','SubscriptionsHandler','UFIComposerIsTypingStore','URI','containsNode','debounce','guid'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('ConversationNubTabsUpdateEventController').minimizeAndInformTabUpdate,k=c('ConversationNubTabsUpdateEventController').popOutAndInformTabUpdate,l=c('ConversationNubTabState'),m=10,n=500,o=100;p.createDefaultState=function(q,r,s,t,u,v){return {tabID:q,permalinkURI:r?new (c('URI'))(r):null,ftID:s,notifAlertID:t,notificationType:u,title:v,keepAtBottom:false,isTabRaised:false,isBlinkingUnread:false,badgeCount:0,allSeenNewComments:{},unseenCommentsSinceLastCleared:{},hasFakeInitBadge:false};};function p(q,r,s,t){var u=arguments.length<=4||arguments[4]===undefined?false:arguments[4],v=arguments.length<=5||arguments[5]===undefined?false:arguments[5];this.$ConversationNub13=false;this.$ConversationNub14=false;this.$ConversationNub1=q;this.$ConversationNub12=r;this.$ConversationNub5=c('guid')();this.$ConversationNub7=null;this.$ConversationNub8=false;this.$ConversationNub9=null;this.$ConversationNub10=u;this.$ConversationNub11=v;this.$ConversationNub15=t;this.$ConversationNub6=new (c('SubscriptionsHandler'))();this.$ConversationNub16();this.$ConversationNub17();if(s!=null)l.modifyTabState(this.$ConversationNub12,function(w){if(s){w.hasFakeInitBadge=false;}else{w.hasFakeInitBadge=true;this.$ConversationNub18(1);this.$ConversationNub19(true);}}.bind(this));this.$ConversationNub20();}p.prototype.$ConversationNub20=function(){this.$ConversationNub21();this.$ConversationNub22();c('ConversationNubUtils').informShouldRecheckTabVisibility(this);this.forceReflow();};p.prototype.getPersistentState=function(){return l.getTabState(this.$ConversationNub12);};p.prototype.getPersistentStateIfExists=function(){return l.getTabStateIfExists(this.$ConversationNub12);};p.prototype.$ConversationNub16=function(){var q=this.$ConversationNub23();if(q){this.$ConversationNub6.addSubscriptions(c('EventListener').listen(q,'click',this.$ConversationNub24.bind(this)),c('EventListener').listen(q,'mouseenter',this.$ConversationNub25.bind(this)),c('EventListener').listen(q,'mouseleave',this.$ConversationNub26.bind(this)));var r=c('ConversationNubUtils').getCloseButtonElem(q);if(r)c('ConversationNubUtils').addCloseButtonListeners(r,this.$ConversationNub6,this.$ConversationNub27.bind(this));}var s=this.$ConversationNub28();if(s){l.modifyTabState(this.$ConversationNub12,function(u){u.keepAtBottom=true;});this.$ConversationNub6.addSubscriptions(c('EventListener').listen(s,'scroll',c('debounce')(this.$ConversationNub29.bind(this),o)),c('Arbiter').subscribe('reflow',this.$ConversationNub30.bind(this)));}var t=this.$ConversationNub31();if(t)this.$ConversationNub6.addSubscriptions(c('EventListener').listen(t,'focusin',this.$ConversationNub32.bind(this,true)),c('EventListener').listen(t,'focusout',this.$ConversationNub32.bind(this,false)));};p.prototype.$ConversationNub17=function(){var q=this.$ConversationNub33();if(!q){this.$ConversationNub2=null;return;}var r=function(){var t=this.getPersistentState();return {permalinkURI:t.permalinkURI,ftID:t.ftID,tabID:t.tabID};}.bind(this),s=new (c('ConversationNubHeader'))(q,r);this.$ConversationNub6.addSubscriptions(s.subscribe('closeButton',this.$ConversationNub27.bind(this)),s.subscribe('showMenu',this.$ConversationNub34.bind(this)),s.subscribe('hideMenu',this.$ConversationNub35.bind(this)),s.subscribe('minimizeButton',this.$ConversationNub36.bind(this,true)),s.subscribe('clickHeader',this.$ConversationNub36.bind(this,true)),s.subscribe('menuPermalinkClick',this.$ConversationNub36.bind(this,false)),c('UFIComposerIsTypingStore').addListener(function(){var t=this.getPersistentStateIfExists();if(!t)return;var u=this.$ConversationNub14,v=c('UFIComposerIsTypingStore').getValueFor(t.ftID);this.$ConversationNub14=v===true;if(u!==this.$ConversationNub14)c('ConversationNubTabsUpdateEventController').informTabsUpdated();}.bind(this)));this.$ConversationNub2=s;};p.prototype.$ConversationNub33=function(){return this.$ConversationNub1&&c('DOM').scry(this.$ConversationNub1,".fbNubFlyoutTitlebar")[0];};p.prototype.$ConversationNub23=function(){return this.$ConversationNub1&&c('DOM').scry(this.$ConversationNub1,".fbNubButton")[0];};p.prototype.$ConversationNub28=function(){if(!this.$ConversationNub3&&this.$ConversationNub1)this.$ConversationNub3=c('DOM').scry(this.$ConversationNub1,".uiScrollableAreaWrap")[0];return this.$ConversationNub3;};p.prototype.$ConversationNub31=function(){if(!this.$ConversationNub4&&this.$ConversationNub1)this.$ConversationNub4=c('DOM').scry(this.$ConversationNub1,".fbNubFlyoutBodyContent")[0];return this.$ConversationNub4;};p.prototype.$ConversationNub37=function(){var q=this.$ConversationNub23();if(q)return c('DOM').scry(q,"._37op")[0];return null;};p.prototype.$ConversationNub27=function(){c('ConversationNubUtils').informShouldCloseTab(this.$ConversationNub12,this.getFeedbackTargetID(),c('ConversationNubUtils').CLOSE_REASON_TAB_X_OUT);};p.prototype.$ConversationNub36=function(q){j(this,q);};p.prototype.$ConversationNub34=function(){this.$ConversationNub1&&c('CSS').addClass(this.$ConversationNub1,"_1uw3");};p.prototype.$ConversationNub35=function(){this.$ConversationNub1&&c('CSS').removeClass(this.$ConversationNub1,"_1uw3");};p.prototype.$ConversationNub24=function(){if(this.getPersistentState().isTabRaised){j(this,true);}else k(this,true);};p.prototype.$ConversationNub25=function(){if(this.getPersistentState().isBlinkingUnread)this.$ConversationNub9=new Date();};p.prototype.$ConversationNub26=function(){var q=this.$ConversationNub9;if(q&&this.getPersistentState().isBlinkingUnread){var r=new Date();if(r-q>=n)this.$ConversationNub19(false);}this.$ConversationNub9=null;};p.prototype.$ConversationNub38=function(){var q=this.$ConversationNub28();if(q){var r=q.scrollHeight;if(r>0&&!this.$ConversationNub39(q)){this.$ConversationNub8=true;q.scrollTop=r;}}};p.prototype.$ConversationNub39=function(q){q=q||this.$ConversationNub28();return !!(q&&q.scrollTop>=q.scrollHeight-q.clientHeight-m);};p.prototype.$ConversationNub29=function(){if(!l.getTabStateIfExists(this.$ConversationNub12)||!this.getPersistentState().isTabRaised)return;l.modifyTabState(this.$ConversationNub12,function(q){q.keepAtBottom=this.$ConversationNub39();c('ConversationNubUtils').informShouldRecheckTabVisibility(this);}.bind(this));if(!this.$ConversationNub8)this.clearJewelNotifications();this.$ConversationNub8=false;};p.prototype.$ConversationNub32=function(q){if(this.$ConversationNub13===q)return;this.$ConversationNub13=q;if(this.$ConversationNub13)this.clearJewelNotifications();c('ConversationNubTabsUpdateEventController').informTabsUpdated();};p.prototype.getIsFocused=function(){return this.$ConversationNub13;};p.prototype.getPageID=function(){return this.$ConversationNub15;};p.prototype.getHasText=function(){return this.$ConversationNub14;};p.prototype.$ConversationNub30=function(){var q=this.getPersistentState();if(!q.isTabRaised)return;if(q.keepAtBottom){this.$ConversationNub38();this.$ConversationNub7&&clearTimeout(this.$ConversationNub7);this.$ConversationNub7=setTimeout(function(){if(q.keepAtBottom)this.$ConversationNub38();}.bind(this),100);}};p.prototype.$ConversationNub18=function(q){l.modifyTabState(this.$ConversationNub12,function(r){r.badgeCount=q;this.$ConversationNub21();}.bind(this));};p.prototype.$ConversationNub19=function(q){l.modifyTabState(this.$ConversationNub12,function(r){r.isBlinkingUnread=q;this.$ConversationNub22();}.bind(this));};p.prototype.$ConversationNub21=function(){var q=this.$ConversationNub37();if(!q)return;var r=this.getPersistentState().badgeCount,s=r>0;if(s){c('DOM').setContent(q,r);c('CSS').show(q);}else{c('CSS').hide(q);c('DOM').setContent(q,r);}};p.prototype.$ConversationNub22=function(){if(this.$ConversationNub1){var q=this.getPersistentState().isBlinkingUnread;if(this.$ConversationNub1)c('CSS').conditionClass(this.$ConversationNub1,"_53tf",q);}};p.prototype.getRootDOM=function(){return this.$ConversationNub1;};p.prototype.getShouldShowIntroNux=function(){return this.$ConversationNub10;};p.prototype.getShouldShowHideNux=function(){return this.$ConversationNub11;};p.prototype.getTabID=function(){return this.$ConversationNub12;};p.prototype.getNotificationAlertID=function(){return this.getPersistentState().notifAlertID;};p.prototype.getNotificationType=function(){return this.getPersistentState().notificationType;};p.prototype.setNotificationType=function(q){l.modifyTabState(this.$ConversationNub12,function(r){r.notificationType=q;});};p.prototype.getFeedbackTargetID=function(){return this.getPersistentState().ftID;};p.prototype.getPermalinkURI=function(){return this.getPersistentState().permalinkURI;};p.prototype.getTitle=function(){return this.getPersistentState().title;};p.prototype.getBadgeCount=function(){return this.getPersistentState().badgeCount;};p.prototype.getIsRaised=function(){return this.getPersistentState().isTabRaised;};p.prototype.getSessionID=function(){return this.$ConversationNub5;};p.prototype.markCommentsAsSeenWithoutBadging=function(q){l.modifyTabState(this.$ConversationNub12,function(r){q.forEach(function(s){r.allSeenNewComments[s]=true;});});};p.prototype.attemptAddNewCommentsToBadge=function(q){l.modifyTabState(this.$ConversationNub12,function(r){q.forEach(function(u){if(r.allSeenNewComments[u])return;r.allSeenNewComments[u]=true;r.unseenCommentsSinceLastCleared[u]=true;});var s=Object.keys(r.unseenCommentsSinceLastCleared).length;if(r.hasFakeInitBadge)s+=1;var t=r.badgeCount;this.$ConversationNub18(s);this.$ConversationNub19(s>0&&s>t);}.bind(this));};p.prototype.clearBadge=function(){l.clearTabNotifications(this.$ConversationNub12);this.$ConversationNub21();this.$ConversationNub22();};p.prototype.clearJewelNotifications=function(){if(c('PinnedConversationNubsConfig').sharedNotificationsReadStateEnabled){var q=this.getNotificationAlertID();if(q)c('NotificationUserActions').markNotificationsAsRead([q]);}};p.prototype.popOutAndInformTabUpdate=function(){this.popOut();c('ConversationNubTabsUpdateEventController').informTabsUpdated();};p.prototype.popOut=function(){l.modifyTabState(this.$ConversationNub12,function(q){if(this.$ConversationNub1)c('CSS').addClass(this.$ConversationNub1,"_5r93");q.isTabRaised=true;this.clearBadge();if(q.keepAtBottom)this.$ConversationNub38();}.bind(this));};p.prototype.minimize=function(){l.modifyTabState(this.$ConversationNub12,function(q){if(this.$ConversationNub1)c('CSS').removeClass(this.$ConversationNub1,"_5r93");q.isTabRaised=false;this.$ConversationNub2&&this.$ConversationNub2.hideMenu();this.clearBadge();}.bind(this));};p.prototype.forceReflow=function(){this.$ConversationNub30();};p.prototype.isFormForThisUFI=function(q){return this.$ConversationNub1&&c('containsNode')(this.$ConversationNub1,q);};p.prototype.destroy=function(){this.$ConversationNub6.release();this.$ConversationNub2&&this.$ConversationNub2.destroy();this.$ConversationNub2=null;this.$ConversationNub7&&clearTimeout(this.$ConversationNub7);this.minimize();if(this.$ConversationNub1){c('DOM').remove(this.$ConversationNub1);c('Arbiter').inform('ConversationNub/destroy',{root:this.$ConversationNub1});this.$ConversationNub1=null;}};f.exports=p;}),null);
__d("XConversationNubActionTakenController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ajax\/conversation\/nub_story\/action_taken\/",{});}),null);
__d('ConversationNubActionTakenReporter',['Arbiter','AsyncRequest','ConversationNubAddCommentSubscription','ConversationNubUtils','PinnedConversationNubsActionTaken','SubscriptionsHandler','XConversationNubActionTakenController'],(function a(b,c,d,e,f,g){'use strict';function h(){this.$ConversationNubActionTakenReporter2=function(i,j){this.$ConversationNubActionTakenReporter4(j,c('PinnedConversationNubsActionTaken').COMMENT_ADDED);}.bind(this);this.$ConversationNubActionTakenReporter3=function(event,i){var j=i.tabID,k=i.ftID,l=i.tabState,m=i.sessionID,n=i.reason;if(n===c('ConversationNubUtils').CLOSE_REASON_TAB_X_OUT||n===c('ConversationNubUtils').CLOSE_REASON_OVERFLOW_X_OUT||n===c('ConversationNubUtils').CLOSE_REASON_UNPIN)this.$ConversationNubActionTakenReporter4(k,c('PinnedConversationNubsActionTaken').TAB_CLOSED_BY_USER);}.bind(this);this.$ConversationNubActionTakenReporter1=new (c('SubscriptionsHandler'))(c('ConversationNubAddCommentSubscription').subscribe(this.$ConversationNubActionTakenReporter2),c('Arbiter').subscribe(c('ConversationNubUtils').CLOSE_TAB_EVENT,this.$ConversationNubActionTakenReporter3));}h.prototype.destroy=function(){this.$ConversationNubActionTakenReporter1.release();};h.prototype.$ConversationNubActionTakenReporter4=function(i,j){var k=c('XConversationNubActionTakenController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(k).setMethod('POST').setData({ft_id:i,action:j}).setAllowCrossPageTransition(true).send();};f.exports=h;}),null);
__d('ConversationNubAddCommentSubscription',['Arbiter','ConversationNubTabState','UFIUIEvents'],(function a(b,c,d,e,f,g){'use strict';function h(i){return c('Arbiter').subscribe(c('UFIUIEvents').Comment,function(j,k){var l=k.ft_id,m=k.form;if(!l||!m)return;var n=c('ConversationNubTabState').getLoadedTabByFeedbackTarget(l);if(n&&n.isFormForThisUFI(m))i(n,l);});}f.exports={subscribe:h};}),null);
__d('ConversationNubHeader',['csx','ArbiterMixin','Bootloader','ConversationNubUtils','DOM','Event','EventListener','Keys','SubscriptionsHandler','ifRequired','mixin'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;function k(m,n){return c('EventListener').listen(m,'keydown',function(o){if(c('Event').getKeyCode(o)===c('Keys').RETURN)n(o);});}i=babelHelpers.inherits(l,c('mixin')(c('ArbiterMixin')));j=i&&i.prototype;function l(m,n){j.constructor.call(this);this.$ConversationNubHeader6=false;this.$ConversationNubHeader1=m;this.$ConversationNubHeader3=n;this.$ConversationNubHeader4=null;this.$ConversationNubHeader5=false;this.$ConversationNubHeader2=new (c('SubscriptionsHandler'))();this.$ConversationNubHeader7();}l.prototype.$ConversationNubHeader7=function(){var m=this.$ConversationNubHeader1;this.$ConversationNubHeader2.addSubscriptions(c('EventListener').listen(m,'click',this.$ConversationNubHeader8.bind(this)));var n=c('ConversationNubUtils').getCloseButtonElem(m);if(n)c('ConversationNubUtils').addCloseButtonListeners(n,this.$ConversationNubHeader2,this.$ConversationNubHeader9.bind(this));var o=this.$ConversationNubHeader10();if(o)this.$ConversationNubHeader2.addSubscriptions(c('EventListener').listen(o,'click',this.$ConversationNubHeader11.bind(this)),k(o,this.$ConversationNubHeader11.bind(this)));var p=this.$ConversationNubHeader12();if(p)this.$ConversationNubHeader2.addSubscriptions(c('EventListener').listen(p,'click',this.$ConversationNubHeader13.bind(this)),c('EventListener').listen(p,'mouseover',this.$ConversationNubHeader14.bind(this)),c('EventListener').listen(p,'focus',this.$ConversationNubHeader15.bind(this)),k(p,this.$ConversationNubHeader16.bind(this)));};l.prototype.$ConversationNubHeader12=function(){return c('DOM').scry(this.$ConversationNubHeader1,"._1rf1")[0];};l.prototype.$ConversationNubHeader10=function(){return c('DOM').scry(this.$ConversationNubHeader1,"._4a56")[0];};l.prototype.$ConversationNubHeader17=function(){return c('ConversationNubUtils').getCloseButtonElem(this.$ConversationNubHeader1);};l.prototype.$ConversationNubHeader9=function(){this.inform('closeButton');};l.prototype.$ConversationNubHeader11=function(m){if(m.type==='click')m.kill();this.inform('minimizeButton');};l.prototype.$ConversationNubHeader8=function(){this.inform('clickHeader');};l.prototype.$ConversationNubHeader18=function(){this.inform('showMenu');};l.prototype.$ConversationNubHeader19=function(){this.inform('hideMenu');var m=this.$ConversationNubHeader12();m&&m.blur();};l.prototype.$ConversationNubHeader20=function(){this.inform('menuPermalinkClick');};l.prototype.$ConversationNubHeader21=function(m){if(this.$ConversationNubHeader4)return;var n=this.$ConversationNubHeader12();if(!n)return;if(m)this.$ConversationNubHeader5=true;c('Bootloader').loadModules(["React","ReactDOM","ConversationNubHeaderMenu.react"],function(o,p,q){if(this.$ConversationNubHeader6)return;var r=babelHelpers['extends']({},this.$ConversationNubHeader3(),{onMenuShow:this.$ConversationNubHeader18.bind(this),onMenuHide:this.$ConversationNubHeader19.bind(this),onPermalinkClick:this.$ConversationNubHeader20.bind(this),showOnMount:this.$ConversationNubHeader5});this.$ConversationNubHeader4=p.render(o.createElement(q,r),n);}.bind(this),'ConversationNubHeader');};l.prototype.$ConversationNubHeader13=function(m){m.kill();this.$ConversationNubHeader21(true);};l.prototype.$ConversationNubHeader14=function(){this.$ConversationNubHeader21(false);};l.prototype.$ConversationNubHeader15=function(){this.$ConversationNubHeader21(false);};l.prototype.$ConversationNubHeader16=function(){if(this.$ConversationNubHeader4){this.$ConversationNubHeader4.toggle();}else this.$ConversationNubHeader21(true);};l.prototype.hideMenu=function(){this.$ConversationNubHeader4&&this.$ConversationNubHeader4.hide();};l.prototype.destroy=function(){this.$ConversationNubHeader6=true;var m=this.$ConversationNubHeader12();if(m&&this.$ConversationNubHeader4)c('ifRequired')('ReactDOM',function(n){n.unmountComponentAtNode(m);});this.$ConversationNubHeader2.release();};f.exports=l;}),null);
__d('ConversationNubTabState',['invariant','ConversationNubTabStateList','PinnedConversationNubsConfig'],(function a(b,c,d,e,f,g,h){'use strict';function i(){this.$ConversationNubTabStateClass1=Object.create(null);this.$ConversationNubTabStateClass2=new (c('ConversationNubTabStateList'))();this.$ConversationNubTabStateClass3=Infinity;this.maxTabsLoaded=Infinity;if(c('PinnedConversationNubsConfig').numberOfTabsLimit&&c('PinnedConversationNubsConfig').numberOfTabsLimit>0)this.maxTabsLoaded=c('PinnedConversationNubsConfig').numberOfTabsLimit;}i.prototype.anyTabHasFocus=function(){return this.getUnsortedLoadedTabs().some(function(j){return j.getIsFocused();});};i.prototype.anyTabHasText=function(){return this.getUnsortedLoadedTabs().some(function(j){return j.getHasText();});};i.prototype.getTabState=function(j){return this.$ConversationNubTabStateClass2.getTabState(j);};i.prototype.getTabStateIfExists=function(j){return this.$ConversationNubTabStateClass2.getTabStateIfExists(j);};i.prototype.getUnloadedTabs=function(){var j=this.$ConversationNubTabStateClass2.getTabs().filter(function(k){return !this.getLoadedTab(k.tabID);}.bind(this));return j;};i.prototype.setMaxDockTabs=function(j){this.$ConversationNubTabStateClass3=j;};i.prototype.getNumDockTabs=function(){var j=this.$ConversationNubTabStateClass3,k=this.getTotalTabCount();return Math.min(j,k);};i.prototype.getNumMenuTabs=function(){return this.getTotalTabCount()-this.getNumDockTabs();};i.prototype.addTabState=function(j){this.$ConversationNubTabStateClass2.push(j);};i.prototype.addLoadedTab=function(j,k){var l=this.getTabState(j);if(!l)return;var m=this.getLoadedTab(j);if(m)return;this.$ConversationNubTabStateClass1[j]=k;this.$ConversationNubTabStateClass4();};i.prototype.getLoadedTab=function(j){return this.$ConversationNubTabStateClass1[j];};i.prototype.getLoadedTabByFeedbackTarget=function(j){return this.getLoadedTabs().find(function(k){return k.getPersistentState().ftID===j;});};i.prototype.isTabInDock=function(j){var k=this.getLoadedTab(j);if(!k)return false;var l=this.$ConversationNubTabStateClass5(k);return 0<=l&&l<this.getNumDockTabs();};i.prototype.clearTabNotifications=function(j){this.$ConversationNubTabStateClass2.modifyTabState(j,function(k){k.unseenCommentsSinceLastCleared={};k.hasFakeInitBadge=false;k.badgeCount=0;k.isBlinkingUnread=false;});};i.prototype.deleteTab=function(j){var k=this.getLoadedTab(j);if(k){delete this.$ConversationNubTabStateClass1[j];k.destroy();}this.$ConversationNubTabStateClass2.remove(j);return Boolean(k);};i.prototype.deleteAllTabs=function(){this.getUnsortedLoadedTabs().forEach(function(j){return this.deleteTab(j.getTabID());}.bind(this));};i.prototype.modifyTabState=function(j,k){return this.$ConversationNubTabStateClass2.modifyTabState(j,k);};i.prototype.moveTabToDockLeft=function(j){var k=this.getLoadedTab(j);if(!k)return;this.$ConversationNubTabStateClass2.modifyTabs(function(l){var m=l.findIndex(function(v){return v.tabID===j;});m!==-1||h(0);var n=l[m],o=this.$ConversationNubTabStateClass5(k),p=this.getLoadedTabs().length,q=this.getNumDockTabs();if(o<0||p===0){return l;}else if(q===0){if(o!==0){l.splice(m,1);l.unshift(n);}return l;}var r=q-1;if(o===r)return l;l.splice(m,1);if(o<r)r-=1;var s=this.getLoadedTabs()[r],t=this.getTabState(s.getTabID());t||h(0);var u=l.findIndex(function(v){return v.tabID===t.tabID;});l.splice(u,0,n);return l;}.bind(this));};i.prototype.getLoadedTabs=function(){var j=this.$ConversationNubTabStateClass2.getTabs().map(function(k){return this.getLoadedTab(k.tabID);}.bind(this)).filter(Boolean);return j;};i.prototype.getUnsortedLoadedTabs=function(){var j=Object.values(this.$ConversationNubTabStateClass1);return j;};i.prototype.getTotalTabCount=function(){return this.getUnsortedLoadedTabs().length;};i.prototype.getTabsForDockOldestFirst=function(){return this.getLoadedTabs().slice(0,this.getNumDockTabs());};i.prototype.getTabsForDockNewestFirst=function(){return this.getTabsForDockOldestFirst().slice().reverse();};i.prototype.getTabsForMenuOldestFirst=function(){return this.getLoadedTabs().slice(this.getNumDockTabs());};i.prototype.getTabsForMenuNewestFirst=function(){return this.getLoadedTabs().slice(this.getNumDockTabs()).reverse();};i.prototype.$ConversationNubTabStateClass4=function(){if(this.maxTabsLoaded!==Infinity){var j=this.getLoadedTabs().length;if(j>this.maxTabsLoaded){var k=j-this.maxTabsLoaded,l=this.getTabsForMenuOldestFirst().slice(0,k);l.map(function(m){return m.getTabID();}).forEach(function(m){return this.deleteTab(m);}.bind(this));}}};i.prototype.$ConversationNubTabStateClass5=function(j){return this.getLoadedTabs().indexOf(j);};f.exports=new i();}),null);
__d('deepFreezeValue',['ImmutableValue'],(function a(b,c,d,e,f,g){function h(i){if(i===null||i===undefined)return;switch(typeof i){case 'string':return;case 'boolean':return;case 'number':return;case 'function':return;default:c('ImmutableValue').deepFreezeRootNode(i);}}f.exports=h;}),null);
__d('PersistedStore',['invariant','EventListener','SubscriptionsHandler','UserAgent','WebStorage','areEqual','deepFreezeValue'],(function a(b,c,d,e,f,g,h){'use strict';function i(j){var k=j.initialValue,l=j.storageKeyPrefix,m=j.serializer,n=j.deserializer,o=j.onDataUpdatedOutOfBand,p=j.onDataUpdatedInOtherBrowserTab,q=j.enablePersistence,r=q===undefined?true:q;this.$PersistedStore2=null;this.$PersistedStore3=null;this.$PersistedStore5=0;this.$PersistedStore12=new (c('SubscriptionsHandler'))();if(r)this.$PersistedStore7=c('WebStorage').getLocalStorage();this.$PersistedStore1=k;this.$PersistedStore4=l;this.$PersistedStore6=l+'.PersistedStoreMetadata';this.$PersistedStore8=m;this.$PersistedStore9=n;this.$PersistedStore10=o;this.$PersistedStore11=p;if(r&&p)this.$PersistedStore14();this.reloadFromStorageIfNecessary();}i.prototype.$PersistedStore14=function(){if(c('UserAgent').isBrowser('Chrome')&&typeof BroadcastChannel==='function'){this.$PersistedStore13=new BroadcastChannel(i.BROADCAST_CHANNEL_NAME);this.$PersistedStore13.onmessage=this.$PersistedStore15.bind(this);}else this.$PersistedStore12.addSubscriptions(c('EventListener').listen(window,'storage',this.$PersistedStore16.bind(this)));};i.prototype.$PersistedStore15=function(j){this.$PersistedStore17();};i.prototype.$PersistedStore16=function(j){if(j.key===this.$PersistedStore4)this.$PersistedStore17();};i.prototype.$PersistedStore17=function(){var j=this.$PersistedStore18();if(j&&this.$PersistedStore11)this.$PersistedStore11(j);};i.prototype.$PersistedStore19=function(j){var k=JSON.stringify(this.$PersistedStore8(j));return this.$PersistedStore9(JSON.parse(k));};i.prototype.$PersistedStore20=function(){return this.$PersistedStore19(this.$PersistedStore1);};i.prototype.isPersisted=function(){return this.$PersistedStore7!=null;};i.prototype.modify=function(j){this.$PersistedStore3=null;if(!this.isPersisted()){this.$PersistedStore1=j(this.$PersistedStore1);}else if(this.$PersistedStore2){this.$PersistedStore2=j(this.$PersistedStore2);}else{var k=void 0;try{this.$PersistedStore2=this.$PersistedStore20();k=j(this.$PersistedStore2);}finally{this.$PersistedStore2=null;}if(k&&!c('areEqual')(this.$PersistedStore1,k)){this.$PersistedStore1=k;this.$PersistedStore21();}}};i.prototype.getData=function(){if(!this.isPersisted()){return this.$PersistedStore1;}else if(this.$PersistedStore3)return this.$PersistedStore3;var j=void 0;if(this.$PersistedStore2){j=this.$PersistedStore19(this.$PersistedStore2);c('deepFreezeValue')(j);}else{j=this.$PersistedStore20();c('deepFreezeValue')(j);this.$PersistedStore3=j;}return j;};i.prototype.$PersistedStore22=function(j){if(this.$PersistedStore7!=null)if(j>i.VERSION){this.$PersistedStore7=null;}else if(j<i.VERSION){this.$PersistedStore7.removeItem(this.$PersistedStore6);this.$PersistedStore7.removeItem(this.$PersistedStore4);}else return true;return false;};i.prototype.$PersistedStore23=function(){try{if(this.$PersistedStore7!=null){var j=this.$PersistedStore7.getItem(this.$PersistedStore6);if(j!=null){var k=JSON.parse(j),l=Number.parseInt(k.highWaterMark,10),m=Number.parseInt(k.version,10);if(l&&m)return {highWaterMark:l,version:m};}}}catch(n){this.$PersistedStore7=null;}return null;};i.prototype.reloadFromStorageIfNecessary=function(){if(!this.isPersisted())return;var j=this.$PersistedStore23();if(j){var k=j.highWaterMark,l=j.version;if(this.$PersistedStore22(l)&&this.$PersistedStore5<k)this.$PersistedStore24(k);}};i.prototype.$PersistedStore24=function(j){var k=this.$PersistedStore18();if(k)this.$PersistedStore25(k,j);};i.prototype.$PersistedStore18=function(){var j=null;try{if(this.$PersistedStore7){var k=this.$PersistedStore7.getItem(this.$PersistedStore4);if(k!=null)j=JSON.parse(k);}}catch(l){this.$PersistedStore7=null;}return this.$PersistedStore9(j);};i.prototype.$PersistedStore25=function(j,k){this.$PersistedStore3=null;var l=this.$PersistedStore1;this.$PersistedStore1=j;this.$PersistedStore5=k;this.$PersistedStore10(l,j);};i.prototype.$PersistedStore21=function(){this.reloadFromStorageIfNecessary();if(!this.isPersisted())return;var j=this.$PersistedStore8(this.$PersistedStore1),k=JSON.stringify(j),l={highWaterMark:++this.$PersistedStore5,version:i.VERSION},m=JSON.stringify(l);try{this.$PersistedStore7!=null||h(0);this.$PersistedStore7.setItem(this.$PersistedStore6,m);this.$PersistedStore7.setItem(this.$PersistedStore4,k);if(this.$PersistedStore13)this.$PersistedStore13.postMessage(i.BROADCAST_CHANNEL_NAME);}catch(n){this.$PersistedStore7=null;}};i.prototype.$PersistedStore26=function(){this.$PersistedStore12.release();if(this.$PersistedStore13)this.$PersistedStore13.close();};i.VERSION=24;i.BROADCAST_CHANNEL_NAME='PersistedStoreMessage-StorageUpdated';f.exports=i;}),null);
__d('filterSet',['Set'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=new (c('Set'))();for(var l=i,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var o;if(m){if(n>=l.length)break;o=l[n++];}else{n=l.next();if(n.done)break;o=n.value;}var p=o;if(j(p))k.add(p);}return k;}f.exports=h;}),null);
__d('differenceSets',['filterSet'],(function a(b,c,d,e,f,g){'use strict';function h(i){for(var j=arguments.length,k=Array(j>1?j-1:0),l=1;l<j;l++)k[l-1]=arguments[l];return c('filterSet')(i,function(m){return !k.some(function(n){return n.has(m);});});}f.exports=h;}),null);
__d('ConversationNubTabStateList',['invariant','ConversationNubUtils','PersistedStore','PinnedConversationNubsConfig','Set','URI','differenceSets'],(function a(b,c,d,e,f,g,h){'use strict';function i(){this.$ConversationNubTabStateList2=new (c('Set'))();var j=c('PinnedConversationNubsConfig').syncTabCloseEnabled?this.$ConversationNubTabStateList3.bind(this):undefined;this.$ConversationNubTabStateList1=new (c('PersistedStore'))({initialValue:[],storageKeyPrefix:'conversationNubTabState',serializer:i.serializeStateArrayToJson,deserializer:i.deserializeJsonToStateArray,onDataUpdatedOutOfBand:this.$ConversationNubTabStateList4.bind(this),onDataUpdatedInOtherBrowserTab:j,enablePersistence:c('PinnedConversationNubsConfig').persistenceEnabled});}i.prototype.modifyTabState=function(j,k){this.modifyTabs(function(l){var m=l.findIndex(function(n){return n.tabID===j;});m!==-1||h(0);k(l[m]);return l;});};i.prototype.$ConversationNubTabStateList5=function(j){return new (c('Set'))(j.map(function(k){return k.tabID;}));};i.prototype.modifyTabs=function(j){try{this.$ConversationNubTabStateList1.modify(function(k){var l=this.$ConversationNubTabStateList5(k),m=j(k),n=this.$ConversationNubTabStateList5(m);this.$ConversationNubTabStateList2=c('differenceSets')(l,n);return m;}.bind(this));}finally{this.$ConversationNubTabStateList2=new (c('Set'))();}};i.prototype.getTabs=function(){return this.$ConversationNubTabStateList1.getData();};i.prototype.getTabState=function(j){var k=this.getTabStateIfExists(j);k||h(0);return k;};i.prototype.getTabStateIfExists=function(j){return this.getTabs().find(function(k){return k.tabID===j;});};i.prototype.$ConversationNubTabStateList3=function(j){var k=this.$ConversationNubTabStateList5(this.$ConversationNubTabStateList1.getData()),l=this.$ConversationNubTabStateList2,m=this.$ConversationNubTabStateList5(j),n=c('differenceSets')(k,m,l),o=this.$ConversationNubTabStateList1.getData().filter(function(p){return n.has(p.tabID);});if(o.size)this.$ConversationNubTabStateList6(o);};i.prototype.$ConversationNubTabStateList6=function(j){j.forEach(function(k){c('ConversationNubUtils').informShouldCloseTab(k.tabID,k.ftID,c('ConversationNubUtils').CLOSE_REASON_SYNCHRONIZED_FROM_OTHER_TAB);});};i.prototype.$ConversationNubTabStateList4=function(j,k){var l=j.length!==0,m=this.$ConversationNubTabStateList2.size!==0;if(l||m)this.modifyTabs(function(n){var o=this.$ConversationNubTabStateList5(k),p=this.$ConversationNubTabStateList5(j),q=this.$ConversationNubTabStateList2,r=c('differenceSets')(o,p,q),s=k.filter(function(t){return r.has(t.tabID);});return j.concat(s);}.bind(this));};i.prototype.reloadFromStorageIfNecessary=function(){var j;(j=this.$ConversationNubTabStateList1).reloadFromStorageIfNecessary.apply(j,arguments);};i.serializeStateArrayToJson=function(j){var k=[];if(Array.isArray(j))k=j.map(i.serializeStateToJson).filter(Boolean);return k;};i.serializeStateToJson=function(j){var k=j.permalinkURI?j.permalinkURI.toString():null,l=babelHelpers['extends']({},j,{permalinkURI:k});return l;};i.deserializeJsonToStateArray=function(j){if(Array.isArray(j)){return j.map(i.deserializeJsonToState).filter(Boolean);}else return [];};i.deserializeJsonToState=function(j){if(j!=null&&typeof j.tabID==='string'&&typeof j.ftID==='string'&&typeof j.title==='string'&&typeof j.keepAtBottom==='boolean'&&typeof j.isTabRaised==='boolean'&&typeof j.isBlinkingUnread==='boolean'&&j.allSeenNewComments!=null&&j.allSeenNewComments instanceof Object&&j.unseenCommentsSinceLastCleared!=null&&j.unseenCommentsSinceLastCleared instanceof Object&&typeof j.hasFakeInitBadge==='boolean'&&typeof j.badgeCount==='number'&&(j.permalinkURI==null||typeof j.permalinkURI==='string')&&(j.notifAlertID==null||typeof j.notifAlertID==='string')&&(j.notificationType==null||typeof j.notificationType==='string')){var k=j.permalinkURI?new (c('URI'))(j.permalinkURI):null,l={tabID:j.tabID,ftID:j.ftID,notifAlertID:j.notifAlertID,notificationType:j.notificationType,title:j.title,keepAtBottom:j.keepAtBottom,isTabRaised:j.isTabRaised,isBlinkingUnread:j.isBlinkingUnread,allSeenNewComments:j.allSeenNewComments,unseenCommentsSinceLastCleared:j.unseenCommentsSinceLastCleared,hasFakeInitBadge:j.hasFakeInitBadge,badgeCount:j.badgeCount,permalinkURI:k};return l;}else return null;};i.prototype.push=function(){for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];this.modifyTabs(function(m){k.forEach(function(n){if(m.find(function(o){return o.tabID===n.tabID;})){h(0);}else m.push(n);});return m;});};i.prototype.remove=function(j){this.modifyTabs(function(k){var l=k.findIndex(function(m){return m.tabID===j;});if(l!==-1)k.splice(l,1);return k;});};f.exports=i;}),null);
__d('ConversationNubTabsUpdateEventController',['Arbiter','ConversationNubUtils'],(function a(b,c,d,e,f,g){'use strict';var h='ConversationNub/tabsUpdated',i='ConversationNub/minimizedByUser',j='ConversationNub/maximizedByUser',k=false;function l(p){if(!k)c('Arbiter').inform(h,p);}function m(p){return c('Arbiter').subscribe(h,function(q,r){k=true;p(r);k=false;});}function n(p,q){q&&c('Arbiter').inform(i,{tab:p});p.minimize();l();}function o(p,q){if(!q&&!c('ConversationNubUtils').allowProgrammaticPopOut())return;q&&c('Arbiter').inform(j,{tab:p});p.popOut();l();}f.exports={TAB_MINIMIZED_BY_USER_EVENT:i,TAB_MAXIMIZED_BY_USER_EVENT:j,informTabsUpdated:l,subscribeToTabsUpdated:m,minimizeAndInformTabUpdate:n,popOutAndInformTabUpdate:o};}),null);
__d("XConversationNubTogglePinController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ajax\/conversation\/nub_story\/toggle_pin\/",{ft_id:{type:"String"},pin:{type:"Bool",defaultValue:false},with_render:{type:"Bool",defaultValue:false},notif_setting:{type:"Enum",enumType:1}});}),null);
__d("XConversationsToggleController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ajax\/conversation\/toggle_feature\/",{turn_conversations_on:{type:"Bool",defaultValue:false}});}),null);
__d('isBusinessURI',['isFacebookURI'],(function a(b,c,d,e,f,g){'use strict';function h(i){return c('isFacebookURI')(i)&&i.getSubdomain()==='business';}f.exports=h;}),null);
__d('isCanvasAppURI',['isFacebookURI'],(function a(b,c,d,e,f,g){'use strict';function h(i){return c('isFacebookURI')(i)&&i.getSubdomain()==='apps';}f.exports=h;}),null);
__d('isGamesURI',['isFacebookURI'],(function a(b,c,d,e,f,g){'use strict';function h(i){return c('isFacebookURI')(i)&&i.getPath().startsWith('/games');}f.exports=h;}),null);
__d('ConversationNubUtils',['csx','Arbiter','AsyncFeature','AsyncRequest','ConversationNubTabState','DOM','Event','EventListener','Keys','NotificationConversationController','URI','XConversationNubTogglePinController','XConversationsToggleController','isBusinessURI','isCanvasAppURI','isGamesURI'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('ConversationNubTabState'),j={DISABLE:'disable',ENABLE:'enable'},k='ConversationNubUtils/closeTab',l='ConversationNubUtils/unpinnedFromHeader',m='ConversationNubUtils/recheckTabVisibility',n='ConversationNubUtils/openPermalinkFromHeader',o='ConversationNubUtils/turnOff',p='ConversationNubUtils/turnOn',q='tab-x-out',r='browser-tab-sync',s='overflow-x-out',t='unpin';function u(oa){var pa=Object.values(j);return pa.find(function(qa){return qa===oa;})||null;}function v(oa,pa,qa,ra){var sa=ra||{},ta=sa.notif_setting,ua=c('XConversationNubTogglePinController').getURIBuilder().setString('ft_id',String(oa)).setBool('pin',pa);if(ta&&c('AsyncFeature').__serverHasFeatureImpl(3))ua.setEnum('notif_setting',ta);var va=ua.getURI(),wa=new (c('AsyncRequest'))().setURI(va).setMethod('POST');if(qa)wa.setAllowCrossPageTransition(true);wa.send();}function w(oa){var pa=c('XConversationsToggleController').getURIBuilder().setBool('turn_conversations_on',oa).getURI();oa?na():ma();var qa=new (c('AsyncRequest'))().setURI(pa).setAllowCrossPageTransition(true).setHandler(function(ra){if(ra.getPayload().conversationsStatus){na();}else ma();}).setErrorHandler(function(ra){oa?ma():na();}).setMethod('POST');qa.send();}function x(oa,pa,qa){v(oa,true,pa,qa);}function y(oa,pa,qa){v(oa,false,pa,qa);}function z(oa,pa){x(oa,false,pa);}function aa(oa,pa){y(oa,false,pa);}function ba(oa,pa){x(oa,true,pa);}function ca(oa,pa){y(oa,true,pa);}function da(){w(false);c('NotificationConversationController').deleteAllTabs();}function ea(){w(true);}function fa(oa){return c('DOM').scry(oa,"._4iz6")[0];}function ga(oa,pa,qa){var ra=function sa(){qa();};pa.addSubscriptions(c('EventListener').listen(oa,'click',ra),c('EventListener').listen(oa,'keydown',function(sa){if(c('Event').getKeyCode(sa)===c('Keys').RETURN)ra();}));}function ha(){var oa=c('URI').getRequestURI();return !c('isCanvasAppURI')(oa)&&!c('isBusinessURI')(oa)&&!c('isGamesURI')(oa);}function ia(oa,pa,qa){var ra=i.getLoadedTab(oa);if(!ra)return;var sa=ra.getPersistentState(),ta=ra.getSessionID(),ua=ra.getPageID();c('Arbiter').inform(k,{tabID:oa,ftID:pa,tabState:sa,sessionID:ta,reason:qa,pageID:ua});}function ja(oa){var pa=i.getLoadedTab(oa);if(!pa)return;c('Arbiter').inform(l,{tab:pa});}function ka(oa){c('Arbiter').inform(m,{tab:oa});}function la(oa){var pa=i.getLoadedTab(oa);if(!pa)return;c('Arbiter').inform(n,{tab:pa});}function ma(){c('Arbiter').inform(o,{});}function na(){c('Arbiter').inform(p,{});}f.exports={CLOSE_TAB_EVENT:k,UNPIN_FROM_HEADER_EVENT:l,OPEN_PERMALINK_FROM_HEADER_EVENT:n,TURN_CONVERSATIONS_OFF_EVENT:o,TURN_CONVERSATIONS_ON_EVENT:p,CLOSE_REASON_TAB_X_OUT:q,CLOSE_REASON_SYNCHRONIZED_FROM_OTHER_TAB:r,CLOSE_REASON_OVERFLOW_X_OUT:s,CLOSE_REASON_UNPIN:t,coerceToPinRequestNotifSetting:u,sendPinRequest:z,sendUnpinRequest:aa,sendPinRequestAcrossTransitions:ba,sendUnpinRequestAcrossTransitions:ca,getCloseButtonElem:fa,addCloseButtonListeners:ga,informShouldCloseTab:ia,informDidUnpinFromHeaderMenu:ja,informShouldRecheckTabVisibility:ka,informOpenPermalinkFromHeader:la,allowProgrammaticPopOut:ha,turnConversationsOff:da,turnConversationsOn:ea};}),null);
__d('ConversationNubPermalinkUtils',['URI','isFacebookURI'],(function a(b,c,d,e,f,g){'use strict';function h(l){return l.substr(-1)==='/'?l.slice(0,-1):l;}function i(l,m){var n=l.getPath(),o=m.getPath();return h(n)===h(o);}function j(l,m,n){var o=l.getQueryData(),p=m.getQueryData(),q=o[n],r=p[n];if(q==null&&r==null)return true;return q===r;}function k(l){var m=new (c('URI'))(window.location.href);return m&&l&&c('isFacebookURI')(m)&&c('isFacebookURI')(l)&&i(m,l)&&j(m,l,'fbid')&&j(m,l,'story_fbid');}f.exports={isOnPermalink:k};}),null);
__d('Dock',['csx','Event','shield','Arbiter','ArbiterMixin','BlueBar','ChatQuietLinks','CSS','DataStore','DOM','Parent','Scroll','Style','Toggler','Vector','emptyFunction'],(function a(b,c,d,e,f,g,h){function i(){}Object.assign(i,c('ArbiterMixin'),{MIN_HEIGHT:140,INITIAL_FLYOUT_HEIGHT_OFFSET:10,init:function j(k){this.init=c('emptyFunction');this.rootEl=k;this.calculateViewportDimensions();c('ChatQuietLinks').removeEmptyHrefs(this.rootEl);c('Event').listen(k,'click',this._onClick.bind(this));c('Event').listen(window,'resize',this._onWindowResize.bind(this));c('Toggler').subscribe(['show','hide'],function(l,m){var n=m.getActive();if(!c('DOM').contains(k,n))return;if(c('CSS').hasClass(n,'fbNub')){this.notifyNub(n,l);if(l==='show')this._resizeNubFlyout(n);}else{var o=c('Parent').byClass(n,'fbNubFlyout');if(o)c('CSS').conditionClass(o,'menuOpened',l==='show');}}.bind(this));this.inform('init',{},c('Arbiter').BEHAVIOR_PERSISTENT);},calculateViewportDimensions:function j(){return this.viewportDimensions=c('Vector').getViewportDimensions();},getFlyoutHeightOffset:function j(){if(this.flyoutHeightOffset)return this.flyoutHeightOffset;this.flyoutHeightOffset=this.INITIAL_FLYOUT_HEIGHT_OFFSET+c('Vector').getElementDimensions(this.rootEl).y;var k=c('BlueBar').getBar();if(k){var l=c('Style').isFixed(k)?'viewport':'document';this.flyoutHeightOffset+=c('Vector').getElementPosition(k,l).y+c('Vector').getElementDimensions(k).y;}return this.flyoutHeightOffset;},toggle:function j(k){var l=this._findFlyout(k);if(!l)return;this.subscribe('init',function(){c('Toggler').toggle(k);});},show:function j(k){this.subscribe('init',function(){c('Toggler').show(k);});},showNub:function j(k){c('CSS').show(k);},hide:function j(k){this.subscribe('init',function(){var l=c('Toggler').getInstance(k);c('DOM').contains(k,l.getActive())&&l.hide();});},hideNub:function j(k){c('CSS').hide(k);this.hide(k);},setUseMaxHeight:function j(k,l){c('CSS').conditionClass(k,'maxHeight',l!==false);this._resizeNubFlyout(k);},_resizeNubFlyout:function j(k){var l=this._findFlyout(k);if(!l||c('CSS').hasClass(k,'placeholder')||!(c('CSS').hasClass(k,'openToggler')||c('CSS').hasClass(k,'opened')))return;var m=c('DOM').find(l,'div.fbNubFlyoutOuter'),n=c('DOM').find(m,'div.fbNubFlyoutInner'),o=c('DOM').find(n,'div.fbNubFlyoutBody'),p=c('Scroll').getTop(o),q=o.offsetHeight;c('Style').set(o,'height','auto');var r=c('Vector').getElementDimensions(l),s=c('Vector').getElementDimensions(o),t=this.getMaxFlyoutHeight(k);c('Style').set(l,'max-height',t+'px');c('Style').set(m,'max-height',t+'px');r=c('Vector').getElementDimensions(l);var u=c('Vector').getElementDimensions(n),v=u.y-s.y,w=r.y-v,x=parseInt(o.style.height||o.clientHeight,10),y=w!==x;if(r.y>v&&y)c('Style').set(o,'height',w+'px');c('CSS').removeClass(l,'swapDirection');var z=c('Vector').getElementPosition(l).x;c('CSS').conditionClass(l,'swapDirection',function(){if(z<0)return true;if(!r||!this.viewportDimensions)return false;return z+r.x>this.viewportDimensions.x;}.bind(this)());if(y&&p+q>=s.y){c('Scroll').setTop(o,o.scrollHeight);}else c('Scroll').setTop(o,p);this.notifyNub(k,'resize');},getMaxFlyoutHeight:function j(k){var l=this._findFlyout(k),m=c('Vector').getElementPosition(l,'viewport'),n=c('Vector').getElementDimensions(l);if(!this.viewportDimensions||!m)return 0;var o=Math.max(this.MIN_HEIGHT,this.viewportDimensions.y-this.getFlyoutHeightOffset())-(this.viewportDimensions.y-m.y-n.y);return Math.max(o,0);},resizeAllFlyouts:function j(){var k=this._getAllNubs(),l=k.length;while(l--)this._resizeNubFlyout(k[l]);},hideAllFlyouts:function j(){var k=this._getAllNubs(),l=k.length;while(l--)this.hide(k[l]);},_getAllNubs:function j(){var k=c('DOM').scry(this.rootEl,"div._50-v.openToggler");return k.concat(c('DOM').scry(this.rootEl,"div._50-v.opened"));},_onClick:function j(event){var k=event.getTarget(),l=c('Parent').byClass(k,'fbNub');if(l){if(c('Parent').byClass(k,'fbNubFlyoutTitlebar')){var m=c('Parent').byTag(k,'a'),n=k.nodeName=='INPUT'&&k.getAttribute('type')=='submit';if(!m&&!n){this.hide(l);return false;}}this.notifyNub(l,'click');}},_onWindowResize:function j(event){this.calculateViewportDimensions();this.resizeAllFlyouts();},_findFlyout:function j(k){return c('CSS').hasClass(k,'fbNubFlyout')?k:c('DOM').scry(k,'div.fbNubFlyout')[0]||null;},registerNubController:function j(k,l){c('DataStore').set(k,'dock:nub:controller',l);l.subscribe('nub/button/content-changed',c('shield')(this.inform,this,'resize',k));l.subscribe('nub/flyout/content-changed',c('shield')(this._resizeNubFlyout,this,k));},unregisterNubController:function j(k){c('DataStore').remove(k,'dock:nub:controller');},notifyNub:function j(k,l,m){var n=c('DataStore').get(k,'dock:nub:controller');n&&n.inform(l,m);}});f.exports=b.Dock||i;}),null);
__d('DockTabsViewportFantaTabUtils',[],(function a(b,c,d,e,f,g){'use strict';var h=269;function i(){return h+1;}function j(m){return Math.floor(m/h);}function k(m){if(!m)return null;var n=m.fantaTabModelStateGetter;return n?n():null;}function l(m){return m?m.size:0;}f.exports={getTabCountToFitWidth:j,getMinRequiredWidthForFirstFantaTab:i,getFantaTabModelFromCallbacks:k,getNumFantaTabsFromModel:l};}),null);
__d('DockTabsViewportPinnedConversationTabUtils',[],(function a(b,c,d,e,f,g){'use strict';var h=496+9+2,i=210+9+2,j=52;function k(){return h;}function l(){return i;}function m(){return j;}function n(r){return r.getIsRaised()?k():l();}function o(){return k()+j;}function p(r){var s=r||{},t=s.pinnedConvoTabStateGetter;return t?t():null;}function q(r){return r?r.getTotalTabCount():0;}f.exports={getRaisedPinnedConvoTabWidth:k,getLoweredPinnedConvoTabWidth:l,getPinnedConvoSelectorWidth:m,getPinnedConvoTabWidth:n,getMinRequiredWidthForFirstConvoTab:o,getPinnedConvoTabsStateFromCallbacks:p,getNumPinnedConvoTabsFromModel:q};}),null);
__d('DockTabsViewportCalculator',['csx','Arbiter','DataStore','Dock','DockTabsViewportFantaTabUtils','DockTabsViewportPinnedConversationTabUtils','DOM','Event','FullScreen','PinnedConversationNubsConfig','SubscriptionsHandler','Vector','ViewportBounds','ge','getViewportDimensions','setImmediate'],(function a(b,c,d,e,f,g,h){'use strict';var i=50,j=35,k=j,l='dock-tab-viewport-inst',m=c('DockTabsViewportFantaTabUtils').getMinRequiredWidthForFirstFantaTab,n=c('DockTabsViewportFantaTabUtils').getFantaTabModelFromCallbacks,o=c('DockTabsViewportFantaTabUtils').getNumFantaTabsFromModel,p=c('DockTabsViewportPinnedConversationTabUtils').getMinRequiredWidthForFirstConvoTab,q=c('DockTabsViewportPinnedConversationTabUtils').getNumPinnedConvoTabsFromModel,r=c('DockTabsViewportPinnedConversationTabUtils').getPinnedConvoTabsStateFromCallbacks;function s(u){return u?c('Vector').getElementDimensions(u).x:0;}function t(u){this.$DockTabsViewportCalculatorImpl1=u;this.$DockTabsViewportCalculatorImpl3=0;this.$DockTabsViewportCalculatorImpl4=0;this.$DockTabsViewportCalculatorImpl5=null;this.$DockTabsViewportCalculatorImpl6=null;this.$DockTabsViewportCalculatorImpl7=false;this.$DockTabsViewportCalculatorImpl8=false;this.$DockTabsViewportCalculatorImpl9=false;this.$DockTabsViewportCalculatorImpl2=new (c('SubscriptionsHandler'))();this.$DockTabsViewportCalculatorImpl10();this.$DockTabsViewportCalculatorImpl11();}t.prototype.$DockTabsViewportCalculatorImpl10=function(){var u=this.$DockTabsViewportCalculatorImpl12.bind(this);this.$DockTabsViewportCalculatorImpl2.addSubscriptions(c('Event').listen(window,'resize',u),c('Dock').subscribe('resize',u),c('Arbiter').subscribeOnce('sidebar/initialized',u,c('Arbiter').SUBSCRIBE_NEW),c('FullScreen').subscribe('changed',function(){if(c('FullScreen').isFullScreen()){this.$DockTabsViewportCalculatorImpl7=true;this.$DockTabsViewportCalculatorImpl8=false;}else{this.$DockTabsViewportCalculatorImpl7=false;if(this.$DockTabsViewportCalculatorImpl8){c('setImmediate')(function(){u();});this.$DockTabsViewportCalculatorImpl8=false;}}}.bind(this)));};t.prototype.registerFantaTabCallbacks=function(u){this.$DockTabsViewportCalculatorImpl5=u;};t.prototype.registerPinnedConvoTabCallbacks=function(u){this.$DockTabsViewportCalculatorImpl6=u;};t.prototype.forceRecalculateFBDockWidth=function(){this.$DockTabsViewportCalculatorImpl11();this.$DockTabsViewportCalculatorImpl13({forceRecalculateChatTabs:false,pinnedConvoUpdateData:null});};t.prototype.forceRecalculateChatTabs=function(){this.$DockTabsViewportCalculatorImpl13({forceRecalculateChatTabs:true,pinnedConvoUpdateData:null});};t.prototype.forceRecalculatePinnedConvoTabs=function(u){this.$DockTabsViewportCalculatorImpl13({forceRecalculateChatTabs:true,pinnedConvoUpdateData:u});};t.prototype.$DockTabsViewportCalculatorImpl12=function(){if(c('FullScreen').isFullScreen()||this.$DockTabsViewportCalculatorImpl7){this.$DockTabsViewportCalculatorImpl8=true;return;}this.forceRecalculateFBDockWidth();};t.prototype.$DockTabsViewportCalculatorImpl13=function(u){var v=u.forceRecalculateChatTabs,w=u.pinnedConvoUpdateData,x=this.$DockTabsViewportCalculatorImpl14(),y=x.chatTabAvailableWidth,z=x.pinnedConvoTabAvailableWidth;this.$DockTabsViewportCalculatorImpl15(y,!!v);this.$DockTabsViewportCalculatorImpl16(z,w);};t.prototype.$DockTabsViewportCalculatorImpl16=function(u,v){var w=this.$DockTabsViewportCalculatorImpl6||{},x=w.onAvailableWidthChanged;x&&x(u,v);};t.prototype.$DockTabsViewportCalculatorImpl15=function(u,v){var w=this.$DockTabsViewportCalculatorImpl5||{},x=w.onAvailableWidthChanged;x&&x(u);};t.prototype.$DockTabsViewportCalculatorImpl17=function(){var u=n(this.$DockTabsViewportCalculatorImpl5);return o(u);};t.prototype.$DockTabsViewportCalculatorImpl18=function(){return m();};t.prototype.$DockTabsViewportCalculatorImpl14=function(){var u=this.$DockTabsViewportCalculatorImpl3,v={chatTabAvailableWidth:u,pinnedConvoTabAvailableWidth:0},w={chatTabAvailableWidth:0,pinnedConvoTabAvailableWidth:u},x=this.$DockTabsViewportCalculatorImpl17(),y=r(this.$DockTabsViewportCalculatorImpl6),z=q(y);if(!y||z===0){return v;}else if(x===0)return w;var aa=this.$DockTabsViewportCalculatorImpl18();if(u<=aa)return v;var ba=p(),ca=u-aa,da=0;if(ca<ba){if(c('PinnedConversationNubsConfig').chatTabTypingPriority&&y&&(y.anyTabHasText()||y.anyTabHasFocus())){return w;}else return v;}else da=ba;var ea=da,fa=Math.max(aa,u-da);return {chatTabAvailableWidth:fa,pinnedConvoTabAvailableWidth:ea};};t.prototype.$DockTabsViewportCalculatorImpl11=function(){this.$DockTabsViewportCalculatorImpl3=this.$DockTabsViewportCalculatorImpl19();this.$DockTabsViewportCalculatorImpl20('DockTabsViewportCalculator/recalcTotalDock_FOR_TEST_ONLY');};t.prototype.$DockTabsViewportCalculatorImpl21=function(){var u=this.$DockTabsViewportCalculatorImpl1;if(!u)return {buddyListNubWidth:0,employeeNubsWidth:0};var v=s(u),w=s(c('DOM').find(u,"._56ox")),x=s(c('DOM').scry(u,"._56oy")[0]),y=s(c('DOM').scry(u,"._ph1")[0]),z=Math.max(v-w-x-y,0);return {buddyListNubWidth:w,employeeNubsWidth:z};};t.prototype.$DockTabsViewportCalculatorImpl19=function(){var u=c('getViewportDimensions').withoutScrollbars().width;u-=c('ViewportBounds').getLeft()+c('ViewportBounds').getRight();u-=i;var v=this.$DockTabsViewportCalculatorImpl21(),w=v.buddyListNubWidth,x=v.employeeNubsWidth;u-=w;this.$DockTabsViewportCalculatorImpl4=Math.max(this.$DockTabsViewportCalculatorImpl4,x);u-=this.$DockTabsViewportCalculatorImpl4;u-=k;return Math.max(u,0);};t.prototype.enableTestInforms_FOR_TEST_ONLY=function(){this.$DockTabsViewportCalculatorImpl9=true;};t.prototype.$DockTabsViewportCalculatorImpl20=function(u){if(this.$DockTabsViewportCalculatorImpl9)c('Arbiter').inform(u);};t.prototype.getChatTabAvailableDockWidth_FOR_TEST_ONLY=function(){return this.$DockTabsViewportCalculatorImpl14().chatTabAvailableWidth;};t.prototype.getPinnedConvoTabAvailableDockWidth_FOR_TEST_ONLY=function(){return this.$DockTabsViewportCalculatorImpl14().pinnedConvoTabAvailableWidth;};t.prototype.getAvailableTotalWidth_FOR_TEST_ONLY=function(){return this.$DockTabsViewportCalculatorImpl3;};f.exports={getInstance:function u(v){var w=c('ge')('pagelet_dock');if(!w||!c('DOM').contains(w,v))return null;var x=c('DataStore').get(w,l);if(x instanceof t)return x;var y=c('DOM').scry(w,'.fbDockWrapperRight .fbDock')[0];x=new t(y);c('DataStore').set(w,l,x);return x;}};}),null);
__d('ConversationNubViewportManager',['DockTabsViewportCalculator','DockTabsViewportPinnedConversationTabUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('DockTabsViewportPinnedConversationTabUtils').getMinRequiredWidthForFirstConvoTab;function i(j,k,l){this.$ConversationNubViewportManager1=j;this.$ConversationNubViewportManager3=k;this.$ConversationNubViewportManager2=c('DockTabsViewportCalculator').getInstance(this.$ConversationNubViewportManager1);this.$ConversationNubViewportManager2&&this.$ConversationNubViewportManager2.registerPinnedConvoTabCallbacks(babelHelpers['extends']({},l,{pinnedConvoTabStateGetter:function(){return this.$ConversationNubViewportManager3;}.bind(this)}));}i.prototype.getNumDockTabsToShow=function(j){return this.getCouldFitAtLeastOneDockTab(j)?1:0;};i.prototype.getCouldFitAtLeastOneDockTab=function(j){var k=h();return k<=j;};i.prototype.forceRecalculatePinnedConvoTabs=function(j){this.$ConversationNubViewportManager2&&this.$ConversationNubViewportManager2.forceRecalculatePinnedConvoTabs(j);};f.exports=i;}),null);
__d('ConversationNubVisibilityDedupeUtils',['Bootloader','emptyFunction','ifRequired'],(function a(b,c,d,e,f,g){'use strict';function h(j){c('Bootloader').loadModules(["UFICommentVisibilityStore"],j,'ConversationNubVisibilityDedupeUtils');}function i(j){return c('ifRequired')('UFICommentVisibilityStore',function(k){return k.isFeedbackTargetVisible(j);},c('emptyFunction').thatReturnsFalse);}f.exports={bootloadUFIVisibilityModule:h,isFeedbackTargetVisible:i};}),null);
__d("XNotificationNubStoryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/conversation\/nub_story\/",{notif_alert_id:{type:"String"},notif_id:{type:"Int"},ft_id:{type:"String"},force_minimized:{type:"Bool",defaultValue:false}});}),null);
__d('NotificationConversationController',['csx','cx','Arbiter','AsyncRequest','Bootloader','ConversationNub','ConversationNubActionTakenReporter','ConversationNubAddTabSource','ConversationNubPermalinkUtils','ConversationNubTabState','ConversationNubTabsUpdateEventController','ConversationNubUtils','ConversationNubViewportManager','ConversationNubVisibilityDedupeUtils','CSS','DOM','PinnedConversationNubsConfig','SubscriptionsHandler','URI','XNotificationNubStoryController','ge','ifRequired'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('ConversationNubVisibilityDedupeUtils').isFeedbackTargetVisible,k=1,l=c('ConversationNubTabState'),m=Object.create(null),n=null,o=null,p=null,q=null,r=null,s=null,t=false,u=null,v=null,w=null,x=null,y=Object.create(null);function z(){if(!o)o=c('DOM').scry(c('ge')('pagelet_dock'),"._1mw-")[0];return o;}function aa(){if(!p){var da=z();if(da)p=c('DOM').scry(da,"._1tvj")[0];}return p;}function ba(){if(!q){var da=z();if(da)q=c('DOM').scry(da,"._2ikx .fbNubButton")[0];}return q;}ca.prototype.init=function(){if(t)return;t=true;var da=new (c('SubscriptionsHandler'))();da.addSubscriptions(c('ConversationNubTabsUpdateEventController').subscribeToTabsUpdated(this.$NotificationConversationController2.bind(this)),c('Arbiter').subscribe(c('ConversationNubUtils').CLOSE_TAB_EVENT,function(ea,fa){var ga=fa||{},ha=ga.tabID;if(ha)this.$NotificationConversationController3(ha);}.bind(this)));this.$NotificationConversationController1=new (c('ConversationNubActionTakenReporter'))();u=da;};ca.prototype.handleAllEndpointNotifications=function(da){this.init();var ea=da.filter(function(fa){return fa.seen_state==='UNSEEN_AND_UNREAD';});this.handleNewNotifications(ea,c('ConversationNubAddTabSource').UNSEEN_NOTIFICATION);};ca.prototype.$NotificationConversationController4=function(da){var ea=n?n.getNumDockTabsToShow(da):k;l.setMaxDockTabs(ea);};ca.prototype.$NotificationConversationController5=function(da,ea){this.$NotificationConversationController4(da);if(ea){var fa=ea.tabToPromote,ga=ea.tabToOpenIfInDock;if(fa&&!l.isTabInDock(fa.getTabID()))l.moveTabToDockLeft(fa.getTabID());if(c('ConversationNubUtils').allowProgrammaticPopOut()&&ga&&l.isTabInDock(ga.getTabID()))ga.popOut();}this.$NotificationConversationController6(da);};ca.prototype.$NotificationConversationController2=function(da){n&&n.forceRecalculatePinnedConvoTabs(da);};ca.prototype.$NotificationConversationController6=function(da){var ea=l.getTotalTabCount(),fa=l.getNumDockTabs(),ga=n?n.getCouldFitAtLeastOneDockTab(da):false,ha=ea>0&&ga,ia=fa<ea&&ha,ja=z();if(ja){c('CSS').conditionClass(ja,"_1tvf",ha);c('CSS').conditionClass(ja,"_1dex",ia);c('CSS').conditionClass(ja,"_1tvi",ia);}var ka=c('PinnedConversationNubsConfig').pinnedToLeft?l.getTabsForDockOldestFirst():l.getTabsForDockNewestFirst();ka.forEach(function(ma){if(ma.getIsRaised())ma.clearBadge();});var la=l.getTabsForMenuNewestFirst();this.$NotificationConversationController7(ka);this.$NotificationConversationController8(la);};ca.prototype.handleNotificationsRead=function(da){this.init();l.getUnsortedLoadedTabs().forEach(function(fa){var ga=fa.getNotificationAlertID();if(ga&&da[ga])fa.clearBadge();});l.getUnloadedTabs().forEach(function(fa){if(fa.notifAlertID&&da[fa.notifAlertID])l.clearTabNotifications(fa.tabID);});var ea=l.getTabsForMenuNewestFirst();this.$NotificationConversationController8(ea);};ca.prototype.handleNewNotifications=function(da,ea){this.init();da.forEach(function(fa){var ga=fa.alert_id,ha=fa.pinnedConvoConfig,ia=fa.tracking,ja=fa.notif_type;if(!ha)return;var ka=ha.tab_id,la=ha.ft_id,ma=ha.permalink_uri,na=JSON.parse(ia),oa=ma?new (c('URI'))(ma):null;this.$NotificationConversationController9(ka,na.alert_id,la,ga,oa,ea,ja);}.bind(this));};ca.prototype.$NotificationConversationController9=function(da,ea,fa,ga,ha,ia,ja){var ka=c('XNotificationNubStoryController').getURIBuilder().setString('notif_alert_id',ga).setInt('notif_id',ea);this.$NotificationConversationController10(fa,ia);this.$NotificationConversationController11(da,fa,ja,ha,ka);};ca.prototype.$NotificationConversationController10=function(da,ea){if(!y[da])y[da]=ea;};ca.prototype.requestPersistedStory=function(da,ea,fa,ga){this.$NotificationConversationController10(ea,ga);var ha=c('XNotificationNubStoryController').getURIBuilder().setString('ft_id',ea);this.$NotificationConversationController11(da,ea,null,fa,ha);};ca.prototype.$NotificationConversationController11=function(da,ea,fa,ga,ha){if(m[da])return;var ia=l.getLoadedTab(da);if(ia){if(fa)ia.setNotificationType(fa);return;}if(c('ConversationNubPermalinkUtils').isOnPermalink(ga)||j(ea))ha.setBool('force_minimized',true);m[da]=true;new (c('AsyncRequest'))().setURI(ha.getURI()).setAllowCrossPageTransition(true).setFinallyHandler(function(){delete m[da];}).send();};ca.prototype.$NotificationConversationController12=function(da){var ea=true;l.getUnsortedLoadedTabs().forEach(function(fa){var ga=fa.getFeedbackTargetID(),ha=da[ga],ia=ha?Object.keys(ha):[];if(ia.length){var ja=fa.getBadgeCount();if(j(ga)){fa.markCommentsAsSeenWithoutBadging(ia);fa.clearBadge();}else fa.attemptAddNewCommentsToBadge(ia);var ka=fa.getBadgeCount();if(ja!==ka)ea=true;}});if(ea)c('ConversationNubTabsUpdateEventController').informTabsUpdated();};ca.prototype.$NotificationConversationController13=function(da){if(x)return;c('Bootloader').loadModules(["ConversationNubSurveys"],function(ea){if(!x)x=new ea(da);},'NotificationConversationController');};ca.prototype.$NotificationConversationController14=function(da,ea,fa){if(w){w.addTab(da,fa);delete y[da.getPersistentState().ftID];return;}c('Bootloader').loadModules(["ConversationNubLogger"],function(ga){if(!w)w=new ga(ea);w.addTab(da,fa);delete y[da.getPersistentState().ftID];},'NotificationConversationController');};ca.prototype.$NotificationConversationController15=function(){if(v)return;c('Bootloader').loadModules(["ConversationNubUFICentralUpdateManager"],function(da){if(v)return;v=new da(this.$NotificationConversationController12.bind(this));}.bind(this),'NotificationConversationController');};ca.prototype.$NotificationConversationController7=function(da){var ea=aa();if(!ea)return;c('Bootloader').loadModules(["React","ReactDOM","ConversationNubDockedTabGroup.react"],function(fa,ga,ha){s=ga.render(fa.createElement(ha,{dockTabs:da}),ea);},'NotificationConversationController');};ca.prototype.$NotificationConversationController16=function(da){da.popOut();c('ConversationNubTabsUpdateEventController').informTabsUpdated({tabToPromote:da});};ca.prototype.$NotificationConversationController8=function(da){var ea=ba();if(!ea)return;c('Bootloader').loadModules(["React","ReactDOM","ConversationNubCollapsedSelectorMenu.react"],function(fa,ga,ha){r=ga.render(fa.createElement(ha,{menuTabs:da,onTabSelected:this.$NotificationConversationController16}),ea);}.bind(this),'NotificationConversationController');};ca.prototype.$NotificationConversationController17=function(){if(!n){var da=z();if(da){var ea={onAvailableWidthChanged:this.$NotificationConversationController5.bind(this)};n=new (c('ConversationNubViewportManager'))(da,l,ea);}}};ca.prototype.storyFromServer=function(da,ea){if(!t)this.init();var fa=ea.attempt_open_on_init,ga=ea.ft_id,ha=ea.init_without_badge,ia=ea.notif_alert_id,ja=ea.notification_type,ka=ea.permalink_uri,la=ea.promote_on_init,ma=ea.tab_add_source,na=ea.tab_id,oa=ea.title,pa=ea.should_show_intro_nux,qa=ea.should_show_hide_nux,ra=ea.page_id,sa=l.getLoadedTab(na);if(sa){if(la||fa)c('ConversationNubTabsUpdateEventController').informTabsUpdated({tabToPromote:la?sa:null,tabToOpenIfInDock:fa?sa:null});return;}ha=ha||j(ga);var ta=l.getTabStateIfExists(na);if(ta){ha=null;}else{var ua=c('ConversationNub').createDefaultState(na,ka,ga,ia,ja,oa);l.addTabState(ua);}var va=new (c('ConversationNub'))(da,na,ha,ra,Boolean(pa),Boolean(qa));l.addLoadedTab(na,va);fa=fa||va.getPersistentState().isTabRaised;this.$NotificationConversationController15();this.$NotificationConversationController17();c('ConversationNubTabsUpdateEventController').informTabsUpdated({tabToPromote:la?va:null,tabToOpenIfInDock:fa?va:null});this.$NotificationConversationController13(l);var wa=y[ga]||ma||'unknown';this.$NotificationConversationController14(va,l,wa);};ca.prototype.deleteAllTabs=function(){l.deleteAllTabs();c('ConversationNubTabsUpdateEventController').informTabsUpdated();};ca.prototype.$NotificationConversationController3=function(da){var ea=l.deleteTab(da);if(ea)c('ConversationNubTabsUpdateEventController').informTabsUpdated();};ca.prototype.unsubscribe=function(){u&&u.release();u=null;w&&w.destroy();w=null;x&&x.destroy();x=null;v&&v.destroy();v=null;this.$NotificationConversationController1.destroy();c('ifRequired')('ReactDOM',function(da){var ea=ba();if(r&&ea)da.unmountComponentAtNode(ea);var fa=aa();if(s&&fa)da.unmountComponentAtNode(fa);});};function ca(){}f.exports=new ca();}),null);
__d('ChatSidebarDropdownConstants',[],(function a(b,c,d,e,f,g){var h={SOUND:'sound',ADVANCED_SETTINGS:'advanced_settings',BLOCK_SETTINGS:'block_settings',TURN_OFF_DIALOG:'turn_off_dialog',CLOSE_ALL_TABS:'close_all_tabs',LOWER_ALL_TABS:'lower_all_tabs',SIDEBAR:'sidebar',HIDE_GROUPS:'hide_groups',ONLINE:'online',VIDEOCALL_ON:'videoon',VIDEOCALL_OFF:'videooff',PAUSE:'pause',SHOW_APPS:'show_apps',HIDE_APPS:'hide_apps',SHOW_TICKER:'show_ticker',HIDE_TICKER:'hide_ticker',HIDE_ADMINED_PAGES:'hide_admined_pages',EMOJI_SETTINGS:'emoji_settings'};f.exports=h;}),null);
__d('TrackingNodes',['DataAttributeUtils','TrackingNodeTypes'],(function a(b,c,d,e,f,g){var h={types:c('TrackingNodeTypes'),BASE_CODE_START:58,BASE_CODE_END:126,BASE_CODE_SIZE:69,PREFIX_CODE_START:42,PREFIX_CODE_END:47,PREFIX_CODE_SIZE:6,TN_URL_PARAM:'__tn__',encodeTN:function i(j,k){var l=(j-1)%h.BASE_CODE_SIZE,m=parseInt((j-1)/h.BASE_CODE_SIZE,10);if(j<1||m>h.PREFIX_CODE_SIZE)throw Error('Invalid tracking node: '+j);var n="";if(m>0)n+=String.fromCharCode(m-1+h.PREFIX_CODE_START);n+=String.fromCharCode(l+h.BASE_CODE_START);if(typeof k!="undefined"&&k>0)n+=String.fromCharCode(48+Math.min(k,10)-1);return n;},decodeTN:function i(j){if(j.length===0)return [0];var k=j.charCodeAt(0),l=1,m,n;if(k>=h.PREFIX_CODE_START&&k<=h.PREFIX_CODE_END){if(j.length==1)return [0];n=k-h.PREFIX_CODE_START+1;m=j.charCodeAt(1);l=2;}else{n=0;m=k;}if(m<h.BASE_CODE_START||m>h.BASE_CODE_END)return [0];var o=n*h.BASE_CODE_SIZE+(m-h.BASE_CODE_START)+1;if(j.length>l&&j.charAt(l)>='0'&&j.charAt(l)<='9')return [l+1,[o,parseInt(j.charAt(l),10)+1]];return [l,[o]];},parseTrackingNodeString:function i(j){var k=[];while(j.length>0){var l=h.decodeTN(j);if(l.length==1)return [];k.push(l[1]);j=j.substring(l[0]);}return k;},getTrackingInfo:function i(j,k){return '{"tn":"'+h.encodeTN(j,k)+'"}';},addDataAttribute:function i(j,k,l){if(k===undefined)return;['data-ft','data-gt'].forEach(function(m){var n;if(j.getAttribute){n=c('DataAttributeUtils').getDataAttribute(j,m)||"{}";}else if(j.props){n=j.props[m]||"{}";}else return;var o=h.encodeTN(k,l);try{n=JSON.parse(n);if(n.tn&&n.tn===o)return;n.tn=o;if(j.setAttribute){j.setAttribute(m,JSON.stringify(n));}else if(j.props){j.props[m]=JSON.stringify(n);}else return;}catch(p){}});}};f.exports=h;}),null);
__d("XChatEmojiSettingsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/chat\/emoji_settings\/",{__asyncDialog:{type:"Int"}});}),null);
__d('ChatSidebarDropdown.react',['cx','fbt','AppsDivebarDisplayController','Arbiter','AsyncRequest','ChatConfig','ChatOptions','ChatSidebarDropdownConstants','ChatVisibility','ContextualDialogArrow','ContextualLayerAutoFlip','ConversationNubUtils','CurrentUser','FantaTabActions','FBRTCCallBlockingStore','FBRTCSupport','LayerHideOnBlur','Link.react','LogHistory','MenuSeparator.react','PinnedConversationNubsConfig','PopoverMenu.react','PresencePrivacy','PresenceState','React','ReactXUIMenu','SidebarType','SubscriptionsHandler','TrackingNodes','URI','XChatEmojiSettingsController','emptyFunction','ge','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('ReactXUIMenu').SelectableItem,m=c('ReactXUIMenu').SelectableMenu,n=c('ReactXUIMenu').Item,o=c('React').PropTypes,p=c('LogHistory').getInstance('blackbird');j=babelHelpers.inherits(q,c('React').PureComponent);k=j&&j.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.$ChatSidebarDropdown6=function(w,x){var y=x.item.getValue(),z=x.item.isSelected&&x.item.isSelected();this.$ChatSidebarDropdown5(y,!!z);}.bind(this),this.state={appsVisible:c('AppsDivebarDisplayController').isVisible(),isConversationsEnabled:c('PinnedConversationNubsConfig').isEnabled,isOnline:c('ChatVisibility').isOnline(),isTickerVisible:this.$ChatSidebarDropdown2(),isCallBlocked:c('FBRTCCallBlockingStore').getBlockingStatus(),pendingChange:false},s;}q.prototype.componentDidMount=function(){this.$ChatSidebarDropdown1=new (c('SubscriptionsHandler'))();this.$ChatSidebarDropdown1.addSubscriptions(c('Arbiter').subscribe(['Ticker/resized','ticker/show'],function(){this.setState({isTickerVisible:this.$ChatSidebarDropdown2()});}.bind(this)),c('Arbiter').subscribe(['AppsDivebar/show-apps','AppsDivebar/hide-apps'],function(){this.setState({appsVisible:c('AppsDivebarDisplayController').isVisible()});}.bind(this)),c('PresencePrivacy').subscribe('privacy-user-presence-changed',function(){this.setState({isOnline:c('ChatVisibility').isOnline()});}.bind(this)),c('Arbiter').subscribe('buddylist/hide',function(){this.refs.menu.hidePopover();}.bind(this)),c('Arbiter').subscribe('sidebar/visibility',function(r,s){if(!s)this.refs.menu.hidePopover();}.bind(this)),c('FBRTCCallBlockingStore').addListener(function(){this.setState({isCallBlocked:c('FBRTCCallBlockingStore').getBlockingStatus()});}.bind(this)));if(c('PinnedConversationNubsConfig').userSettingsIsEnabled)this.$ChatSidebarDropdown1.addSubscriptions(c('Arbiter').subscribe(c('ConversationNubUtils').TURN_CONVERSATIONS_OFF_EVENT,function(){this.setState({isConversationsEnabled:false});}.bind(this)),c('Arbiter').subscribe(c('ConversationNubUtils').TURN_CONVERSATIONS_ON_EVENT,function(){this.setState({isConversationsEnabled:true});}.bind(this)));};q.prototype.componentWillUnmount=function(){this.$ChatSidebarDropdown1&&this.$ChatSidebarDropdown1.release();};q.prototype.$ChatSidebarDropdown2=function(){var r=c('ge')('pagelet_ticker');return !!(r&&r.offsetHeight!==0);};q.prototype.$ChatSidebarDropdown3=function(r,s){var t=s?'sidebar_dropdown_visibility_error':'sidebar_dropdown_set_visibility';p.debug(t,JSON.stringify({action:r}));};q.prototype.$ChatSidebarDropdown4=function(r,s){if(this.state.pendingChange)return;this.setState({pendingChange:true});var t={};t[r]=!s;c('ChatOptions').setSetting(r,!s,'mini_sidebar_menu');new (c('AsyncRequest'))('/ajax/chat/settings.php').setHandler(c('PresenceState').doSync).setErrorHandler(function(){return c('ChatOptions').setSetting(r,s,'mini_sidebar_menu_error');}).setFinallyHandler(function(){return this.setState({pendingChange:false});}.bind(this)).setData(t).setAllowCrossPageTransition(true).send();};q.prototype.$ChatSidebarDropdown5=function(r,s){var t=true;switch(r){case c('ChatSidebarDropdownConstants').SOUND:this.$ChatSidebarDropdown4(r,s);break;case c('ChatSidebarDropdownConstants').ADVANCED_SETTINGS:case c('ChatSidebarDropdownConstants').TURN_OFF_DIALOG:this.$ChatSidebarDropdown3(r,false);break;case c('ChatSidebarDropdownConstants').LOWER_ALL_TABS:c('FantaTabActions').minimizeAllTabs();break;case c('ChatSidebarDropdownConstants').CLOSE_ALL_TABS:c('FantaTabActions').closeAllTabs();this.$ChatSidebarDropdown3(r,false);break;case c('ChatSidebarDropdownConstants').HIDE_GROUPS:this.$ChatSidebarDropdown4(r,s);break;case c('ChatSidebarDropdownConstants').SIDEBAR:this.props.onToggleSidebar();t=false;break;case c('ChatSidebarDropdownConstants').ONLINE:!this.state.isOnline?c('ChatVisibility').goOnline():this.$ChatSidebarDropdown3(r,true);break;case c('ChatSidebarDropdownConstants').VIDEOCALL_ON:c('FBRTCCallBlockingStore').turnOnVideoCalling();break;case c('ChatSidebarDropdownConstants').VIDEOCALL_OFF:break;case c('ChatSidebarDropdownConstants').PAUSE:break;case c('ChatSidebarDropdownConstants').SHOW_TICKER:c('Arbiter').inform('ChatSidebarDropdown/openTicker');break;case c('ChatSidebarDropdownConstants').HIDE_TICKER:c('Arbiter').inform('ChatSidebarDropdown/closeTicker');break;case c('ConversationNubUtils').TURN_CONVERSATIONS_OFF_EVENT:c('ConversationNubUtils').turnConversationsOff();break;case c('ConversationNubUtils').TURN_CONVERSATIONS_ON_EVENT:c('ConversationNubUtils').turnConversationsOn();break;case c('ChatSidebarDropdownConstants').SHOW_APPS:c('AppsDivebarDisplayController').showApps();break;case c('ChatSidebarDropdownConstants').HIDE_APPS:c('AppsDivebarDisplayController').hideApps();break;case c('ChatSidebarDropdownConstants').HIDE_ADMINED_PAGES:this.$ChatSidebarDropdown4(r,s);break;}if(t&&this.refs.menu)this.refs.menu.hidePopover();};q.prototype.$ChatSidebarDropdown7=function(){return c('React').createElement(l,{value:c('ChatSidebarDropdownConstants').SOUND,selected:c('ChatOptions').getSetting(c('ChatSidebarDropdownConstants').SOUND)},i._("Chat Sounds"));};q.prototype.$ChatSidebarDropdown8=function(){if(!c('ChatConfig').get('messenger_new_emoji_set'))return null;var r=c('XChatEmojiSettingsController').getURIBuilder().getURI();return c('React').createElement(n,{href:r,rel:'dialog',value:c('ChatSidebarDropdownConstants').EMOJI_SETTINGS},i._("Emoji"));};q.prototype.$ChatSidebarDropdown9=function(){if(c('CurrentUser').isWorkUser())return null;return c('React').createElement(n,{href:new (c('URI'))('/settings?tab=blocking'),value:c('ChatSidebarDropdownConstants').BLOCK_SETTINGS},i._("Block Settings"));};q.prototype.$ChatSidebarDropdown10=function(){return c('React').createElement(n,{href:new (c('URI'))('/ajax/chat/privacy/settings_dialog.php'),rel:'dialog',value:c('ChatSidebarDropdownConstants').ADVANCED_SETTINGS},i._("Advanced Settings..."));};q.prototype.$ChatSidebarDropdown11=function(){return c('React').createElement(n,{value:c('ChatSidebarDropdownConstants').LOWER_ALL_TABS},i._("Collapse All Chat Tabs"));};q.prototype.$ChatSidebarDropdown12=function(){return c('React').createElement(n,{value:c('ChatSidebarDropdownConstants').CLOSE_ALL_TABS},i._("Close All Chat Tabs"));};q.prototype.$ChatSidebarDropdown13=function(){return c('React').createElement(n,{className:"_4kqp",value:c('ChatSidebarDropdownConstants').SIDEBAR},i._("Hide Sidebar"));};q.prototype.$ChatSidebarDropdown14=function(){if(this.props.sidebarType===c('SidebarType').BUDDYLIST_NUB||!c('ChatConfig').get('show_admined_pages'))return null;return c('React').createElement(l,{className:"_4kqp",value:c('ChatSidebarDropdownConstants').HIDE_ADMINED_PAGES,selected:c('ChatOptions').getSetting(c('ChatSidebarDropdownConstants').HIDE_ADMINED_PAGES)},i._("Hide Pages"));};q.prototype.$ChatSidebarDropdown15=function(){if(this.props.sidebarType===c('SidebarType').BUDDYLIST_NUB)return null;return c('React').createElement(l,{value:c('ChatSidebarDropdownConstants').HIDE_GROUPS,selected:c('ChatOptions').getSetting(c('ChatSidebarDropdownConstants').HIDE_GROUPS)},i._("Hide Groups"));};q.prototype.$ChatSidebarDropdown16=function(){var r=c('ChatVisibility').isOnline(),s=r?new (c('URI'))('/ajax/chat/privacy/settings_dialog.php').addQueryData('dialog_type','turn_off_dialog'):'#',t=r?i._("Turn Off Chat"):i._("Turn On Chat"),u=r?c('ChatSidebarDropdownConstants').TURN_OFF_DIALOG:c('ChatSidebarDropdownConstants').ONLINE;return c('React').createElement(n,{href:s,rel:r?'dialog':'',value:u},t);};q.prototype.$ChatSidebarDropdown17=function(){if(!c('FBRTCSupport').isVideoCallBlockingSupported())return;var r=this.state.isCallBlocked,s=r?'#':new (c('URI'))('/videocall/off/'),t=r?i._("Turn On Video\/Voice Calls"):i._("Turn Off Video\/Voice Calls"),u=r?c('ChatSidebarDropdownConstants').VIDEOCALL_ON:c('ChatSidebarDropdownConstants').VIDEOCALL_OFF;return c('React').createElement(n,{href:s,rel:r?'':'dialog',value:u},t);};q.prototype.$ChatSidebarDropdown18=function(){if(!c('PinnedConversationNubsConfig').userSettingsIsEnabled)return null;var r=this.state.isConversationsEnabled,s=r?i._("Turn Off Post Tabs"):i._("Turn On Post Tabs"),t=r?c('ConversationNubUtils').TURN_CONVERSATIONS_OFF_EVENT:c('ConversationNubUtils').TURN_CONVERSATIONS_ON_EVENT;return c('React').createElement(n,{value:t},s);};q.prototype.$ChatSidebarDropdown19=function(){if(!c('ChatConfig').get('has_apps_option')||this.props.sidebarType!==c('SidebarType').SIDEBAR)return null;var r=this.state.appsVisible,s=r?i._("Hide Games"):i._("Show Games"),t=r?c('ChatSidebarDropdownConstants').HIDE_APPS:c('ChatSidebarDropdownConstants').SHOW_APPS;return [c('React').createElement(c('MenuSeparator.react'),{key:'apps_separator'}),c('React').createElement(n,{value:t,key:'apps_menu'},s)];};q.prototype.$ChatSidebarDropdown20=function(){if(!c('ChatConfig').get('has_ticker_toggle_option')||this.props.sidebarType!==c('SidebarType').SIDEBAR)return null;var r=this.state.isTickerVisible,s=r?i._("Hide Ticker"):i._("Show Ticker"),t=r?c('ChatSidebarDropdownConstants').HIDE_TICKER:c('ChatSidebarDropdownConstants').SHOW_TICKER;return [c('React').createElement(c('MenuSeparator.react'),{key:'ticker_separator'}),c('React').createElement(n,{value:t,key:'ticker_menu'},s)];};q.prototype.$ChatSidebarDropdown21=function(){return c('React').createElement(m,{className:'fbChatSidebarDropdown/PopoverMenu',multiple:true,onItemClick:this.$ChatSidebarDropdown6},this.$ChatSidebarDropdown7(),this.$ChatSidebarDropdown8(),this.$ChatSidebarDropdown9(),this.$ChatSidebarDropdown10(),c('React').createElement(c('MenuSeparator.react'),null),this.$ChatSidebarDropdown11(),this.$ChatSidebarDropdown12(),this.$ChatSidebarDropdown13(),this.$ChatSidebarDropdown14(),this.$ChatSidebarDropdown15(),this.$ChatSidebarDropdown16(),this.$ChatSidebarDropdown17(),this.$ChatSidebarDropdown18(),this.$ChatSidebarDropdown19(),this.$ChatSidebarDropdown20());};q.prototype.render=function(){var r=i._("Options"),s=c('joinClasses')(this.props.className,"_5qth"+(' '+"_5vm9")+(!c('ChatVisibility').isOnline()?' '+"_5vma":'')),t=c('TrackingNodes').getTrackingInfo(c('TrackingNodes').types.DROPDOWN_BUTTON);return c('React').createElement(c('PopoverMenu.react'),{alignh:'right',alignv:'top',className:s,layerBehaviors:[c('ContextualLayerAutoFlip'),c('ContextualDialogArrow'),c('LayerHideOnBlur')],menu:this.$ChatSidebarDropdown21(),onHide:this.props.onHide,onShow:this.props.onShow,ref:'menu'},c('React').createElement(c('Link.react'),{'aria-label':r,className:"_5vmb button",'data-ft':t,'data-hover':'tooltip','data-tooltip-content':r,'data-tooltip-position':'below',href:'#'}));};q.propTypes={className:o.string,onHide:o.func,onShow:o.func,onToggleSidebar:o.func.isRequired,sidebarType:o.string.isRequired};q.defaultProps={className:'',onHide:c('emptyFunction'),onShow:c('emptyFunction')};f.exports=q;}),null);